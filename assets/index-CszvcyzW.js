(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ik(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ky={exports:{}},Xc={};var v_;function tR(){if(v_)return Xc;v_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:s,key:l,ref:i!==void 0?i:null,props:a}}return Xc.Fragment=e,Xc.jsx=n,Xc.jsxs=n,Xc}var b_;function nR(){return b_||(b_=1,ky.exports=tR()),ky.exports}var d=nR(),Oy={exports:{}},Ke={};var x_;function sR(){if(x_)return Ke;x_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function k(A,R,V){this.props=A,this.context=R,this.refs=_,this.updater=V||b}k.prototype.isReactComponent={},k.prototype.setState=function(A,R){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,R,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=k.prototype;function L(A,R,V){this.props=A,this.context=R,this.refs=_,this.updater=V||b}var O=L.prototype=new j;O.constructor=L,C(O,k.prototype),O.isPureReactComponent=!0;var E=Array.isArray;function M(){}var T={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function P(A,R,V){var ee=V.ref;return{$$typeof:t,type:A,key:R,ref:ee!==void 0?ee:null,props:V}}function z(A,R){return P(A.type,R,A.props)}function G(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function q(A){var R={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return R[V]})}var K=/\/+/g;function re(A,R){return typeof A=="object"&&A!==null&&A.key!=null?q(""+A.key):R.toString(36)}function ce(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(M,M):(A.status="pending",A.then(function(R){A.status==="pending"&&(A.status="fulfilled",A.value=R)},function(R){A.status==="pending"&&(A.status="rejected",A.reason=R)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function B(A,R,V,ee,Y){var je=typeof A;(je==="undefined"||je==="boolean")&&(A=null);var Te=!1;if(A===null)Te=!0;else switch(je){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(A.$$typeof){case t:case e:Te=!0;break;case m:return Te=A._init,B(Te(A._payload),R,V,ee,Y)}}if(Te)return Y=Y(A),Te=ee===""?"."+re(A,0):ee,E(Y)?(V="",Te!=null&&(V=Te.replace(K,"$&/")+"/"),B(Y,R,V,"",function(ve){return ve})):Y!=null&&(G(Y)&&(Y=z(Y,V+(Y.key==null||A&&A.key===Y.key?"":(""+Y.key).replace(K,"$&/")+"/")+Te)),R.push(Y)),1;Te=0;var Ae=ee===""?".":ee+":";if(E(A))for(var Be=0;Be<A.length;Be++)ee=A[Be],je=Ae+re(ee,Be),Te+=B(ee,R,V,je,Y);else if(Be=x(A),typeof Be=="function")for(A=Be.call(A),Be=0;!(ee=A.next()).done;)ee=ee.value,je=Ae+re(ee,Be++),Te+=B(ee,R,V,je,Y);else if(je==="object"){if(typeof A.then=="function")return B(ce(A),R,V,ee,Y);throw R=String(A),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Q(A,R,V){if(A==null)return A;var ee=[],Y=0;return B(A,ee,"","",function(je){return R.call(V,je,Y++)}),ee}function se(A){if(A._status===-1){var R=A._result;R=R(),R.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=R)}if(A._status===1)return A._result.default;throw A._result}var oe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},pe={map:Q,forEach:function(A,R,V){Q(A,function(){R.apply(this,arguments)},V)},count:function(A){var R=0;return Q(A,function(){R++}),R},toArray:function(A){return Q(A,function(R){return R})||[]},only:function(A){if(!G(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Ke.Activity=g,Ke.Children=pe,Ke.Component=k,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=L,Ke.StrictMode=s,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(A){return T.H.useMemoCache(A)}},Ke.cache=function(A){return function(){return A.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(A,R,V){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=C({},A.props),Y=A.key;if(R!=null)for(je in R.key!==void 0&&(Y=""+R.key),R)!I.call(R,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&R.ref===void 0||(ee[je]=R[je]);var je=arguments.length-2;if(je===1)ee.children=V;else if(1<je){for(var Te=Array(je),Ae=0;Ae<je;Ae++)Te[Ae]=arguments[Ae+2];ee.children=Te}return P(A.type,Y,ee)},Ke.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:a,_context:A},A},Ke.createElement=function(A,R,V){var ee,Y={},je=null;if(R!=null)for(ee in R.key!==void 0&&(je=""+R.key),R)I.call(R,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(Y[ee]=R[ee]);var Te=arguments.length-2;if(Te===1)Y.children=V;else if(1<Te){for(var Ae=Array(Te),Be=0;Be<Te;Be++)Ae[Be]=arguments[Be+2];Y.children=Ae}if(A&&A.defaultProps)for(ee in Te=A.defaultProps,Te)Y[ee]===void 0&&(Y[ee]=Te[ee]);return P(A,je,Y)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(A){return{$$typeof:c,render:A}},Ke.isValidElement=G,Ke.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:se}},Ke.memo=function(A,R){return{$$typeof:h,type:A,compare:R===void 0?null:R}},Ke.startTransition=function(A){var R=T.T,V={};T.T=V;try{var ee=A(),Y=T.S;Y!==null&&Y(V,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(M,oe)}catch(je){oe(je)}finally{R!==null&&V.types!==null&&(R.types=V.types),T.T=R}},Ke.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ke.use=function(A){return T.H.use(A)},Ke.useActionState=function(A,R,V){return T.H.useActionState(A,R,V)},Ke.useCallback=function(A,R){return T.H.useCallback(A,R)},Ke.useContext=function(A){return T.H.useContext(A)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(A,R){return T.H.useDeferredValue(A,R)},Ke.useEffect=function(A,R){return T.H.useEffect(A,R)},Ke.useEffectEvent=function(A){return T.H.useEffectEvent(A)},Ke.useId=function(){return T.H.useId()},Ke.useImperativeHandle=function(A,R,V){return T.H.useImperativeHandle(A,R,V)},Ke.useInsertionEffect=function(A,R){return T.H.useInsertionEffect(A,R)},Ke.useLayoutEffect=function(A,R){return T.H.useLayoutEffect(A,R)},Ke.useMemo=function(A,R){return T.H.useMemo(A,R)},Ke.useOptimistic=function(A,R){return T.H.useOptimistic(A,R)},Ke.useReducer=function(A,R,V){return T.H.useReducer(A,R,V)},Ke.useRef=function(A){return T.H.useRef(A)},Ke.useState=function(A){return T.H.useState(A)},Ke.useSyncExternalStore=function(A,R,V){return T.H.useSyncExternalStore(A,R,V)},Ke.useTransition=function(){return T.H.useTransition()},Ke.version="19.2.3",Ke}var w_;function vd(){return w_||(w_=1,Oy.exports=sR()),Oy.exports}var w=vd();const Re=ik(w);var Ly={exports:{}},Zc={},My={exports:{}},Dy={};var S_;function iR(){return S_||(S_=1,(function(t){function e(B,Q){var se=B.length;B.push(Q);e:for(;0<se;){var oe=se-1>>>1,pe=B[oe];if(0<i(pe,Q))B[oe]=Q,B[se]=pe,se=oe;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Q=B[0],se=B.pop();if(se!==Q){B[0]=se;e:for(var oe=0,pe=B.length,A=pe>>>1;oe<A;){var R=2*(oe+1)-1,V=B[R],ee=R+1,Y=B[ee];if(0>i(V,se))ee<pe&&0>i(Y,V)?(B[oe]=Y,B[ee]=se,oe=ee):(B[oe]=V,B[R]=se,oe=R);else if(ee<pe&&0>i(Y,se))B[oe]=Y,B[ee]=se,oe=ee;else break e}}return Q}function i(B,Q){var se=B.sortIndex-Q.sortIndex;return se!==0?se:B.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,g=null,y=3,x=!1,b=!1,C=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var Q=n(h);Q!==null;){if(Q.callback===null)s(h);else if(Q.startTime<=B)s(h),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(h)}}function E(B){if(C=!1,O(B),!b)if(n(f)!==null)b=!0,M||(M=!0,q());else{var Q=n(h);Q!==null&&ce(E,Q.startTime-B)}}var M=!1,T=-1,I=5,P=-1;function z(){return _?!0:!(t.unstable_now()-P<I)}function G(){if(_=!1,M){var B=t.unstable_now();P=B;var Q=!0;try{e:{b=!1,C&&(C=!1,j(T),T=-1),x=!0;var se=y;try{t:{for(O(B),g=n(f);g!==null&&!(g.expirationTime>B&&z());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,y=g.priorityLevel;var pe=oe(g.expirationTime<=B);if(B=t.unstable_now(),typeof pe=="function"){g.callback=pe,O(B),Q=!0;break t}g===n(f)&&s(f),O(B)}else s(f);g=n(f)}if(g!==null)Q=!0;else{var A=n(h);A!==null&&ce(E,A.startTime-B),Q=!1}}break e}finally{g=null,y=se,x=!1}Q=void 0}}finally{Q?q():M=!1}}}var q;if(typeof L=="function")q=function(){L(G)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,re=K.port2;K.port1.onmessage=G,q=function(){re.postMessage(null)}}else q=function(){k(G,0)};function ce(B,Q){T=k(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var se=y;y=Q;try{return B()}finally{y=se}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=y;y=B;try{return Q()}finally{y=se}},t.unstable_scheduleCallback=function(B,Q,se){var oe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?oe+se:oe):se=oe,B){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=se+pe,B={id:m++,callback:Q,priorityLevel:B,startTime:se,expirationTime:pe,sortIndex:-1},se>oe?(B.sortIndex=se,e(h,B),n(f)===null&&B===n(h)&&(C?(j(T),T=-1):C=!0,ce(E,se-oe))):(B.sortIndex=pe,e(f,B),b||x||(b=!0,M||(M=!0,q()))),B},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(B){var Q=y;return function(){var se=y;y=Q;try{return B.apply(this,arguments)}finally{y=se}}}})(Dy)),Dy}var __;function rR(){return __||(__=1,My.exports=iR()),My.exports}var Ty={exports:{}},qn={};var C_;function aR(){if(C_)return qn;C_=1;var t=vd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,m)},qn.flushSync=function(f){var h=l.T,m=s.p;try{if(l.T=null,s.p=2,f)return f()}finally{l.T=h,s.p=m,s.d.f()}},qn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},qn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},qn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):m==="script"&&s.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},qn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},qn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);s.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},qn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},qn.requestFormReset=function(f){s.d.r(f)},qn.unstable_batchedUpdates=function(f,h){return f(h)},qn.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},qn.version="19.2.3",qn}var E_;function rk(){if(E_)return Ty.exports;E_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ty.exports=aR(),Ty.exports}var N_;function oR(){if(N_)return Zc;N_=1;var t=rR(),e=vd(),n=rk();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(s(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var u=r,p=o;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return f(v),r;if(S===p)return f(v),o;S=S.sibling}throw Error(s(188))}if(u.return!==p.return)u=v,p=S;else{for(var N=!1,D=v.child;D;){if(D===u){N=!0,u=v,p=S;break}if(D===p){N=!0,p=v,u=S;break}D=D.sibling}if(!N){for(D=S.child;D;){if(D===u){N=!0,u=S,p=v;break}if(D===p){N=!0,p=S,u=v;break}D=D.sibling}if(!N)throw Error(s(189))}}if(u.alternate!==p)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var K=Symbol.for("react.client.reference");function re(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===K?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case L:return r.displayName||"Context";case j:return(r._context.displayName||"Context")+".Consumer";case O:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case T:return o=r.displayName||null,o!==null?o:re(r.type)||"Memo";case I:o=r._payload,r=r._init;try{return re(r(o))}catch{}}return null}var ce=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},oe=[],pe=-1;function A(r){return{current:r}}function R(r){0>pe||(r.current=oe[pe],oe[pe]=null,pe--)}function V(r,o){pe++,oe[pe]=r.current,r.current=o}var ee=A(null),Y=A(null),je=A(null),Te=A(null);function Ae(r,o){switch(V(je,o),V(Y,r),V(ee,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?FS(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=FS(o),r=HS(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}R(ee),V(ee,r)}function Be(){R(ee),R(Y),R(je)}function ve(r){r.memoizedState!==null&&V(Te,r);var o=ee.current,u=HS(o,r.type);o!==u&&(V(Y,r),V(ee,u))}function Me(r){Y.current===r&&(R(ee),R(Y)),Te.current===r&&(R(Te),Yc._currentValue=se)}var at,ft;function pn(r){if(at===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);at=o&&o[1]||"",ft=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+r+ft}var it=!1;function ls(r,o){if(!r||it)return"";it=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ie){var te=ie}Reflect.construct(r,[],me)}else{try{me.call()}catch(ie){te=ie}r.call(me.prototype)}}else{try{throw Error()}catch(ie){te=ie}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),N=S[0],D=S[1];if(N&&D){var U=N.split(`
`),J=D.split(`
`);for(v=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(p===U.length||v===J.length)for(p=U.length-1,v=J.length-1;1<=p&&0<=v&&U[p]!==J[v];)v--;for(;1<=p&&0<=v;p--,v--)if(U[p]!==J[v]){if(p!==1||v!==1)do if(p--,v--,0>v||U[p]!==J[v]){var de=`
`+U[p].replace(" at new "," at ");return r.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",r.displayName)),de}while(1<=p&&0<=v);break}}}finally{it=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?pn(u):""}function cs(r,o){switch(r.tag){case 26:case 27:case 5:return pn(r.type);case 16:return pn("Lazy");case 13:return r.child!==o&&o!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return ls(r.type,!1);case 11:return ls(r.type.render,!1);case 1:return ls(r.type,!0);case 31:return pn("Activity");default:return""}}function Ys(r){try{var o="",u=null;do o+=cs(r,u),u=r,r=r.return;while(r);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var $n=Object.prototype.hasOwnProperty,Vn=t.unstable_scheduleCallback,F=t.unstable_cancelCallback,X=t.unstable_shouldYield,ae=t.unstable_requestPaint,Ee=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,Se=t.unstable_ImmediatePriority,Pe=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,rt=t.unstable_LowPriority,Ut=t.unstable_IdlePriority,_e=t.log,le=t.unstable_setDisableYieldValue,be=null,Ce=null;function He(r){if(typeof _e=="function"&&le(r),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(be,r)}catch{}}var xt=Math.clz32?Math.clz32:Kt,qt=Math.log,on=Math.LN2;function Kt(r){return r>>>=0,r===0?32:31-(qt(r)/on|0)|0}var Rn=256,Kn=262144,Es=4194304;function Ws(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ja(r,o,u){var p=r.pendingLanes;if(p===0)return 0;var v=0,S=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var D=p&134217727;return D!==0?(p=D&~S,p!==0?v=Ws(p):(N&=D,N!==0?v=Ws(N):u||(u=D&~r,u!==0&&(v=Ws(u))))):(D=p&~S,D!==0?v=Ws(D):N!==0?v=Ws(N):u||(u=p&~r,u!==0&&(v=Ws(u)))),v===0?0:o!==0&&o!==v&&(o&S)===0&&(S=v&-v,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:v}function Mi(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Rd(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var r=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),r}function jo(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Oa(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function La(r,o,u,p,v,S){var N=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var D=r.entanglements,U=r.expirationTimes,J=r.hiddenUpdates;for(u=N&~u;0<u;){var de=31-xt(u),me=1<<de;D[de]=0,U[de]=-1;var te=J[de];if(te!==null)for(J[de]=null,de=0;de<te.length;de++){var ie=te[de];ie!==null&&(ie.lane&=-536870913)}u&=~me}p!==0&&Qe(r,p,0),S!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=S&~(N&~o))}function Qe(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var p=31-xt(o);r.entangledLanes|=o,r.entanglements[p]=r.entanglements[p]|1073741824|u&261930}function C0(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var p=31-xt(u),v=1<<p;v&o|r[p]&o&&(r[p]|=o),u&=~v}}function E0(r,o){var u=o&-o;return u=(u&42)!==0?1:ym(u),(u&(r.suspendedLanes|o))!==0?0:u}function ym(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function vm(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function N0(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:d_(r.type))}function j0(r,o){var u=Q.p;try{return Q.p=r,o()}finally{Q.p=u}}var Ar=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Ar,us="__reactProps$"+Ar,ko="__reactContainer$"+Ar,bm="__reactEvents$"+Ar,VD="__reactListeners$"+Ar,qD="__reactHandles$"+Ar,k0="__reactResources$"+Ar,lc="__reactMarker$"+Ar;function xm(r){delete r[Pn],delete r[us],delete r[bm],delete r[VD],delete r[qD]}function Oo(r){var o=r[Pn];if(o)return o;for(var u=r.parentNode;u;){if(o=u[ko]||u[Pn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=QS(r);r!==null;){if(u=r[Pn])return u;r=QS(r)}return o}r=u,u=r.parentNode}return null}function Lo(r){if(r=r[Pn]||r[ko]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function cc(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function Mo(r){var o=r[k0];return o||(o=r[k0]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ln(r){r[lc]=!0}var O0=new Set,L0={};function Ma(r,o){Do(r,o),Do(r+"Capture",o)}function Do(r,o){for(L0[r]=o,r=0;r<o.length;r++)O0.add(o[r])}var GD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),M0={},D0={};function YD(r){return $n.call(D0,r)?!0:$n.call(M0,r)?!1:GD.test(r)?D0[r]=!0:(M0[r]=!0,!1)}function Pd(r,o,u){if(YD(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Id(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function tr(r,o,u,p){if(p===null)r.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+p)}}function Qs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function T0(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function WD(r,o,u){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,S=p.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){u=""+N,S.call(this,N)}}),Object.defineProperty(r,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function wm(r){if(!r._valueTracker){var o=T0(r)?"checked":"value";r._valueTracker=WD(r,o,""+r[o])}}function A0(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return r&&(p=T0(r)?r.checked?"true":"false":r.value),r=p,r!==u?(o.setValue(r),!0):!1}function Bd(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var QD=/[\n"\\]/g;function Ks(r){return r.replace(QD,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Sm(r,o,u,p,v,S,N,D){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),o!=null?N==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Qs(o)):r.value!==""+Qs(o)&&(r.value=""+Qs(o)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),o!=null?_m(r,N,Qs(o)):u!=null?_m(r,N,Qs(u)):p!=null&&r.removeAttribute("value"),v==null&&S!=null&&(r.defaultChecked=!!S),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Qs(D):r.removeAttribute("name")}function R0(r,o,u,p,v,S,N,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){wm(r);return}u=u!=null?""+Qs(u):"",o=o!=null?""+Qs(o):u,D||o===r.value||(r.value=o),r.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=D?r.checked:!!p,r.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N),wm(r)}function _m(r,o,u){o==="number"&&Bd(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function To(r,o,u,p){if(r=r.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=o.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&p&&(r[u].defaultSelected=!0)}else{for(u=""+Qs(u),o=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,p&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function P0(r,o,u){if(o!=null&&(o=""+Qs(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Qs(u):""}function I0(r,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(s(92));if(ce(p)){if(1<p.length)throw Error(s(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Qs(o),r.defaultValue=u,p=r.textContent,p===u&&p!==""&&p!==null&&(r.value=p),wm(r)}function Ao(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var KD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function B0(r,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":p?r.setProperty(o,u):typeof u!="number"||u===0||KD.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function U0(r,o,u){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&u[v]!==p&&B0(r,v,p)}else for(var S in o)o.hasOwnProperty(S)&&B0(r,S,o[S])}function Cm(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ud(r){return ZD.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function nr(){}var Em=null;function Nm(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ro=null,Po=null;function z0(r){var o=Lo(r);if(o&&(r=o.stateNode)){var u=r[us]||null;e:switch(r=o.stateNode,o.type){case"input":if(Sm(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ks(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==r&&p.form===r.form){var v=p[us]||null;if(!v)throw Error(s(90));Sm(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===r.form&&A0(p)}break e;case"textarea":P0(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&To(r,!!u.multiple,o,!1)}}}var jm=!1;function F0(r,o,u){if(jm)return r(o,u);jm=!0;try{var p=r(o);return p}finally{if(jm=!1,(Ro!==null||Po!==null)&&(jf(),Ro&&(o=Ro,r=Po,Po=Ro=null,z0(o),r)))for(o=0;o<r.length;o++)z0(r[o])}}function uc(r,o){var u=r.stateNode;if(u===null)return null;var p=u[us]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,o,typeof u));return u}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=!1;if(sr)try{var dc={};Object.defineProperty(dc,"passive",{get:function(){km=!0}}),window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{km=!1}var Rr=null,Om=null,zd=null;function H0(){if(zd)return zd;var r,o=Om,u=o.length,p,v="value"in Rr?Rr.value:Rr.textContent,S=v.length;for(r=0;r<u&&o[r]===v[r];r++);var N=u-r;for(p=1;p<=N&&o[u-p]===v[S-p];p++);return zd=v.slice(r,1<p?1-p:void 0)}function Fd(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Hd(){return!0}function $0(){return!1}function ds(r){function o(u,p,v,S,N){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(u=r[D],this[D]=u?u(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Hd:$0,this.isPropagationStopped=$0,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Hd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Hd)},persist:function(){},isPersistent:Hd}),o}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$d=ds(Da),fc=g({},Da,{view:0,detail:0}),JD=ds(fc),Lm,Mm,hc,Vd=g({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hc&&(hc&&r.type==="mousemove"?(Lm=r.screenX-hc.screenX,Mm=r.screenY-hc.screenY):Mm=Lm=0,hc=r),Lm)},movementY:function(r){return"movementY"in r?r.movementY:Mm}}),V0=ds(Vd),eT=g({},Vd,{dataTransfer:0}),tT=ds(eT),nT=g({},fc,{relatedTarget:0}),Dm=ds(nT),sT=g({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),iT=ds(sT),rT=g({},Da,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),aT=ds(rT),oT=g({},Da,{data:0}),q0=ds(oT),lT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=uT[r])?!!o[r]:!1}function Tm(){return dT}var fT=g({},fc,{key:function(r){if(r.key){var o=lT[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Fd(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(r){return r.type==="keypress"?Fd(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fd(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),hT=ds(fT),pT=g({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=ds(pT),mT=g({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),gT=ds(mT),yT=g({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=ds(yT),bT=g({},Vd,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=ds(bT),wT=g({},Da,{newState:0,oldState:0}),ST=ds(wT),_T=[9,13,27,32],Am=sr&&"CompositionEvent"in window,pc=null;sr&&"documentMode"in document&&(pc=document.documentMode);var CT=sr&&"TextEvent"in window&&!pc,Y0=sr&&(!Am||pc&&8<pc&&11>=pc),W0=" ",Q0=!1;function K0(r,o){switch(r){case"keyup":return _T.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Io=!1;function ET(r,o){switch(r){case"compositionend":return X0(o);case"keypress":return o.which!==32?null:(Q0=!0,W0);case"textInput":return r=o.data,r===W0&&Q0?null:r;default:return null}}function NT(r,o){if(Io)return r==="compositionend"||!Am&&K0(r,o)?(r=H0(),zd=Om=Rr=null,Io=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Y0&&o.locale!=="ko"?null:o.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!jT[r.type]:o==="textarea"}function J0(r,o,u,p){Ro?Po?Po.push(p):Po=[p]:Ro=p,o=Af(o,"onChange"),0<o.length&&(u=new $d("onChange","change",null,u,p),r.push({event:u,listeners:o}))}var mc=null,gc=null;function kT(r){RS(r,0)}function qd(r){var o=cc(r);if(A0(o))return r}function ew(r,o){if(r==="change")return o}var tw=!1;if(sr){var Rm;if(sr){var Pm="oninput"in document;if(!Pm){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),Pm=typeof nw.oninput=="function"}Rm=Pm}else Rm=!1;tw=Rm&&(!document.documentMode||9<document.documentMode)}function sw(){mc&&(mc.detachEvent("onpropertychange",iw),gc=mc=null)}function iw(r){if(r.propertyName==="value"&&qd(gc)){var o=[];J0(o,gc,r,Nm(r)),F0(kT,o)}}function OT(r,o,u){r==="focusin"?(sw(),mc=o,gc=u,mc.attachEvent("onpropertychange",iw)):r==="focusout"&&sw()}function LT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qd(gc)}function MT(r,o){if(r==="click")return qd(o)}function DT(r,o){if(r==="input"||r==="change")return qd(o)}function TT(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ns=typeof Object.is=="function"?Object.is:TT;function yc(r,o){if(Ns(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!$n.call(o,v)||!Ns(r[v],o[v]))return!1}return!0}function rw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function aw(r,o){var u=rw(r);r=0;for(var p;u;){if(u.nodeType===3){if(p=r+u.textContent.length,r<=o&&p>=o)return{node:u,offset:o-r};r=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rw(u)}}function ow(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?ow(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function lw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Bd(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Bd(r.document)}return o}function Im(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var AT=sr&&"documentMode"in document&&11>=document.documentMode,Bo=null,Bm=null,vc=null,Um=!1;function cw(r,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Um||Bo==null||Bo!==Bd(p)||(p=Bo,"selectionStart"in p&&Im(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),vc&&yc(vc,p)||(vc=p,p=Af(Bm,"onSelect"),0<p.length&&(o=new $d("onSelect","select",null,o,u),r.push({event:o,listeners:p}),o.target=Bo)))}function Ta(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Uo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},zm={},uw={};sr&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Aa(r){if(zm[r])return zm[r];if(!Uo[r])return r;var o=Uo[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in uw)return zm[r]=o[u];return r}var dw=Aa("animationend"),fw=Aa("animationiteration"),hw=Aa("animationstart"),RT=Aa("transitionrun"),PT=Aa("transitionstart"),IT=Aa("transitioncancel"),pw=Aa("transitionend"),mw=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fm.push("scrollEnd");function bi(r,o){mw.set(r,o),Ma(o,[r])}var Gd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Xs=[],zo=0,Hm=0;function Yd(){for(var r=zo,o=Hm=zo=0;o<r;){var u=Xs[o];Xs[o++]=null;var p=Xs[o];Xs[o++]=null;var v=Xs[o];Xs[o++]=null;var S=Xs[o];if(Xs[o++]=null,p!==null&&v!==null){var N=p.pending;N===null?v.next=v:(v.next=N.next,N.next=v),p.pending=v}S!==0&&gw(u,v,S)}}function Wd(r,o,u,p){Xs[zo++]=r,Xs[zo++]=o,Xs[zo++]=u,Xs[zo++]=p,Hm|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function $m(r,o,u,p){return Wd(r,o,u,p),Qd(r)}function Ra(r,o){return Wd(r,null,null,o),Qd(r)}function gw(r,o,u){r.lanes|=u;var p=r.alternate;p!==null&&(p.lanes|=u);for(var v=!1,S=r.return;S!==null;)S.childLanes|=u,p=S.alternate,p!==null&&(p.childLanes|=u),S.tag===22&&(r=S.stateNode,r===null||r._visibility&1||(v=!0)),r=S,S=S.return;return r.tag===3?(S=r.stateNode,v&&o!==null&&(v=31-xt(u),r=S.hiddenUpdates,p=r[v],p===null?r[v]=[o]:p.push(o),o.lane=u|536870912),S):null}function Qd(r){if(50<zc)throw zc=0,Zg=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Fo={};function BT(r,o,u,p){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(r,o,u,p){return new BT(r,o,u,p)}function Vm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ir(r,o){var u=r.alternate;return u===null?(u=js(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function yw(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Kd(r,o,u,p,v,S){var N=0;if(p=r,typeof r=="function")Vm(r)&&(N=1);else if(typeof r=="string")N=$A(r,u,ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=js(31,u,o,v),r.elementType=P,r.lanes=S,r;case C:return Pa(u.children,v,S,o);case _:N=8,v|=24;break;case k:return r=js(12,u,o,v|2),r.elementType=k,r.lanes=S,r;case E:return r=js(13,u,o,v),r.elementType=E,r.lanes=S,r;case M:return r=js(19,u,o,v),r.elementType=M,r.lanes=S,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:N=10;break e;case j:N=9;break e;case O:N=11;break e;case T:N=14;break e;case I:N=16,p=null;break e}N=29,u=Error(s(130,r===null?"null":typeof r,"")),p=null}return o=js(N,u,o,v),o.elementType=r,o.type=p,o.lanes=S,o}function Pa(r,o,u,p){return r=js(7,r,p,o),r.lanes=u,r}function qm(r,o,u){return r=js(6,r,null,o),r.lanes=u,r}function vw(r){var o=js(18,null,null,0);return o.stateNode=r,o}function Gm(r,o,u){return o=js(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var bw=new WeakMap;function Zs(r,o){if(typeof r=="object"&&r!==null){var u=bw.get(r);return u!==void 0?u:(o={value:r,source:o,stack:Ys(o)},bw.set(r,o),o)}return{value:r,source:o,stack:Ys(o)}}var Ho=[],$o=0,Xd=null,bc=0,Js=[],ei=0,Pr=null,Di=1,Ti="";function rr(r,o){Ho[$o++]=bc,Ho[$o++]=Xd,Xd=r,bc=o}function xw(r,o,u){Js[ei++]=Di,Js[ei++]=Ti,Js[ei++]=Pr,Pr=r;var p=Di;r=Ti;var v=32-xt(p)-1;p&=~(1<<v),u+=1;var S=32-xt(o)+v;if(30<S){var N=v-v%5;S=(p&(1<<N)-1).toString(32),p>>=N,v-=N,Di=1<<32-xt(o)+v|u<<v|p,Ti=S+r}else Di=1<<S|u<<v|p,Ti=r}function Ym(r){r.return!==null&&(rr(r,1),xw(r,1,0))}function Wm(r){for(;r===Xd;)Xd=Ho[--$o],Ho[$o]=null,bc=Ho[--$o],Ho[$o]=null;for(;r===Pr;)Pr=Js[--ei],Js[ei]=null,Ti=Js[--ei],Js[ei]=null,Di=Js[--ei],Js[ei]=null}function ww(r,o){Js[ei++]=Di,Js[ei++]=Ti,Js[ei++]=Pr,Di=o.id,Ti=o.overflow,Pr=r}var In=null,Gt=null,mt=!1,Ir=null,ti=!1,Qm=Error(s(519));function Br(r){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xc(Zs(o,r)),Qm}function Sw(r){var o=r.stateNode,u=r.type,p=r.memoizedProps;switch(o[Pn]=r,o[us]=p,u){case"dialog":ct("cancel",o),ct("close",o);break;case"iframe":case"object":case"embed":ct("load",o);break;case"video":case"audio":for(u=0;u<Hc.length;u++)ct(Hc[u],o);break;case"source":ct("error",o);break;case"img":case"image":case"link":ct("error",o),ct("load",o);break;case"details":ct("toggle",o);break;case"input":ct("invalid",o),R0(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ct("invalid",o);break;case"textarea":ct("invalid",o),I0(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||US(o.textContent,u)?(p.popover!=null&&(ct("beforetoggle",o),ct("toggle",o)),p.onScroll!=null&&ct("scroll",o),p.onScrollEnd!=null&&ct("scrollend",o),p.onClick!=null&&(o.onclick=nr),o=!0):o=!1,o||Br(r,!0)}function _w(r){for(In=r.return;In;)switch(In.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:In=In.return}}function Vo(r){if(r!==In)return!1;if(!mt)return _w(r),mt=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||hy(r.type,r.memoizedProps)),u=!u),u&&Gt&&Br(r),_w(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Gt=WS(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Gt=WS(r)}else o===27?(o=Gt,Zr(r.type)?(r=vy,vy=null,Gt=r):Gt=o):Gt=In?si(r.stateNode.nextSibling):null;return!0}function Ia(){Gt=In=null,mt=!1}function Km(){var r=Ir;return r!==null&&(ms===null?ms=r:ms.push.apply(ms,r),Ir=null),r}function xc(r){Ir===null?Ir=[r]:Ir.push(r)}var Xm=A(null),Ba=null,ar=null;function Ur(r,o,u){V(Xm,o._currentValue),o._currentValue=u}function or(r){r._currentValue=Xm.current,R(Xm)}function Zm(r,o,u){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===u)break;r=r.return}}function Jm(r,o,u,p){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var S=v.dependencies;if(S!==null){var N=v.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=v;for(var U=0;U<o.length;U++)if(D.context===o[U]){S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),Zm(S.return,u,r),p||(N=null);break e}S=D.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(s(341));N.lanes|=u,S=N.alternate,S!==null&&(S.lanes|=u),Zm(N,u,r),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===r){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function qo(r,o,u,p){r=null;for(var v=o,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var D=v.type;Ns(v.pendingProps.value,N.value)||(r!==null?r.push(D):r=[D])}}else if(v===Te.current){if(N=v.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Yc):r=[Yc])}v=v.return}r!==null&&Jm(o,r,u,p),o.flags|=262144}function Zd(r){for(r=r.firstContext;r!==null;){if(!Ns(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ua(r){Ba=r,ar=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Bn(r){return Cw(Ba,r)}function Jd(r,o){return Ba===null&&Ua(r),Cw(r,o)}function Cw(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ar===null){if(r===null)throw Error(s(308));ar=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else ar=ar.next=o;return u}var UT=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,p){r.push(p)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},zT=t.unstable_scheduleCallback,FT=t.unstable_NormalPriority,mn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eg(){return{controller:new UT,data:new Map,refCount:0}}function wc(r){r.refCount--,r.refCount===0&&zT(FT,function(){r.controller.abort()})}var Sc=null,tg=0,Go=0,Yo=null;function HT(r,o){if(Sc===null){var u=Sc=[];tg=0,Go=iy(),Yo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return tg++,o.then(Ew,Ew),o}function Ew(){if(--tg===0&&Sc!==null){Yo!==null&&(Yo.status="fulfilled");var r=Sc;Sc=null,Go=0,Yo=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function $T(r,o){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return r.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var Nw=B.S;B.S=function(r,o){cS=Ee(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&HT(r,o),Nw!==null&&Nw(r,o)};var za=A(null);function ng(){var r=za.current;return r!==null?r:zt.pooledCache}function ef(r,o){o===null?V(za,za.current):V(za,o.pool)}function jw(){var r=ng();return r===null?null:{parent:mn._currentValue,pool:r}}var Wo=Error(s(460)),sg=Error(s(474)),tf=Error(s(542)),nf={then:function(){}};function kw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ow(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(nr,nr),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Mw(r),r;default:if(typeof o.status=="string")o.then(nr,nr);else{if(r=zt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Mw(r),r}throw Ha=o,Wo}}function Fa(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ha=u,Wo):u}}var Ha=null;function Lw(){if(Ha===null)throw Error(s(459));var r=Ha;return Ha=null,r}function Mw(r){if(r===Wo||r===tf)throw Error(s(483))}var Qo=null,_c=0;function sf(r){var o=_c;return _c+=1,Qo===null&&(Qo=[]),Ow(Qo,r,o)}function Cc(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function rf(r,o){throw o.$$typeof===y?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Dw(r){function o(W,$){if(r){var Z=W.deletions;Z===null?(W.deletions=[$],W.flags|=16):Z.push($)}}function u(W,$){if(!r)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function p(W){for(var $=new Map;W!==null;)W.key!==null?$.set(W.key,W):$.set(W.index,W),W=W.sibling;return $}function v(W,$){return W=ir(W,$),W.index=0,W.sibling=null,W}function S(W,$,Z){return W.index=Z,r?(Z=W.alternate,Z!==null?(Z=Z.index,Z<$?(W.flags|=67108866,$):Z):(W.flags|=67108866,$)):(W.flags|=1048576,$)}function N(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function D(W,$,Z,he){return $===null||$.tag!==6?($=qm(Z,W.mode,he),$.return=W,$):($=v($,Z),$.return=W,$)}function U(W,$,Z,he){var qe=Z.type;return qe===C?de(W,$,Z.props.children,he,Z.key):$!==null&&($.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===I&&Fa(qe)===$.type)?($=v($,Z.props),Cc($,Z),$.return=W,$):($=Kd(Z.type,Z.key,Z.props,null,W.mode,he),Cc($,Z),$.return=W,$)}function J(W,$,Z,he){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=Gm(Z,W.mode,he),$.return=W,$):($=v($,Z.children||[]),$.return=W,$)}function de(W,$,Z,he,qe){return $===null||$.tag!==7?($=Pa(Z,W.mode,he,qe),$.return=W,$):($=v($,Z),$.return=W,$)}function me(W,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=qm(""+$,W.mode,Z),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return Z=Kd($.type,$.key,$.props,null,W.mode,Z),Cc(Z,$),Z.return=W,Z;case b:return $=Gm($,W.mode,Z),$.return=W,$;case I:return $=Fa($),me(W,$,Z)}if(ce($)||q($))return $=Pa($,W.mode,Z,null),$.return=W,$;if(typeof $.then=="function")return me(W,sf($),Z);if($.$$typeof===L)return me(W,Jd(W,$),Z);rf(W,$)}return null}function te(W,$,Z,he){var qe=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return qe!==null?null:D(W,$,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return Z.key===qe?U(W,$,Z,he):null;case b:return Z.key===qe?J(W,$,Z,he):null;case I:return Z=Fa(Z),te(W,$,Z,he)}if(ce(Z)||q(Z))return qe!==null?null:de(W,$,Z,he,null);if(typeof Z.then=="function")return te(W,$,sf(Z),he);if(Z.$$typeof===L)return te(W,$,Jd(W,Z),he);rf(W,Z)}return null}function ie(W,$,Z,he,qe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return W=W.get(Z)||null,D($,W,""+he,qe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case x:return W=W.get(he.key===null?Z:he.key)||null,U($,W,he,qe);case b:return W=W.get(he.key===null?Z:he.key)||null,J($,W,he,qe);case I:return he=Fa(he),ie(W,$,Z,he,qe)}if(ce(he)||q(he))return W=W.get(Z)||null,de($,W,he,qe,null);if(typeof he.then=="function")return ie(W,$,Z,sf(he),qe);if(he.$$typeof===L)return ie(W,$,Z,Jd($,he),qe);rf($,he)}return null}function Ie(W,$,Z,he){for(var qe=null,wt=null,Ue=$,nt=$=0,pt=null;Ue!==null&&nt<Z.length;nt++){Ue.index>nt?(pt=Ue,Ue=null):pt=Ue.sibling;var St=te(W,Ue,Z[nt],he);if(St===null){Ue===null&&(Ue=pt);break}r&&Ue&&St.alternate===null&&o(W,Ue),$=S(St,$,nt),wt===null?qe=St:wt.sibling=St,wt=St,Ue=pt}if(nt===Z.length)return u(W,Ue),mt&&rr(W,nt),qe;if(Ue===null){for(;nt<Z.length;nt++)Ue=me(W,Z[nt],he),Ue!==null&&($=S(Ue,$,nt),wt===null?qe=Ue:wt.sibling=Ue,wt=Ue);return mt&&rr(W,nt),qe}for(Ue=p(Ue);nt<Z.length;nt++)pt=ie(Ue,W,nt,Z[nt],he),pt!==null&&(r&&pt.alternate!==null&&Ue.delete(pt.key===null?nt:pt.key),$=S(pt,$,nt),wt===null?qe=pt:wt.sibling=pt,wt=pt);return r&&Ue.forEach(function(sa){return o(W,sa)}),mt&&rr(W,nt),qe}function Ge(W,$,Z,he){if(Z==null)throw Error(s(151));for(var qe=null,wt=null,Ue=$,nt=$=0,pt=null,St=Z.next();Ue!==null&&!St.done;nt++,St=Z.next()){Ue.index>nt?(pt=Ue,Ue=null):pt=Ue.sibling;var sa=te(W,Ue,St.value,he);if(sa===null){Ue===null&&(Ue=pt);break}r&&Ue&&sa.alternate===null&&o(W,Ue),$=S(sa,$,nt),wt===null?qe=sa:wt.sibling=sa,wt=sa,Ue=pt}if(St.done)return u(W,Ue),mt&&rr(W,nt),qe;if(Ue===null){for(;!St.done;nt++,St=Z.next())St=me(W,St.value,he),St!==null&&($=S(St,$,nt),wt===null?qe=St:wt.sibling=St,wt=St);return mt&&rr(W,nt),qe}for(Ue=p(Ue);!St.done;nt++,St=Z.next())St=ie(Ue,W,nt,St.value,he),St!==null&&(r&&St.alternate!==null&&Ue.delete(St.key===null?nt:St.key),$=S(St,$,nt),wt===null?qe=St:wt.sibling=St,wt=St);return r&&Ue.forEach(function(eR){return o(W,eR)}),mt&&rr(W,nt),qe}function Pt(W,$,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===C&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:e:{for(var qe=Z.key;$!==null;){if($.key===qe){if(qe=Z.type,qe===C){if($.tag===7){u(W,$.sibling),he=v($,Z.props.children),he.return=W,W=he;break e}}else if($.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===I&&Fa(qe)===$.type){u(W,$.sibling),he=v($,Z.props),Cc(he,Z),he.return=W,W=he;break e}u(W,$);break}else o(W,$);$=$.sibling}Z.type===C?(he=Pa(Z.props.children,W.mode,he,Z.key),he.return=W,W=he):(he=Kd(Z.type,Z.key,Z.props,null,W.mode,he),Cc(he,Z),he.return=W,W=he)}return N(W);case b:e:{for(qe=Z.key;$!==null;){if($.key===qe)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){u(W,$.sibling),he=v($,Z.children||[]),he.return=W,W=he;break e}else{u(W,$);break}else o(W,$);$=$.sibling}he=Gm(Z,W.mode,he),he.return=W,W=he}return N(W);case I:return Z=Fa(Z),Pt(W,$,Z,he)}if(ce(Z))return Ie(W,$,Z,he);if(q(Z)){if(qe=q(Z),typeof qe!="function")throw Error(s(150));return Z=qe.call(Z),Ge(W,$,Z,he)}if(typeof Z.then=="function")return Pt(W,$,sf(Z),he);if(Z.$$typeof===L)return Pt(W,$,Jd(W,Z),he);rf(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,$!==null&&$.tag===6?(u(W,$.sibling),he=v($,Z),he.return=W,W=he):(u(W,$),he=qm(Z,W.mode,he),he.return=W,W=he),N(W)):u(W,$)}return function(W,$,Z,he){try{_c=0;var qe=Pt(W,$,Z,he);return Qo=null,qe}catch(Ue){if(Ue===Wo||Ue===tf)throw Ue;var wt=js(29,Ue,null,W.mode);return wt.lanes=he,wt.return=W,wt}}}var $a=Dw(!0),Tw=Dw(!1),zr=!1;function ig(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Hr(r,o,u){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(Et&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Qd(r),gw(r,null,u),o}return Wd(r,p,o,u),Qd(r)}function Ec(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,C0(r,u)}}function ag(r,o){var u=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?v=S=N:S=S.next=N,u=u.next}while(u!==null);S===null?v=S=o:S=S.next=o}else v=S=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var og=!1;function Nc(){if(og){var r=Yo;if(r!==null)throw r}}function jc(r,o,u,p){og=!1;var v=r.updateQueue;zr=!1;var S=v.firstBaseUpdate,N=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var U=D,J=U.next;U.next=null,N===null?S=J:N.next=J,N=U;var de=r.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==N&&(D===null?de.firstBaseUpdate=J:D.next=J,de.lastBaseUpdate=U))}if(S!==null){var me=v.baseState;N=0,de=J=U=null,D=S;do{var te=D.lane&-536870913,ie=te!==D.lane;if(ie?(ht&te)===te:(p&te)===te){te!==0&&te===Go&&(og=!0),de!==null&&(de=de.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ie=r,Ge=D;te=o;var Pt=u;switch(Ge.tag){case 1:if(Ie=Ge.payload,typeof Ie=="function"){me=Ie.call(Pt,me,te);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ge.payload,te=typeof Ie=="function"?Ie.call(Pt,me,te):Ie,te==null)break e;me=g({},me,te);break e;case 2:zr=!0}}te=D.callback,te!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=v.callbacks,ie===null?v.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(J=de=ie,U=me):de=de.next=ie,N|=te;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);de===null&&(U=me),v.baseState=U,v.firstBaseUpdate=J,v.lastBaseUpdate=de,S===null&&(v.shared.lanes=0),Yr|=N,r.lanes=N,r.memoizedState=me}}function Aw(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function Rw(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Aw(u[r],o)}var Ko=A(null),af=A(0);function Pw(r,o){r=gr,V(af,r),V(Ko,o),gr=r|o.baseLanes}function lg(){V(af,gr),V(Ko,Ko.current)}function cg(){gr=af.current,R(Ko),R(af)}var ks=A(null),ni=null;function $r(r){var o=r.alternate;V(ln,ln.current&1),V(ks,r),ni===null&&(o===null||Ko.current!==null||o.memoizedState!==null)&&(ni=r)}function ug(r){V(ln,ln.current),V(ks,r),ni===null&&(ni=r)}function Iw(r){r.tag===22?(V(ln,ln.current),V(ks,r),ni===null&&(ni=r)):Vr()}function Vr(){V(ln,ln.current),V(ks,ks.current)}function Os(r){R(ks),ni===r&&(ni=null),R(ln)}var ln=A(0);function of(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||gy(u)||yy(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var lr=0,Je=null,At=null,gn=null,lf=!1,Xo=!1,Va=!1,cf=0,kc=0,Zo=null,VT=0;function nn(){throw Error(s(321))}function dg(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ns(r[u],o[u]))return!1;return!0}function fg(r,o,u,p,v,S){return lr=S,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=r===null||r.memoizedState===null?x1:jg,Va=!1,S=u(p,v),Va=!1,Xo&&(S=Uw(o,u,p,v)),Bw(r),S}function Bw(r){B.H=Mc;var o=At!==null&&At.next!==null;if(lr=0,gn=At=Je=null,lf=!1,kc=0,Zo=null,o)throw Error(s(300));r===null||yn||(r=r.dependencies,r!==null&&Zd(r)&&(yn=!0))}function Uw(r,o,u,p){Je=r;var v=0;do{if(Xo&&(Zo=null),kc=0,Xo=!1,25<=v)throw Error(s(301));if(v+=1,gn=At=null,r.updateQueue!=null){var S=r.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=w1,S=o(u,p)}while(Xo);return S}function qT(){var r=B.H,o=r.useState()[0];return o=typeof o.then=="function"?Oc(o):o,r=r.useState()[0],(At!==null?At.memoizedState:null)!==r&&(Je.flags|=1024),o}function hg(){var r=cf!==0;return cf=0,r}function pg(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function mg(r){if(lf){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}lf=!1}lr=0,gn=At=Je=null,Xo=!1,kc=cf=0,Zo=null}function Xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Je.memoizedState=gn=r:gn=gn.next=r,gn}function cn(){if(At===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var o=gn===null?Je.memoizedState:gn.next;if(o!==null)gn=o,At=r;else{if(r===null)throw Je.alternate===null?Error(s(467)):Error(s(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},gn===null?Je.memoizedState=gn=r:gn=gn.next=r}return gn}function uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oc(r){var o=kc;return kc+=1,Zo===null&&(Zo=[]),r=Ow(Zo,r,o),o=Je,(gn===null?o.memoizedState:gn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?x1:jg),r}function df(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Oc(r);if(r.$$typeof===L)return Bn(r)}throw Error(s(438,String(r)))}function gg(r){var o=null,u=Je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=Je.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=uf(),Je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),p=0;p<r;p++)u[p]=z;return o.index++,u}function cr(r,o){return typeof o=="function"?o(r):o}function ff(r){var o=cn();return yg(o,At,r)}function yg(r,o,u){var p=r.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=u;var v=r.baseQueue,S=p.pending;if(S!==null){if(v!==null){var N=v.next;v.next=S.next,S.next=N}o.baseQueue=v=S,p.pending=null}if(S=r.baseState,v===null)r.memoizedState=S;else{o=v.next;var D=N=null,U=null,J=o,de=!1;do{var me=J.lane&-536870913;if(me!==J.lane?(ht&me)===me:(lr&me)===me){var te=J.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),me===Go&&(de=!0);else if((lr&te)===te){J=J.next,te===Go&&(de=!0);continue}else me={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(D=U=me,N=S):U=U.next=me,Je.lanes|=te,Yr|=te;me=J.action,Va&&u(S,me),S=J.hasEagerState?J.eagerState:u(S,me)}else te={lane:me,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(D=U=te,N=S):U=U.next=te,Je.lanes|=me,Yr|=me;J=J.next}while(J!==null&&J!==o);if(U===null?N=S:U.next=D,!Ns(S,r.memoizedState)&&(yn=!0,de&&(u=Yo,u!==null)))throw u;r.memoizedState=S,r.baseState=N,r.baseQueue=U,p.lastRenderedState=S}return v===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function vg(r){var o=cn(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var p=u.dispatch,v=u.pending,S=o.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do S=r(S,N.action),N=N.next;while(N!==v);Ns(S,o.memoizedState)||(yn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,p]}function zw(r,o,u){var p=Je,v=cn(),S=mt;if(S){if(u===void 0)throw Error(s(407));u=u()}else u=o();var N=!Ns((At||v).memoizedState,u);if(N&&(v.memoizedState=u,yn=!0),v=v.queue,wg($w.bind(null,p,v,r),[r]),v.getSnapshot!==o||N||gn!==null&&gn.memoizedState.tag&1){if(p.flags|=2048,Jo(9,{destroy:void 0},Hw.bind(null,p,v,u,o),null),zt===null)throw Error(s(349));S||(lr&127)!==0||Fw(p,o,u)}return u}function Fw(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o=uf(),Je.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Hw(r,o,u,p){o.value=u,o.getSnapshot=p,Vw(o)&&qw(r)}function $w(r,o,u){return u(function(){Vw(o)&&qw(r)})}function Vw(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ns(r,u)}catch{return!0}}function qw(r){var o=Ra(r,2);o!==null&&gs(o,r,2)}function bg(r){var o=Xn();if(typeof r=="function"){var u=r;if(r=u(),Va){He(!0);try{u()}finally{He(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:r},o}function Gw(r,o,u,p){return r.baseState=u,yg(r,At,typeof p=="function"?p:cr)}function GT(r,o,u,p,v){if(mf(r))throw Error(s(485));if(r=o.action,r!==null){var S={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};B.T!==null?u(!0):S.isTransition=!1,p(S),u=o.pending,u===null?(S.next=o.pending=S,Yw(o,S)):(S.next=u.next,o.pending=u.next=S)}}function Yw(r,o){var u=o.action,p=o.payload,v=r.state;if(o.isTransition){var S=B.T,N={};B.T=N;try{var D=u(v,p),U=B.S;U!==null&&U(N,D),Ww(r,o,D)}catch(J){xg(r,o,J)}finally{S!==null&&N.types!==null&&(S.types=N.types),B.T=S}}else try{S=u(v,p),Ww(r,o,S)}catch(J){xg(r,o,J)}}function Ww(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Qw(r,o,p)},function(p){return xg(r,o,p)}):Qw(r,o,u)}function Qw(r,o,u){o.status="fulfilled",o.value=u,Kw(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Yw(r,u)))}function xg(r,o,u){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,Kw(o),o=o.next;while(o!==p)}r.action=null}function Kw(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Xw(r,o){return o}function Zw(r,o){if(mt){var u=zt.formState;if(u!==null){e:{var p=Je;if(mt){if(Gt){t:{for(var v=Gt,S=ti;v.nodeType!==8;){if(!S){v=null;break t}if(v=si(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){Gt=si(v.nextSibling),p=v.data==="F!";break e}}Br(p)}p=!1}p&&(o=u[0])}}return u=Xn(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xw,lastRenderedState:o},u.queue=p,u=y1.bind(null,Je,p),p.dispatch=u,p=bg(!1),S=Ng.bind(null,Je,!1,p.queue),p=Xn(),v={state:o,dispatch:null,action:r,pending:null},p.queue=v,u=GT.bind(null,Je,v,S,u),v.dispatch=u,p.memoizedState=r,[o,u,!1]}function Jw(r){var o=cn();return e1(o,At,r)}function e1(r,o,u){if(o=yg(r,o,Xw)[0],r=ff(cr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Oc(o)}catch(N){throw N===Wo?tf:N}else p=o;o=cn();var v=o.queue,S=v.dispatch;return u!==o.memoizedState&&(Je.flags|=2048,Jo(9,{destroy:void 0},YT.bind(null,v,u),null)),[p,S,r]}function YT(r,o){r.action=o}function t1(r){var o=cn(),u=At;if(u!==null)return e1(o,u,r);cn(),o=o.memoizedState,u=cn();var p=u.queue.dispatch;return u.memoizedState=r,[o,p,!1]}function Jo(r,o,u,p){return r={tag:r,create:u,deps:p,inst:o,next:null},o=Je.updateQueue,o===null&&(o=uf(),Je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(p=u.next,u.next=r,r.next=p,o.lastEffect=r),r}function n1(){return cn().memoizedState}function hf(r,o,u,p){var v=Xn();Je.flags|=r,v.memoizedState=Jo(1|o,{destroy:void 0},u,p===void 0?null:p)}function pf(r,o,u,p){var v=cn();p=p===void 0?null:p;var S=v.memoizedState.inst;At!==null&&p!==null&&dg(p,At.memoizedState.deps)?v.memoizedState=Jo(o,S,u,p):(Je.flags|=r,v.memoizedState=Jo(1|o,S,u,p))}function s1(r,o){hf(8390656,8,r,o)}function wg(r,o){pf(2048,8,r,o)}function WT(r){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=uf(),Je.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function i1(r){var o=cn().memoizedState;return WT({ref:o,nextImpl:r}),function(){if((Et&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function r1(r,o){return pf(4,2,r,o)}function a1(r,o){return pf(4,4,r,o)}function o1(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function l1(r,o,u){u=u!=null?u.concat([r]):null,pf(4,4,o1.bind(null,o,r),u)}function Sg(){}function c1(r,o){var u=cn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&dg(o,p[1])?p[0]:(u.memoizedState=[r,o],r)}function u1(r,o){var u=cn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&dg(o,p[1]))return p[0];if(p=r(),Va){He(!0);try{r()}finally{He(!1)}}return u.memoizedState=[p,o],p}function _g(r,o,u){return u===void 0||(lr&1073741824)!==0&&(ht&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=dS(),Je.lanes|=r,Yr|=r,u)}function d1(r,o,u,p){return Ns(u,o)?u:Ko.current!==null?(r=_g(r,u,p),Ns(r,o)||(yn=!0),r):(lr&42)===0||(lr&1073741824)!==0&&(ht&261930)===0?(yn=!0,r.memoizedState=u):(r=dS(),Je.lanes|=r,Yr|=r,o)}function f1(r,o,u,p,v){var S=Q.p;Q.p=S!==0&&8>S?S:8;var N=B.T,D={};B.T=D,Ng(r,!1,o,u);try{var U=v(),J=B.S;if(J!==null&&J(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var de=$T(U,p);Lc(r,o,de,Ds(r))}else Lc(r,o,p,Ds(r))}catch(me){Lc(r,o,{then:function(){},status:"rejected",reason:me},Ds())}finally{Q.p=S,N!==null&&D.types!==null&&(N.types=D.types),B.T=N}}function QT(){}function Cg(r,o,u,p){if(r.tag!==5)throw Error(s(476));var v=h1(r).queue;f1(r,v,o,se,u===null?QT:function(){return p1(r),u(p)})}function h1(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:se},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function p1(r){var o=h1(r);o.next===null&&(o=r.alternate.memoizedState),Lc(r,o.next.queue,{},Ds())}function Eg(){return Bn(Yc)}function m1(){return cn().memoizedState}function g1(){return cn().memoizedState}function KT(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ds();r=Fr(u);var p=Hr(o,r,u);p!==null&&(gs(p,o,u),Ec(p,o,u)),o={cache:eg()},r.payload=o;return}o=o.return}}function XT(r,o,u){var p=Ds();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},mf(r)?v1(o,u):(u=$m(r,o,u,p),u!==null&&(gs(u,r,p),b1(u,o,p)))}function y1(r,o,u){var p=Ds();Lc(r,o,u,p)}function Lc(r,o,u,p){var v={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(mf(r))v1(o,v);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var N=o.lastRenderedState,D=S(N,u);if(v.hasEagerState=!0,v.eagerState=D,Ns(D,N))return Wd(r,o,v,0),zt===null&&Yd(),!1}catch{}if(u=$m(r,o,v,p),u!==null)return gs(u,r,p),b1(u,o,p),!0}return!1}function Ng(r,o,u,p){if(p={lane:2,revertLane:iy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},mf(r)){if(o)throw Error(s(479))}else o=$m(r,u,p,2),o!==null&&gs(o,r,2)}function mf(r){var o=r.alternate;return r===Je||o!==null&&o===Je}function v1(r,o){Xo=lf=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function b1(r,o,u){if((u&4194048)!==0){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,C0(r,u)}}var Mc={readContext:Bn,use:df,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Mc.useEffectEvent=nn;var x1={readContext:Bn,use:df,useCallback:function(r,o){return Xn().memoizedState=[r,o===void 0?null:o],r},useContext:Bn,useEffect:s1,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,hf(4194308,4,o1.bind(null,o,r),u)},useLayoutEffect:function(r,o){return hf(4194308,4,r,o)},useInsertionEffect:function(r,o){hf(4,2,r,o)},useMemo:function(r,o){var u=Xn();o=o===void 0?null:o;var p=r();if(Va){He(!0);try{r()}finally{He(!1)}}return u.memoizedState=[p,o],p},useReducer:function(r,o,u){var p=Xn();if(u!==void 0){var v=u(o);if(Va){He(!0);try{u(o)}finally{He(!1)}}}else v=o;return p.memoizedState=p.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},p.queue=r,r=r.dispatch=XT.bind(null,Je,r),[p.memoizedState,r]},useRef:function(r){var o=Xn();return r={current:r},o.memoizedState=r},useState:function(r){r=bg(r);var o=r.queue,u=y1.bind(null,Je,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Sg,useDeferredValue:function(r,o){var u=Xn();return _g(u,r,o)},useTransition:function(){var r=bg(!1);return r=f1.bind(null,Je,r.queue,!0,!1),Xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var p=Je,v=Xn();if(mt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=o(),zt===null)throw Error(s(349));(ht&127)!==0||Fw(p,o,u)}v.memoizedState=u;var S={value:u,getSnapshot:o};return v.queue=S,s1($w.bind(null,p,S,r),[r]),p.flags|=2048,Jo(9,{destroy:void 0},Hw.bind(null,p,S,u,o),null),u},useId:function(){var r=Xn(),o=zt.identifierPrefix;if(mt){var u=Ti,p=Di;u=(p&~(1<<32-xt(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=cf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=VT++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Eg,useFormState:Zw,useActionState:Zw,useOptimistic:function(r){var o=Xn();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Ng.bind(null,Je,!0,u),u.dispatch=o,[r,o]},useMemoCache:gg,useCacheRefresh:function(){return Xn().memoizedState=KT.bind(null,Je)},useEffectEvent:function(r){var o=Xn(),u={impl:r};return o.memoizedState=u,function(){if((Et&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}},jg={readContext:Bn,use:df,useCallback:c1,useContext:Bn,useEffect:wg,useImperativeHandle:l1,useInsertionEffect:r1,useLayoutEffect:a1,useMemo:u1,useReducer:ff,useRef:n1,useState:function(){return ff(cr)},useDebugValue:Sg,useDeferredValue:function(r,o){var u=cn();return d1(u,At.memoizedState,r,o)},useTransition:function(){var r=ff(cr)[0],o=cn().memoizedState;return[typeof r=="boolean"?r:Oc(r),o]},useSyncExternalStore:zw,useId:m1,useHostTransitionStatus:Eg,useFormState:Jw,useActionState:Jw,useOptimistic:function(r,o){var u=cn();return Gw(u,At,r,o)},useMemoCache:gg,useCacheRefresh:g1};jg.useEffectEvent=i1;var w1={readContext:Bn,use:df,useCallback:c1,useContext:Bn,useEffect:wg,useImperativeHandle:l1,useInsertionEffect:r1,useLayoutEffect:a1,useMemo:u1,useReducer:vg,useRef:n1,useState:function(){return vg(cr)},useDebugValue:Sg,useDeferredValue:function(r,o){var u=cn();return At===null?_g(u,r,o):d1(u,At.memoizedState,r,o)},useTransition:function(){var r=vg(cr)[0],o=cn().memoizedState;return[typeof r=="boolean"?r:Oc(r),o]},useSyncExternalStore:zw,useId:m1,useHostTransitionStatus:Eg,useFormState:t1,useActionState:t1,useOptimistic:function(r,o){var u=cn();return At!==null?Gw(u,At,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:gg,useCacheRefresh:g1};w1.useEffectEvent=i1;function kg(r,o,u,p){o=r.memoizedState,u=u(p,o),u=u==null?o:g({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Og={enqueueSetState:function(r,o,u){r=r._reactInternals;var p=Ds(),v=Fr(p);v.payload=o,u!=null&&(v.callback=u),o=Hr(r,v,p),o!==null&&(gs(o,r,p),Ec(o,r,p))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var p=Ds(),v=Fr(p);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Hr(r,v,p),o!==null&&(gs(o,r,p),Ec(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Ds(),p=Fr(u);p.tag=2,o!=null&&(p.callback=o),o=Hr(r,p,u),o!==null&&(gs(o,r,u),Ec(o,r,u))}};function S1(r,o,u,p,v,S,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,S,N):o.prototype&&o.prototype.isPureReactComponent?!yc(u,p)||!yc(v,S):!0}function _1(r,o,u,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==r&&Og.enqueueReplaceState(o,o.state,null)}function qa(r,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(r=r.defaultProps){u===o&&(u=g({},u));for(var v in r)u[v]===void 0&&(u[v]=r[v])}return u}function C1(r){Gd(r)}function E1(r){console.error(r)}function N1(r){Gd(r)}function gf(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function j1(r,o,u){try{var p=r.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Lg(r,o,u){return u=Fr(u),u.tag=3,u.payload={element:null},u.callback=function(){gf(r,o)},u}function k1(r){return r=Fr(r),r.tag=3,r}function O1(r,o,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var S=p.value;r.payload=function(){return v(S)},r.callback=function(){j1(o,u,p)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){j1(o,u,p),typeof v!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function ZT(r,o,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&qo(o,u,v,!0),u=ks.current,u!==null){switch(u.tag){case 31:case 13:return ni===null?kf():u.alternate===null&&sn===0&&(sn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===nf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),ty(r,p,v)),!1;case 22:return u.flags|=65536,p===nf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),ty(r,p,v)),!1}throw Error(s(435,u.tag))}return ty(r,p,v),kf(),!1}if(mt)return o=ks.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==Qm&&(r=Error(s(422),{cause:p}),xc(Zs(r,u)))):(p!==Qm&&(o=Error(s(423),{cause:p}),xc(Zs(o,u))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,p=Zs(p,u),v=Lg(r.stateNode,p,v),ag(r,v),sn!==4&&(sn=2)),!1;var S=Error(s(520),{cause:p});if(S=Zs(S,u),Uc===null?Uc=[S]:Uc.push(S),sn!==4&&(sn=2),o===null)return!0;p=Zs(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=v&-v,u.lanes|=r,r=Lg(u.stateNode,p,r),ag(u,r),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Wr===null||!Wr.has(S))))return u.flags|=65536,v&=-v,u.lanes|=v,v=k1(v),O1(v,r,u,p),ag(u,v),!1}u=u.return}while(u!==null);return!1}var Mg=Error(s(461)),yn=!1;function Un(r,o,u,p){o.child=r===null?Tw(o,null,u,p):$a(o,r.child,u,p)}function L1(r,o,u,p,v){u=u.render;var S=o.ref;if("ref"in p){var N={};for(var D in p)D!=="ref"&&(N[D]=p[D])}else N=p;return Ua(o),p=fg(r,o,u,N,S,v),D=hg(),r!==null&&!yn?(pg(r,o,v),ur(r,o,v)):(mt&&D&&Ym(o),o.flags|=1,Un(r,o,p,v),o.child)}function M1(r,o,u,p,v){if(r===null){var S=u.type;return typeof S=="function"&&!Vm(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,D1(r,o,S,p,v)):(r=Kd(u.type,null,p,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(S=r.child,!Ug(r,v)){var N=S.memoizedProps;if(u=u.compare,u=u!==null?u:yc,u(N,p)&&r.ref===o.ref)return ur(r,o,v)}return o.flags|=1,r=ir(S,p),r.ref=o.ref,r.return=o,o.child=r}function D1(r,o,u,p,v){if(r!==null){var S=r.memoizedProps;if(yc(S,p)&&r.ref===o.ref)if(yn=!1,o.pendingProps=p=S,Ug(r,v))(r.flags&131072)!==0&&(yn=!0);else return o.lanes=r.lanes,ur(r,o,v)}return Dg(r,o,u,p,v)}function T1(r,o,u,p){var v=p.children,S=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,r!==null){for(p=o.child=r.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~S}else p=0,o.child=null;return A1(r,o,S,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&ef(o,S!==null?S.cachePool:null),S!==null?Pw(o,S):lg(),Iw(o);else return p=o.lanes=536870912,A1(r,o,S!==null?S.baseLanes|u:u,u,p)}else S!==null?(ef(o,S.cachePool),Pw(o,S),Vr(),o.memoizedState=null):(r!==null&&ef(o,null),lg(),Vr());return Un(r,o,v,u),o.child}function Dc(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function A1(r,o,u,p,v){var S=ng();return S=S===null?null:{parent:mn._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},r!==null&&ef(o,null),lg(),Iw(o),r!==null&&qo(r,o,p,!0),o.childLanes=v,null}function yf(r,o){return o=bf({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function R1(r,o,u){return $a(o,r.child,null,u),r=yf(o,o.pendingProps),r.flags|=2,Os(o),o.memoizedState=null,r}function JT(r,o,u){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(mt){if(p.mode==="hidden")return r=yf(o,p),o.lanes=536870912,Dc(null,r);if(ug(o),(r=Gt)?(r=YS(r,ti),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Pr!==null?{id:Di,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},u=vw(r),u.return=o,o.child=u,In=o,Gt=null)):r=null,r===null)throw Br(o);return o.lanes=536870912,null}return yf(o,p)}var S=r.memoizedState;if(S!==null){var N=S.dehydrated;if(ug(o),v)if(o.flags&256)o.flags&=-257,o=R1(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(s(558));else if(yn||qo(r,o,u,!1),v=(u&r.childLanes)!==0,yn||v){if(p=zt,p!==null&&(N=E0(p,u),N!==0&&N!==S.retryLane))throw S.retryLane=N,Ra(r,N),gs(p,r,N),Mg;kf(),o=R1(r,o,u)}else r=S.treeContext,Gt=si(N.nextSibling),In=o,mt=!0,Ir=null,ti=!1,r!==null&&ww(o,r),o=yf(o,p),o.flags|=4096;return o}return r=ir(r.child,{mode:p.mode,children:p.children}),r.ref=o.ref,o.child=r,r.return=o,r}function vf(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function Dg(r,o,u,p,v){return Ua(o),u=fg(r,o,u,p,void 0,v),p=hg(),r!==null&&!yn?(pg(r,o,v),ur(r,o,v)):(mt&&p&&Ym(o),o.flags|=1,Un(r,o,u,v),o.child)}function P1(r,o,u,p,v,S){return Ua(o),o.updateQueue=null,u=Uw(o,p,u,v),Bw(r),p=hg(),r!==null&&!yn?(pg(r,o,S),ur(r,o,S)):(mt&&p&&Ym(o),o.flags|=1,Un(r,o,u,S),o.child)}function I1(r,o,u,p,v){if(Ua(o),o.stateNode===null){var S=Fo,N=u.contextType;typeof N=="object"&&N!==null&&(S=Bn(N)),S=new u(p,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Og,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=p,S.state=o.memoizedState,S.refs={},ig(o),N=u.contextType,S.context=typeof N=="object"&&N!==null?Bn(N):Fo,S.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(kg(o,u,N,p),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Og.enqueueReplaceState(S,S.state,null),jc(o,p,S,v),Nc(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(r===null){S=o.stateNode;var D=o.memoizedProps,U=qa(u,D);S.props=U;var J=S.context,de=u.contextType;N=Fo,typeof de=="object"&&de!==null&&(N=Bn(de));var me=u.getDerivedStateFromProps;de=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||J!==N)&&_1(o,S,p,N),zr=!1;var te=o.memoizedState;S.state=te,jc(o,p,S,v),Nc(),J=o.memoizedState,D||te!==J||zr?(typeof me=="function"&&(kg(o,u,me,p),J=o.memoizedState),(U=zr||S1(o,u,U,p,te,J,N))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=J),S.props=p,S.state=J,S.context=N,p=U):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,rg(r,o),N=o.memoizedProps,de=qa(u,N),S.props=de,me=o.pendingProps,te=S.context,J=u.contextType,U=Fo,typeof J=="object"&&J!==null&&(U=Bn(J)),D=u.getDerivedStateFromProps,(J=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==me||te!==U)&&_1(o,S,p,U),zr=!1,te=o.memoizedState,S.state=te,jc(o,p,S,v),Nc();var ie=o.memoizedState;N!==me||te!==ie||zr||r!==null&&r.dependencies!==null&&Zd(r.dependencies)?(typeof D=="function"&&(kg(o,u,D,p),ie=o.memoizedState),(de=zr||S1(o,u,de,p,te,ie,U)||r!==null&&r.dependencies!==null&&Zd(r.dependencies))?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ie,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ie,U)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ie),S.props=p,S.state=ie,S.context=U,p=de):(typeof S.componentDidUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),p=!1)}return S=p,vf(r,o),p=(o.flags&128)!==0,S||p?(S=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,r!==null&&p?(o.child=$a(o,r.child,null,v),o.child=$a(o,null,u,v)):Un(r,o,u,v),o.memoizedState=S.state,r=o.child):r=ur(r,o,v),r}function B1(r,o,u,p){return Ia(),o.flags|=256,Un(r,o,u,p),o.child}var Tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ag(r){return{baseLanes:r,cachePool:jw()}}function Rg(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Ms),r}function U1(r,o,u){var p=o.pendingProps,v=!1,S=(o.flags&128)!==0,N;if((N=S)||(N=r!==null&&r.memoizedState===null?!1:(ln.current&2)!==0),N&&(v=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,r===null){if(mt){if(v?$r(o):Vr(),(r=Gt)?(r=YS(r,ti),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Pr!==null?{id:Di,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},u=vw(r),u.return=o,o.child=u,In=o,Gt=null)):r=null,r===null)throw Br(o);return yy(r)?o.lanes=32:o.lanes=536870912,null}var D=p.children;return p=p.fallback,v?(Vr(),v=o.mode,D=bf({mode:"hidden",children:D},v),p=Pa(p,v,u,null),D.return=o,p.return=o,D.sibling=p,o.child=D,p=o.child,p.memoizedState=Ag(u),p.childLanes=Rg(r,N,u),o.memoizedState=Tg,Dc(null,p)):($r(o),Pg(o,D))}var U=r.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(S)o.flags&256?($r(o),o.flags&=-257,o=Ig(r,o,u)):o.memoizedState!==null?(Vr(),o.child=r.child,o.flags|=128,o=null):(Vr(),D=p.fallback,v=o.mode,p=bf({mode:"visible",children:p.children},v),D=Pa(D,v,u,null),D.flags|=2,p.return=o,D.return=o,p.sibling=D,o.child=p,$a(o,r.child,null,u),p=o.child,p.memoizedState=Ag(u),p.childLanes=Rg(r,N,u),o.memoizedState=Tg,o=Dc(null,p));else if($r(o),yy(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var J=N.dgst;N=J,p=Error(s(419)),p.stack="",p.digest=N,xc({value:p,source:null,stack:null}),o=Ig(r,o,u)}else if(yn||qo(r,o,u,!1),N=(u&r.childLanes)!==0,yn||N){if(N=zt,N!==null&&(p=E0(N,u),p!==0&&p!==U.retryLane))throw U.retryLane=p,Ra(r,p),gs(N,r,p),Mg;gy(D)||kf(),o=Ig(r,o,u)}else gy(D)?(o.flags|=192,o.child=r.child,o=null):(r=U.treeContext,Gt=si(D.nextSibling),In=o,mt=!0,Ir=null,ti=!1,r!==null&&ww(o,r),o=Pg(o,p.children),o.flags|=4096);return o}return v?(Vr(),D=p.fallback,v=o.mode,U=r.child,J=U.sibling,p=ir(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,J!==null?D=ir(J,D):(D=Pa(D,v,u,null),D.flags|=2),D.return=o,p.return=o,p.sibling=D,o.child=p,Dc(null,p),p=o.child,D=r.child.memoizedState,D===null?D=Ag(u):(v=D.cachePool,v!==null?(U=mn._currentValue,v=v.parent!==U?{parent:U,pool:U}:v):v=jw(),D={baseLanes:D.baseLanes|u,cachePool:v}),p.memoizedState=D,p.childLanes=Rg(r,N,u),o.memoizedState=Tg,Dc(r.child,p)):($r(o),u=r.child,r=u.sibling,u=ir(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,r!==null&&(N=o.deletions,N===null?(o.deletions=[r],o.flags|=16):N.push(r)),o.child=u,o.memoizedState=null,u)}function Pg(r,o){return o=bf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function bf(r,o){return r=js(22,r,null,o),r.lanes=0,r}function Ig(r,o,u){return $a(o,r.child,null,u),r=Pg(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function z1(r,o,u){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),Zm(r.return,o,u)}function Bg(r,o,u,p,v,S){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v,treeForkCount:S}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=v,N.treeForkCount=S)}function F1(r,o,u){var p=o.pendingProps,v=p.revealOrder,S=p.tail;p=p.children;var N=ln.current,D=(N&2)!==0;if(D?(N=N&1|2,o.flags|=128):N&=1,V(ln,N),Un(r,o,p,u),p=mt?bc:0,!D&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&z1(r,u,o);else if(r.tag===19)z1(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)r=u.alternate,r!==null&&of(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Bg(o,!1,v,u,S,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&of(r)===null){o.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}Bg(o,!0,u,null,S,p);break;case"together":Bg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ur(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Yr|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(qo(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,u=ir(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=ir(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Ug(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Zd(r)))}function eA(r,o,u){switch(o.tag){case 3:Ae(o,o.stateNode.containerInfo),Ur(o,mn,r.memoizedState.cache),Ia();break;case 27:case 5:ve(o);break;case 4:Ae(o,o.stateNode.containerInfo);break;case 10:Ur(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,ug(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?($r(o),o.flags|=128,null):(u&o.child.childLanes)!==0?U1(r,o,u):($r(o),r=ur(r,o,u),r!==null?r.sibling:null);$r(o);break;case 19:var v=(r.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(qo(r,o,u,!1),p=(u&o.childLanes)!==0),v){if(p)return F1(r,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),V(ln,ln.current),p)break;return null;case 22:return o.lanes=0,T1(r,o,u,o.pendingProps);case 24:Ur(o,mn,r.memoizedState.cache)}return ur(r,o,u)}function H1(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)yn=!0;else{if(!Ug(r,u)&&(o.flags&128)===0)return yn=!1,eA(r,o,u);yn=(r.flags&131072)!==0}else yn=!1,mt&&(o.flags&1048576)!==0&&xw(o,bc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(r=Fa(o.elementType),o.type=r,typeof r=="function")Vm(r)?(p=qa(r,p),o.tag=1,o=I1(null,o,r,p,u)):(o.tag=0,o=Dg(null,o,r,p,u));else{if(r!=null){var v=r.$$typeof;if(v===O){o.tag=11,o=L1(null,o,r,p,u);break e}else if(v===T){o.tag=14,o=M1(null,o,r,p,u);break e}}throw o=re(r)||r,Error(s(306,o,""))}}return o;case 0:return Dg(r,o,o.type,o.pendingProps,u);case 1:return p=o.type,v=qa(p,o.pendingProps),I1(r,o,p,v,u);case 3:e:{if(Ae(o,o.stateNode.containerInfo),r===null)throw Error(s(387));p=o.pendingProps;var S=o.memoizedState;v=S.element,rg(r,o),jc(o,p,null,u);var N=o.memoizedState;if(p=N.cache,Ur(o,mn,p),p!==S.cache&&Jm(o,[mn],u,!0),Nc(),p=N.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=B1(r,o,p,u);break e}else if(p!==v){v=Zs(Error(s(424)),o),xc(v),o=B1(r,o,p,u);break e}else for(r=o.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Gt=si(r.firstChild),In=o,mt=!0,Ir=null,ti=!0,u=Tw(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ia(),p===v){o=ur(r,o,u);break e}Un(r,o,p,u)}o=o.child}return o;case 26:return vf(r,o),r===null?(u=JS(o.type,null,o.pendingProps,null))?o.memoizedState=u:mt||(u=o.type,r=o.pendingProps,p=Rf(je.current).createElement(u),p[Pn]=o,p[us]=r,zn(p,u,r),Ln(p),o.stateNode=p):o.memoizedState=JS(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return ve(o),r===null&&mt&&(p=o.stateNode=KS(o.type,o.pendingProps,je.current),In=o,ti=!0,v=Gt,Zr(o.type)?(vy=v,Gt=si(p.firstChild)):Gt=v),Un(r,o,o.pendingProps.children,u),vf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&mt&&((v=p=Gt)&&(p=LA(p,o.type,o.pendingProps,ti),p!==null?(o.stateNode=p,In=o,Gt=si(p.firstChild),ti=!1,v=!0):v=!1),v||Br(o)),ve(o),v=o.type,S=o.pendingProps,N=r!==null?r.memoizedProps:null,p=S.children,hy(v,S)?p=null:N!==null&&hy(v,N)&&(o.flags|=32),o.memoizedState!==null&&(v=fg(r,o,qT,null,null,u),Yc._currentValue=v),vf(r,o),Un(r,o,p,u),o.child;case 6:return r===null&&mt&&((r=u=Gt)&&(u=MA(u,o.pendingProps,ti),u!==null?(o.stateNode=u,In=o,Gt=null,r=!0):r=!1),r||Br(o)),null;case 13:return U1(r,o,u);case 4:return Ae(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=$a(o,null,p,u):Un(r,o,p,u),o.child;case 11:return L1(r,o,o.type,o.pendingProps,u);case 7:return Un(r,o,o.pendingProps,u),o.child;case 8:return Un(r,o,o.pendingProps.children,u),o.child;case 12:return Un(r,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,Ur(o,o.type,p.value),Un(r,o,p.children,u),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Ua(o),v=Bn(v),p=p(v),o.flags|=1,Un(r,o,p,u),o.child;case 14:return M1(r,o,o.type,o.pendingProps,u);case 15:return D1(r,o,o.type,o.pendingProps,u);case 19:return F1(r,o,u);case 31:return JT(r,o,u);case 22:return T1(r,o,u,o.pendingProps);case 24:return Ua(o),p=Bn(mn),r===null?(v=ng(),v===null&&(v=zt,S=eg(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=u),v=S),o.memoizedState={parent:p,cache:v},ig(o),Ur(o,mn,v)):((r.lanes&u)!==0&&(rg(r,o),jc(o,null,null,u),Nc()),v=r.memoizedState,S=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ur(o,mn,p)):(p=S.cache,Ur(o,mn,p),p!==v.cache&&Jm(o,[mn],u,!0))),Un(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function dr(r){r.flags|=4}function zg(r,o,u,p,v){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(mS())r.flags|=8192;else throw Ha=nf,sg}else r.flags&=-16777217}function $1(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!i_(o))if(mS())r.flags|=8192;else throw Ha=nf,sg}function xf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?ka():536870912,r.lanes|=o,sl|=o)}function Tc(r,o){if(!mt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Yt(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,p=0;if(o)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=p,r.childLanes=u,o}function tA(r,o,u){var p=o.pendingProps;switch(Wm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return Yt(o),null;case 3:return u=o.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),or(mn),Be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Vo(o)?dr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Km())),Yt(o),null;case 26:var v=o.type,S=o.memoizedState;return r===null?(dr(o),S!==null?(Yt(o),$1(o,S)):(Yt(o),zg(o,v,null,p,u))):S?S!==r.memoizedState?(dr(o),Yt(o),$1(o,S)):(Yt(o),o.flags&=-16777217):(r=r.memoizedProps,r!==p&&dr(o),Yt(o),zg(o,v,r,p,u)),null;case 27:if(Me(o),u=je.current,v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&dr(o);else{if(!p){if(o.stateNode===null)throw Error(s(166));return Yt(o),null}r=ee.current,Vo(o)?Sw(o):(r=KS(v,p,u),o.stateNode=r,dr(o))}return Yt(o),null;case 5:if(Me(o),v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&dr(o);else{if(!p){if(o.stateNode===null)throw Error(s(166));return Yt(o),null}if(S=ee.current,Vo(o))Sw(o);else{var N=Rf(je.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?N.createElement(v,{is:p.is}):N.createElement(v)}}S[Pn]=o,S[us]=p;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=S;e:switch(zn(S,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&dr(o)}}return Yt(o),zg(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==p&&dr(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(s(166));if(r=je.current,Vo(o)){if(r=o.stateNode,u=o.memoizedProps,p=null,v=In,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}r[Pn]=o,r=!!(r.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||US(r.nodeValue,u)),r||Br(o,!0)}else r=Rf(r).createTextNode(p),r[Pn]=o,o.stateNode=r}return Yt(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(p=Vo(o),u!==null){if(r===null){if(!p)throw Error(s(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Pn]=o}else Ia(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),r=!1}else u=Km(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?(Os(o),o):(Os(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Yt(o),null;case 13:if(p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Vo(o),p!==null&&p.dehydrated!==null){if(r===null){if(!v)throw Error(s(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Pn]=o}else Ia(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),v=!1}else v=Km(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Os(o),o):(Os(o),null)}return Os(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,r=r!==null&&r.memoizedState!==null,u&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==v&&(p.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),xf(o,o.updateQueue),Yt(o),null);case 4:return Be(),r===null&&ly(o.stateNode.containerInfo),Yt(o),null;case 10:return or(o.type),Yt(o),null;case 19:if(R(ln),p=o.memoizedState,p===null)return Yt(o),null;if(v=(o.flags&128)!==0,S=p.rendering,S===null)if(v)Tc(p,!1);else{if(sn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(S=of(r),S!==null){for(o.flags|=128,Tc(p,!1),r=S.updateQueue,o.updateQueue=r,xf(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)yw(u,r),u=u.sibling;return V(ln,ln.current&1|2),mt&&rr(o,p.treeForkCount),o.child}r=r.sibling}p.tail!==null&&Ee()>Ef&&(o.flags|=128,v=!0,Tc(p,!1),o.lanes=4194304)}else{if(!v)if(r=of(S),r!==null){if(o.flags|=128,v=!0,r=r.updateQueue,o.updateQueue=r,xf(o,r),Tc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!mt)return Yt(o),null}else 2*Ee()-p.renderingStartTime>Ef&&u!==536870912&&(o.flags|=128,v=!0,Tc(p,!1),o.lanes=4194304);p.isBackwards?(S.sibling=o.child,o.child=S):(r=p.last,r!==null?r.sibling=S:o.child=S,p.last=S)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ee(),r.sibling=null,u=ln.current,V(ln,v?u&1|2:u&1),mt&&rr(o,p.treeForkCount),r):(Yt(o),null);case 22:case 23:return Os(o),cg(),p=o.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(Yt(o),o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),u=o.updateQueue,u!==null&&xf(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),r!==null&&R(za),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),or(mn),Yt(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function nA(r,o){switch(Wm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return or(mn),Be(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Me(o),null;case 31:if(o.memoizedState!==null){if(Os(o),o.alternate===null)throw Error(s(340));Ia()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(Os(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ia()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return R(ln),null;case 4:return Be(),null;case 10:return or(o.type),null;case 22:case 23:return Os(o),cg(),r!==null&&R(za),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return or(mn),null;case 25:return null;default:return null}}function V1(r,o){switch(Wm(o),o.tag){case 3:or(mn),Be();break;case 26:case 27:case 5:Me(o);break;case 4:Be();break;case 31:o.memoizedState!==null&&Os(o);break;case 13:Os(o);break;case 19:R(ln);break;case 10:or(o.type);break;case 22:case 23:Os(o),cg(),r!==null&&R(za);break;case 24:or(mn)}}function Ac(r,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&r)===r){p=void 0;var S=u.create,N=u.inst;p=S(),N.destroy=p}u=u.next}while(u!==v)}}catch(D){Ot(o,o.return,D)}}function qr(r,o,u){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&r)===r){var N=p.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,v=o;var U=u,J=D;try{J()}catch(de){Ot(v,U,de)}}}p=p.next}while(p!==S)}}catch(de){Ot(o,o.return,de)}}function q1(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{Rw(o,u)}catch(p){Ot(r,r.return,p)}}}function G1(r,o,u){u.props=qa(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(p){Ot(r,o,p)}}function Rc(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof u=="function"?r.refCleanup=u(p):u.current=p}}catch(v){Ot(r,o,v)}}function Ai(r,o){var u=r.ref,p=r.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Ot(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ot(r,o,v)}else u.current=null}function Y1(r){var o=r.type,u=r.memoizedProps,p=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Ot(r,r.return,v)}}function Fg(r,o,u){try{var p=r.stateNode;CA(p,r.type,u,o),p[us]=o}catch(v){Ot(r,r.return,v)}}function W1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zr(r.type)||r.tag===4}function Hg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||W1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $g(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=nr));else if(p!==4&&(p===27&&Zr(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for($g(r,o,u),r=r.sibling;r!==null;)$g(r,o,u),r=r.sibling}function wf(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(p!==4&&(p===27&&Zr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(wf(r,o,u),r=r.sibling;r!==null;)wf(r,o,u),r=r.sibling}function Q1(r){var o=r.stateNode,u=r.memoizedProps;try{for(var p=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);zn(o,p,u),o[Pn]=r,o[us]=u}catch(S){Ot(r,r.return,S)}}var fr=!1,vn=!1,Vg=!1,K1=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function sA(r,o){if(r=r.containerInfo,dy=Hf,r=lw(r),Im(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var N=0,D=-1,U=-1,J=0,de=0,me=r,te=null;t:for(;;){for(var ie;me!==u||v!==0&&me.nodeType!==3||(D=N+v),me!==S||p!==0&&me.nodeType!==3||(U=N+p),me.nodeType===3&&(N+=me.nodeValue.length),(ie=me.firstChild)!==null;)te=me,me=ie;for(;;){if(me===r)break t;if(te===u&&++J===v&&(D=N),te===S&&++de===p&&(U=N),(ie=me.nextSibling)!==null)break;me=te,te=me.parentNode}me=ie}u=D===-1||U===-1?null:{start:D,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(fy={focusedElem:r,selectionRange:u},Hf=!1,Mn=o;Mn!==null;)if(o=Mn,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Mn=r;else for(;Mn!==null;){switch(o=Mn,S=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)v=r[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&S!==null){r=void 0,u=o,v=S.memoizedProps,S=S.memoizedState,p=u.stateNode;try{var Ie=qa(u.type,v);r=p.getSnapshotBeforeUpdate(Ie,S),p.__reactInternalSnapshotBeforeUpdate=r}catch(Ge){Ot(u,u.return,Ge)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)my(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":my(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,Mn=r;break}Mn=o.return}}function X1(r,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:pr(r,u),p&4&&Ac(5,u);break;case 1:if(pr(r,u),p&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(N){Ot(u,u.return,N)}else{var v=qa(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(N){Ot(u,u.return,N)}}p&64&&q1(u),p&512&&Rc(u,u.return);break;case 3:if(pr(r,u),p&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Rw(r,o)}catch(N){Ot(u,u.return,N)}}break;case 27:o===null&&p&4&&Q1(u);case 26:case 5:pr(r,u),o===null&&p&4&&Y1(u),p&512&&Rc(u,u.return);break;case 12:pr(r,u);break;case 31:pr(r,u),p&4&&eS(r,u);break;case 13:pr(r,u),p&4&&tS(r,u),p&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=fA.bind(null,u),DA(r,u))));break;case 22:if(p=u.memoizedState!==null||fr,!p){o=o!==null&&o.memoizedState!==null||vn,v=fr;var S=vn;fr=p,(vn=o)&&!S?mr(r,u,(u.subtreeFlags&8772)!==0):pr(r,u),fr=v,vn=S}break;case 30:break;default:pr(r,u)}}function Z1(r){var o=r.alternate;o!==null&&(r.alternate=null,Z1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&xm(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Xt=null,fs=!1;function hr(r,o,u){for(u=u.child;u!==null;)J1(r,o,u),u=u.sibling}function J1(r,o,u){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(be,u)}catch{}switch(u.tag){case 26:vn||Ai(u,o),hr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:vn||Ai(u,o);var p=Xt,v=fs;Zr(u.type)&&(Xt=u.stateNode,fs=!1),hr(r,o,u),Vc(u.stateNode),Xt=p,fs=v;break;case 5:vn||Ai(u,o);case 6:if(p=Xt,v=fs,Xt=null,hr(r,o,u),Xt=p,fs=v,Xt!==null)if(fs)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(u.stateNode)}catch(S){Ot(u,o,S)}else try{Xt.removeChild(u.stateNode)}catch(S){Ot(u,o,S)}break;case 18:Xt!==null&&(fs?(r=Xt,qS(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),dl(r)):qS(Xt,u.stateNode));break;case 4:p=Xt,v=fs,Xt=u.stateNode.containerInfo,fs=!0,hr(r,o,u),Xt=p,fs=v;break;case 0:case 11:case 14:case 15:qr(2,u,o),vn||qr(4,u,o),hr(r,o,u);break;case 1:vn||(Ai(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&G1(u,o,p)),hr(r,o,u);break;case 21:hr(r,o,u);break;case 22:vn=(p=vn)||u.memoizedState!==null,hr(r,o,u),vn=p;break;default:hr(r,o,u)}}function eS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{dl(r)}catch(u){Ot(o,o.return,u)}}}function tS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{dl(r)}catch(u){Ot(o,o.return,u)}}function iA(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new K1),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new K1),o;default:throw Error(s(435,r.tag))}}function Sf(r,o){var u=iA(r);o.forEach(function(p){if(!u.has(p)){u.add(p);var v=hA.bind(null,r,p);p.then(v,v)}})}function hs(r,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],S=r,N=o,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(Zr(D.type)){Xt=D.stateNode,fs=!1;break e}break;case 5:Xt=D.stateNode,fs=!1;break e;case 3:case 4:Xt=D.stateNode.containerInfo,fs=!0;break e}D=D.return}if(Xt===null)throw Error(s(160));J1(S,N,v),Xt=null,fs=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)nS(o,r),o=o.sibling}var xi=null;function nS(r,o){var u=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:hs(o,r),ps(r),p&4&&(qr(3,r,r.return),Ac(3,r),qr(5,r,r.return));break;case 1:hs(o,r),ps(r),p&512&&(vn||u===null||Ai(u,u.return)),p&64&&fr&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=xi;if(hs(o,r),ps(r),p&512&&(vn||u===null||Ai(u,u.return)),p&4){var S=u!==null?u.memoizedState:null;if(p=r.memoizedState,u===null)if(p===null)if(r.stateNode===null){e:{p=r.type,u=r.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":S=v.getElementsByTagName("title")[0],(!S||S[lc]||S[Pn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(p),v.head.insertBefore(S,v.querySelector("head > title"))),zn(S,p,u),S[Pn]=r,Ln(S),p=S;break e;case"link":var N=n_("link","href",v).get(p+(u.href||""));if(N){for(var D=0;D<N.length;D++)if(S=N[D],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(D,1);break t}}S=v.createElement(p),zn(S,p,u),v.head.appendChild(S);break;case"meta":if(N=n_("meta","content",v).get(p+(u.content||""))){for(D=0;D<N.length;D++)if(S=N[D],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(D,1);break t}}S=v.createElement(p),zn(S,p,u),v.head.appendChild(S);break;default:throw Error(s(468,p))}S[Pn]=r,Ln(S),p=S}r.stateNode=p}else s_(v,r.type,r.stateNode);else r.stateNode=t_(v,p,r.memoizedProps);else S!==p?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,p===null?s_(v,r.type,r.stateNode):t_(v,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Fg(r,r.memoizedProps,u.memoizedProps)}break;case 27:hs(o,r),ps(r),p&512&&(vn||u===null||Ai(u,u.return)),u!==null&&p&4&&Fg(r,r.memoizedProps,u.memoizedProps);break;case 5:if(hs(o,r),ps(r),p&512&&(vn||u===null||Ai(u,u.return)),r.flags&32){v=r.stateNode;try{Ao(v,"")}catch(Ie){Ot(r,r.return,Ie)}}p&4&&r.stateNode!=null&&(v=r.memoizedProps,Fg(r,v,u!==null?u.memoizedProps:v)),p&1024&&(Vg=!0);break;case 6:if(hs(o,r),ps(r),p&4){if(r.stateNode===null)throw Error(s(162));p=r.memoizedProps,u=r.stateNode;try{u.nodeValue=p}catch(Ie){Ot(r,r.return,Ie)}}break;case 3:if(Bf=null,v=xi,xi=Pf(o.containerInfo),hs(o,r),xi=v,ps(r),p&4&&u!==null&&u.memoizedState.isDehydrated)try{dl(o.containerInfo)}catch(Ie){Ot(r,r.return,Ie)}Vg&&(Vg=!1,sS(r));break;case 4:p=xi,xi=Pf(r.stateNode.containerInfo),hs(o,r),ps(r),xi=p;break;case 12:hs(o,r),ps(r);break;case 31:hs(o,r),ps(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Sf(r,p)));break;case 13:hs(o,r),ps(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Cf=Ee()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Sf(r,p)));break;case 22:v=r.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,J=fr,de=vn;if(fr=J||v,vn=de||U,hs(o,r),vn=de,fr=J,ps(r),p&8192)e:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||U||fr||vn||Ga(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){U=u=o;try{if(S=U.stateNode,v)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=U.stateNode;var me=U.memoizedProps.style,te=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ie){Ot(U,U.return,Ie)}}}else if(o.tag===6){if(u===null){U=o;try{U.stateNode.nodeValue=v?"":U.memoizedProps}catch(Ie){Ot(U,U.return,Ie)}}}else if(o.tag===18){if(u===null){U=o;try{var ie=U.stateNode;v?GS(ie,!0):GS(U.stateNode,!1)}catch(Ie){Ot(U,U.return,Ie)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=r.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Sf(r,u))));break;case 19:hs(o,r),ps(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Sf(r,p)));break;case 30:break;case 21:break;default:hs(o,r),ps(r)}}function ps(r){var o=r.flags;if(o&2){try{for(var u,p=r.return;p!==null;){if(W1(p)){u=p;break}p=p.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var v=u.stateNode,S=Hg(r);wf(r,S,v);break;case 5:var N=u.stateNode;u.flags&32&&(Ao(N,""),u.flags&=-33);var D=Hg(r);wf(r,D,N);break;case 3:case 4:var U=u.stateNode.containerInfo,J=Hg(r);$g(r,J,U);break;default:throw Error(s(161))}}catch(de){Ot(r,r.return,de)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function sS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;sS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function pr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)X1(r,o.alternate,o),o=o.sibling}function Ga(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:qr(4,o,o.return),Ga(o);break;case 1:Ai(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&G1(o,o.return,u),Ga(o);break;case 27:Vc(o.stateNode);case 26:case 5:Ai(o,o.return),Ga(o);break;case 22:o.memoizedState===null&&Ga(o);break;case 30:Ga(o);break;default:Ga(o)}r=r.sibling}}function mr(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=r,S=o,N=S.flags;switch(S.tag){case 0:case 11:case 15:mr(v,S,u),Ac(4,S);break;case 1:if(mr(v,S,u),p=S,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){Ot(p,p.return,J)}if(p=S,v=p.updateQueue,v!==null){var D=p.stateNode;try{var U=v.shared.hiddenCallbacks;if(U!==null)for(v.shared.hiddenCallbacks=null,v=0;v<U.length;v++)Aw(U[v],D)}catch(J){Ot(p,p.return,J)}}u&&N&64&&q1(S),Rc(S,S.return);break;case 27:Q1(S);case 26:case 5:mr(v,S,u),u&&p===null&&N&4&&Y1(S),Rc(S,S.return);break;case 12:mr(v,S,u);break;case 31:mr(v,S,u),u&&N&4&&eS(v,S);break;case 13:mr(v,S,u),u&&N&4&&tS(v,S);break;case 22:S.memoizedState===null&&mr(v,S,u),Rc(S,S.return);break;case 30:break;default:mr(v,S,u)}o=o.sibling}}function qg(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&wc(u))}function Gg(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&wc(r))}function wi(r,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)iS(r,o,u,p),o=o.sibling}function iS(r,o,u,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:wi(r,o,u,p),v&2048&&Ac(9,o);break;case 1:wi(r,o,u,p);break;case 3:wi(r,o,u,p),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&wc(r)));break;case 12:if(v&2048){wi(r,o,u,p),r=o.stateNode;try{var S=o.memoizedProps,N=S.id,D=S.onPostCommit;typeof D=="function"&&D(N,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Ot(o,o.return,U)}}else wi(r,o,u,p);break;case 31:wi(r,o,u,p);break;case 13:wi(r,o,u,p);break;case 23:break;case 22:S=o.stateNode,N=o.alternate,o.memoizedState!==null?S._visibility&2?wi(r,o,u,p):Pc(r,o):S._visibility&2?wi(r,o,u,p):(S._visibility|=2,el(r,o,u,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&qg(N,o);break;case 24:wi(r,o,u,p),v&2048&&Gg(o.alternate,o);break;default:wi(r,o,u,p)}}function el(r,o,u,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=r,N=o,D=u,U=p,J=N.flags;switch(N.tag){case 0:case 11:case 15:el(S,N,D,U,v),Ac(8,N);break;case 23:break;case 22:var de=N.stateNode;N.memoizedState!==null?de._visibility&2?el(S,N,D,U,v):Pc(S,N):(de._visibility|=2,el(S,N,D,U,v)),v&&J&2048&&qg(N.alternate,N);break;case 24:el(S,N,D,U,v),v&&J&2048&&Gg(N.alternate,N);break;default:el(S,N,D,U,v)}o=o.sibling}}function Pc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,p=o,v=p.flags;switch(p.tag){case 22:Pc(u,p),v&2048&&qg(p.alternate,p);break;case 24:Pc(u,p),v&2048&&Gg(p.alternate,p);break;default:Pc(u,p)}o=o.sibling}}var Ic=8192;function tl(r,o,u){if(r.subtreeFlags&Ic)for(r=r.child;r!==null;)rS(r,o,u),r=r.sibling}function rS(r,o,u){switch(r.tag){case 26:tl(r,o,u),r.flags&Ic&&r.memoizedState!==null&&VA(u,xi,r.memoizedState,r.memoizedProps);break;case 5:tl(r,o,u);break;case 3:case 4:var p=xi;xi=Pf(r.stateNode.containerInfo),tl(r,o,u),xi=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=Ic,Ic=16777216,tl(r,o,u),Ic=p):tl(r,o,u));break;default:tl(r,o,u)}}function aS(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Bc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Mn=p,lS(p,r)}aS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)oS(r),r=r.sibling}function oS(r){switch(r.tag){case 0:case 11:case 15:Bc(r),r.flags&2048&&qr(9,r,r.return);break;case 3:Bc(r);break;case 12:Bc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,_f(r)):Bc(r);break;default:Bc(r)}}function _f(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Mn=p,lS(p,r)}aS(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:qr(8,o,o.return),_f(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,_f(o));break;default:_f(o)}r=r.sibling}}function lS(r,o){for(;Mn!==null;){var u=Mn;switch(u.tag){case 0:case 11:case 15:qr(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:wc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Mn=p;else e:for(u=r;Mn!==null;){p=Mn;var v=p.sibling,S=p.return;if(Z1(p),p===u){Mn=null;break e}if(v!==null){v.return=S,Mn=v;break e}Mn=S}}}var rA={getCacheForType:function(r){var o=Bn(mn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return Bn(mn).controller.signal}},aA=typeof WeakMap=="function"?WeakMap:Map,Et=0,zt=null,lt=null,ht=0,kt=0,Ls=null,Gr=!1,nl=!1,Yg=!1,gr=0,sn=0,Yr=0,Ya=0,Wg=0,Ms=0,sl=0,Uc=null,ms=null,Qg=!1,Cf=0,cS=0,Ef=1/0,Nf=null,Wr=null,Cn=0,Qr=null,il=null,yr=0,Kg=0,Xg=null,uS=null,zc=0,Zg=null;function Ds(){return(Et&2)!==0&&ht!==0?ht&-ht:B.T!==null?iy():N0()}function dS(){if(Ms===0)if((ht&536870912)===0||mt){var r=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),Ms=r}else Ms=536870912;return r=ks.current,r!==null&&(r.flags|=32),Ms}function gs(r,o,u){(r===zt&&(kt===2||kt===9)||r.cancelPendingCommit!==null)&&(rl(r,0),Kr(r,ht,Ms,!1)),Oa(r,u),((Et&2)===0||r!==zt)&&(r===zt&&((Et&2)===0&&(Ya|=u),sn===4&&Kr(r,ht,Ms,!1)),Ri(r))}function fS(r,o,u){if((Et&6)!==0)throw Error(s(327));var p=!u&&(o&127)===0&&(o&r.expiredLanes)===0||Mi(r,o),v=p?cA(r,o):ey(r,o,!0),S=p;do{if(v===0){nl&&!p&&Kr(r,o,0,!1);break}else{if(u=r.current.alternate,S&&!oA(u)){v=ey(r,o,!1),S=!1;continue}if(v===2){if(S=o,r.errorRecoveryDisabledLanes&S)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var D=r;v=Uc;var U=D.current.memoizedState.isDehydrated;if(U&&(rl(D,N).flags|=256),N=ey(D,N,!1),N!==2){if(Yg&&!U){D.errorRecoveryDisabledLanes|=S,Ya|=S,v=4;break e}S=ms,ms=v,S!==null&&(ms===null?ms=S:ms.push.apply(ms,S))}v=N}if(S=!1,v!==2)continue}}if(v===1){rl(r,0),Kr(r,o,0,!0);break}e:{switch(p=r,S=v,S){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Kr(p,o,Ms,!Gr);break e;case 2:ms=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(v=Cf+300-Ee(),10<v)){if(Kr(p,o,Ms,!Gr),ja(p,0,!0)!==0)break e;yr=o,p.timeoutHandle=$S(hS.bind(null,p,u,ms,Nf,Qg,o,Ms,Ya,sl,Gr,S,"Throttled",-0,0),v);break e}hS(p,u,ms,Nf,Qg,o,Ms,Ya,sl,Gr,S,null,-0,0)}}break}while(!0);Ri(r)}function hS(r,o,u,p,v,S,N,D,U,J,de,me,te,ie){if(r.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nr},rS(o,S,me);var Ie=(S&62914560)===S?Cf-Ee():(S&4194048)===S?cS-Ee():0;if(Ie=qA(me,Ie),Ie!==null){yr=S,r.cancelPendingCommit=Ie(wS.bind(null,r,o,S,u,p,v,N,D,U,de,me,null,te,ie)),Kr(r,S,N,!J);return}}wS(r,o,S,u,p,v,N,D,U)}function oA(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],S=v.getSnapshot;v=v.value;try{if(!Ns(S(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Kr(r,o,u,p){o&=~Wg,o&=~Ya,r.suspendedLanes|=o,r.pingedLanes&=~o,p&&(r.warmLanes|=o),p=r.expirationTimes;for(var v=o;0<v;){var S=31-xt(v),N=1<<S;p[S]=-1,v&=~N}u!==0&&Qe(r,u,o)}function jf(){return(Et&6)===0?(Fc(0),!1):!0}function Jg(){if(lt!==null){if(kt===0)var r=lt.return;else r=lt,ar=Ba=null,mg(r),Qo=null,_c=0,r=lt;for(;r!==null;)V1(r.alternate,r),r=r.return;lt=null}}function rl(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,jA(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),yr=0,Jg(),zt=r,lt=u=ir(r.current,null),ht=o,kt=0,Ls=null,Gr=!1,nl=Mi(r,o),Yg=!1,sl=Ms=Wg=Ya=Yr=sn=0,ms=Uc=null,Qg=!1,(o&8)!==0&&(o|=o&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=o;0<p;){var v=31-xt(p),S=1<<v;o|=r[v],p&=~S}return gr=o,Yd(),u}function pS(r,o){Je=null,B.H=Mc,o===Wo||o===tf?(o=Lw(),kt=3):o===sg?(o=Lw(),kt=4):kt=o===Mg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ls=o,lt===null&&(sn=1,gf(r,Zs(o,r.current)))}function mS(){var r=ks.current;return r===null?!0:(ht&4194048)===ht?ni===null:(ht&62914560)===ht||(ht&536870912)!==0?r===ni:!1}function gS(){var r=B.H;return B.H=Mc,r===null?Mc:r}function yS(){var r=B.A;return B.A=rA,r}function kf(){sn=4,Gr||(ht&4194048)!==ht&&ks.current!==null||(nl=!0),(Yr&134217727)===0&&(Ya&134217727)===0||zt===null||Kr(zt,ht,Ms,!1)}function ey(r,o,u){var p=Et;Et|=2;var v=gS(),S=yS();(zt!==r||ht!==o)&&(Nf=null,rl(r,o)),o=!1;var N=sn;e:do try{if(kt!==0&&lt!==null){var D=lt,U=Ls;switch(kt){case 8:Jg(),N=6;break e;case 3:case 2:case 9:case 6:ks.current===null&&(o=!0);var J=kt;if(kt=0,Ls=null,al(r,D,U,J),u&&nl){N=0;break e}break;default:J=kt,kt=0,Ls=null,al(r,D,U,J)}}lA(),N=sn;break}catch(de){pS(r,de)}while(!0);return o&&r.shellSuspendCounter++,ar=Ba=null,Et=p,B.H=v,B.A=S,lt===null&&(zt=null,ht=0,Yd()),N}function lA(){for(;lt!==null;)vS(lt)}function cA(r,o){var u=Et;Et|=2;var p=gS(),v=yS();zt!==r||ht!==o?(Nf=null,Ef=Ee()+500,rl(r,o)):nl=Mi(r,o);e:do try{if(kt!==0&&lt!==null){o=lt;var S=Ls;t:switch(kt){case 1:kt=0,Ls=null,al(r,o,S,1);break;case 2:case 9:if(kw(S)){kt=0,Ls=null,bS(o);break}o=function(){kt!==2&&kt!==9||zt!==r||(kt=7),Ri(r)},S.then(o,o);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:kw(S)?(kt=0,Ls=null,bS(o)):(kt=0,Ls=null,al(r,o,S,7));break;case 5:var N=null;switch(lt.tag){case 26:N=lt.memoizedState;case 5:case 27:var D=lt;if(N?i_(N):D.stateNode.complete){kt=0,Ls=null;var U=D.sibling;if(U!==null)lt=U;else{var J=D.return;J!==null?(lt=J,Of(J)):lt=null}break t}}kt=0,Ls=null,al(r,o,S,5);break;case 6:kt=0,Ls=null,al(r,o,S,6);break;case 8:Jg(),sn=6;break e;default:throw Error(s(462))}}uA();break}catch(de){pS(r,de)}while(!0);return ar=Ba=null,B.H=p,B.A=v,Et=u,lt!==null?0:(zt=null,ht=0,Yd(),sn)}function uA(){for(;lt!==null&&!X();)vS(lt)}function vS(r){var o=H1(r.alternate,r,gr);r.memoizedProps=r.pendingProps,o===null?Of(r):lt=o}function bS(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=P1(u,o,o.pendingProps,o.type,void 0,ht);break;case 11:o=P1(u,o,o.pendingProps,o.type.render,o.ref,ht);break;case 5:mg(o);default:V1(u,o),o=lt=yw(o,gr),o=H1(u,o,gr)}r.memoizedProps=r.pendingProps,o===null?Of(r):lt=o}function al(r,o,u,p){ar=Ba=null,mg(o),Qo=null,_c=0;var v=o.return;try{if(ZT(r,v,o,u,ht)){sn=1,gf(r,Zs(u,r.current)),lt=null;return}}catch(S){if(v!==null)throw lt=v,S;sn=1,gf(r,Zs(u,r.current)),lt=null;return}o.flags&32768?(mt||p===1?r=!0:nl||(ht&536870912)!==0?r=!1:(Gr=r=!0,(p===2||p===9||p===3||p===6)&&(p=ks.current,p!==null&&p.tag===13&&(p.flags|=16384))),xS(o,r)):Of(o)}function Of(r){var o=r;do{if((o.flags&32768)!==0){xS(o,Gr);return}r=o.return;var u=tA(o.alternate,o,gr);if(u!==null){lt=u;return}if(o=o.sibling,o!==null){lt=o;return}lt=o=r}while(o!==null);sn===0&&(sn=5)}function xS(r,o){do{var u=nA(r.alternate,r);if(u!==null){u.flags&=32767,lt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){lt=r;return}lt=r=u}while(r!==null);sn=6,lt=null}function wS(r,o,u,p,v,S,N,D,U){r.cancelPendingCommit=null;do Lf();while(Cn!==0);if((Et&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(S=o.lanes|o.childLanes,S|=Hm,La(r,u,S,N,D,U),r===zt&&(lt=zt=null,ht=0),il=o,Qr=r,yr=u,Kg=S,Xg=v,uS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,pA(Ze,function(){return NS(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,v=Q.p,Q.p=2,N=Et,Et|=4;try{sA(r,o,u)}finally{Et=N,Q.p=v,B.T=p}}Cn=1,SS(),_S(),CS()}}function SS(){if(Cn===1){Cn=0;var r=Qr,o=il,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var p=Q.p;Q.p=2;var v=Et;Et|=4;try{nS(o,r);var S=fy,N=lw(r.containerInfo),D=S.focusedElem,U=S.selectionRange;if(N!==D&&D&&D.ownerDocument&&ow(D.ownerDocument.documentElement,D)){if(U!==null&&Im(D)){var J=U.start,de=U.end;if(de===void 0&&(de=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(de,D.value.length);else{var me=D.ownerDocument||document,te=me&&me.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ie=D.textContent.length,Ge=Math.min(U.start,Ie),Pt=U.end===void 0?Ge:Math.min(U.end,Ie);!ie.extend&&Ge>Pt&&(N=Pt,Pt=Ge,Ge=N);var W=aw(D,Ge),$=aw(D,Pt);if(W&&$&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==$.node||ie.focusOffset!==$.offset)){var Z=me.createRange();Z.setStart(W.node,W.offset),ie.removeAllRanges(),Ge>Pt?(ie.addRange(Z),ie.extend($.node,$.offset)):(Z.setEnd($.node,$.offset),ie.addRange(Z))}}}}for(me=[],ie=D;ie=ie.parentNode;)ie.nodeType===1&&me.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var he=me[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Hf=!!dy,fy=dy=null}finally{Et=v,Q.p=p,B.T=u}}r.current=o,Cn=2}}function _S(){if(Cn===2){Cn=0;var r=Qr,o=il,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var p=Q.p;Q.p=2;var v=Et;Et|=4;try{X1(r,o.alternate,o)}finally{Et=v,Q.p=p,B.T=u}}Cn=3}}function CS(){if(Cn===4||Cn===3){Cn=0,ae();var r=Qr,o=il,u=yr,p=uS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Cn=5:(Cn=0,il=Qr=null,ES(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(Wr=null),vm(u),o=o.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(be,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=B.T,v=Q.p,Q.p=2,B.T=null;try{for(var S=r.onRecoverableError,N=0;N<p.length;N++){var D=p[N];S(D.value,{componentStack:D.stack})}}finally{B.T=o,Q.p=v}}(yr&3)!==0&&Lf(),Ri(r),v=r.pendingLanes,(u&261930)!==0&&(v&42)!==0?r===Zg?zc++:(zc=0,Zg=r):zc=0,Fc(0)}}function ES(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,wc(o)))}function Lf(){return SS(),_S(),CS(),NS()}function NS(){if(Cn!==5)return!1;var r=Qr,o=Kg;Kg=0;var u=vm(yr),p=B.T,v=Q.p;try{Q.p=32>u?32:u,B.T=null,u=Xg,Xg=null;var S=Qr,N=yr;if(Cn=0,il=Qr=null,yr=0,(Et&6)!==0)throw Error(s(331));var D=Et;if(Et|=4,oS(S.current),iS(S,S.current,N,u),Et=D,Fc(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(be,S)}catch{}return!0}finally{Q.p=v,B.T=p,ES(r,o)}}function jS(r,o,u){o=Zs(u,o),o=Lg(r.stateNode,o,2),r=Hr(r,o,2),r!==null&&(Oa(r,2),Ri(r))}function Ot(r,o,u){if(r.tag===3)jS(r,r,u);else for(;o!==null;){if(o.tag===3){jS(o,r,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Wr===null||!Wr.has(p))){r=Zs(u,r),u=k1(2),p=Hr(o,u,2),p!==null&&(O1(u,p,o,r),Oa(p,2),Ri(p));break}}o=o.return}}function ty(r,o,u){var p=r.pingCache;if(p===null){p=r.pingCache=new aA;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(Yg=!0,v.add(u),r=dA.bind(null,r,o,u),o.then(r,r))}function dA(r,o,u){var p=r.pingCache;p!==null&&p.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,zt===r&&(ht&u)===u&&(sn===4||sn===3&&(ht&62914560)===ht&&300>Ee()-Cf?(Et&2)===0&&rl(r,0):Wg|=u,sl===ht&&(sl=0)),Ri(r)}function kS(r,o){o===0&&(o=ka()),r=Ra(r,o),r!==null&&(Oa(r,o),Ri(r))}function fA(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),kS(r,u)}function hA(r,o){var u=0;switch(r.tag){case 31:case 13:var p=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(o),kS(r,u)}function pA(r,o){return Vn(r,o)}var Mf=null,ol=null,ny=!1,Df=!1,sy=!1,Xr=0;function Ri(r){r!==ol&&r.next===null&&(ol===null?Mf=ol=r:ol=ol.next=r),Df=!0,ny||(ny=!0,gA())}function Fc(r,o){if(!sy&&Df){sy=!0;do for(var u=!1,p=Mf;p!==null;){if(r!==0){var v=p.pendingLanes;if(v===0)var S=0;else{var N=p.suspendedLanes,D=p.pingedLanes;S=(1<<31-xt(42|r)+1)-1,S&=v&~(N&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,DS(p,S))}else S=ht,S=ja(p,p===zt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Mi(p,S)||(u=!0,DS(p,S));p=p.next}while(u);sy=!1}}function mA(){OS()}function OS(){Df=ny=!1;var r=0;Xr!==0&&NA()&&(r=Xr);for(var o=Ee(),u=null,p=Mf;p!==null;){var v=p.next,S=LS(p,o);S===0?(p.next=null,u===null?Mf=v:u.next=v,v===null&&(ol=u)):(u=p,(r!==0||(S&3)!==0)&&(Df=!0)),p=v}Cn!==0&&Cn!==5||Fc(r),Xr!==0&&(Xr=0)}function LS(r,o){for(var u=r.suspendedLanes,p=r.pingedLanes,v=r.expirationTimes,S=r.pendingLanes&-62914561;0<S;){var N=31-xt(S),D=1<<N,U=v[N];U===-1?((D&u)===0||(D&p)!==0)&&(v[N]=Rd(D,o)):U<=o&&(r.expiredLanes|=D),S&=~D}if(o=zt,u=ht,u=ja(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,u===0||r===o&&(kt===2||kt===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&F(p),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Mi(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(p!==null&&F(p),vm(u)){case 2:case 8:u=Pe;break;case 32:u=Ze;break;case 268435456:u=Ut;break;default:u=Ze}return p=MS.bind(null,r),u=Vn(u,p),r.callbackPriority=o,r.callbackNode=u,o}return p!==null&&p!==null&&F(p),r.callbackPriority=2,r.callbackNode=null,2}function MS(r,o){if(Cn!==0&&Cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Lf()&&r.callbackNode!==u)return null;var p=ht;return p=ja(r,r===zt?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(fS(r,p,o),LS(r,Ee()),r.callbackNode!=null&&r.callbackNode===u?MS.bind(null,r):null)}function DS(r,o){if(Lf())return null;fS(r,o,!0)}function gA(){kA(function(){(Et&6)!==0?Vn(Se,mA):OS()})}function iy(){if(Xr===0){var r=Go;r===0&&(r=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),Xr=r}return Xr}function TS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ud(""+r)}function AS(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function yA(r,o,u,p,v){if(o==="submit"&&u&&u.stateNode===v){var S=TS((v[us]||null).action),N=p.submitter;N&&(o=(o=N[us]||null)?TS(o.formAction):N.getAttribute("formAction"),o!==null&&(S=o,N=null));var D=new $d("action","action",null,p,v);r.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Xr!==0){var U=N?AS(v,N):new FormData(v);Cg(u,{pending:!0,data:U,method:v.method,action:S},null,U)}}else typeof S=="function"&&(D.preventDefault(),U=N?AS(v,N):new FormData(v),Cg(u,{pending:!0,data:U,method:v.method,action:S},S,U))},currentTarget:v}]})}}for(var ry=0;ry<Fm.length;ry++){var ay=Fm[ry],vA=ay.toLowerCase(),bA=ay[0].toUpperCase()+ay.slice(1);bi(vA,"on"+bA)}bi(dw,"onAnimationEnd"),bi(fw,"onAnimationIteration"),bi(hw,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(RT,"onTransitionRun"),bi(PT,"onTransitionStart"),bi(IT,"onTransitionCancel"),bi(pw,"onTransitionEnd"),Do("onMouseEnter",["mouseout","mouseover"]),Do("onMouseLeave",["mouseout","mouseover"]),Do("onPointerEnter",["pointerout","pointerover"]),Do("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function RS(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var p=r[u],v=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var N=p.length-1;0<=N;N--){var D=p[N],U=D.instance,J=D.currentTarget;if(D=D.listener,U!==S&&v.isPropagationStopped())break e;S=D,v.currentTarget=J;try{S(v)}catch(de){Gd(de)}v.currentTarget=null,S=U}else for(N=0;N<p.length;N++){if(D=p[N],U=D.instance,J=D.currentTarget,D=D.listener,U!==S&&v.isPropagationStopped())break e;S=D,v.currentTarget=J;try{S(v)}catch(de){Gd(de)}v.currentTarget=null,S=U}}}}function ct(r,o){var u=o[bm];u===void 0&&(u=o[bm]=new Set);var p=r+"__bubble";u.has(p)||(PS(o,r,2,!1),u.add(p))}function oy(r,o,u){var p=0;o&&(p|=4),PS(u,r,p,o)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function ly(r){if(!r[Tf]){r[Tf]=!0,O0.forEach(function(u){u!=="selectionchange"&&(xA.has(u)||oy(u,!1,r),oy(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Tf]||(o[Tf]=!0,oy("selectionchange",!1,o))}}function PS(r,o,u,p){switch(d_(o)){case 2:var v=WA;break;case 8:v=QA;break;default:v=_y}u=v.bind(null,o,u,r),v=void 0,!km||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?r.addEventListener(o,u,{capture:!0,passive:v}):r.addEventListener(o,u,!0):v!==void 0?r.addEventListener(o,u,{passive:v}):r.addEventListener(o,u,!1)}function cy(r,o,u,p,v){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var D=p.stateNode.containerInfo;if(D===v)break;if(N===4)for(N=p.return;N!==null;){var U=N.tag;if((U===3||U===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;D!==null;){if(N=Oo(D),N===null)return;if(U=N.tag,U===5||U===6||U===26||U===27){p=S=N;continue e}D=D.parentNode}}p=p.return}F0(function(){var J=S,de=Nm(u),me=[];e:{var te=mw.get(r);if(te!==void 0){var ie=$d,Ie=r;switch(r){case"keypress":if(Fd(u)===0)break e;case"keydown":case"keyup":ie=hT;break;case"focusin":Ie="focus",ie=Dm;break;case"focusout":Ie="blur",ie=Dm;break;case"beforeblur":case"afterblur":ie=Dm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=V0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=tT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=gT;break;case dw:case fw:case hw:ie=iT;break;case pw:ie=vT;break;case"scroll":case"scrollend":ie=JD;break;case"wheel":ie=xT;break;case"copy":case"cut":case"paste":ie=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=G0;break;case"toggle":case"beforetoggle":ie=ST}var Ge=(o&4)!==0,Pt=!Ge&&(r==="scroll"||r==="scrollend"),W=Ge?te!==null?te+"Capture":null:te;Ge=[];for(var $=J,Z;$!==null;){var he=$;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||W===null||(he=uc($,W),he!=null&&Ge.push($c($,he,Z))),Pt)break;$=$.return}0<Ge.length&&(te=new ie(te,Ie,null,u,de),me.push({event:te,listeners:Ge}))}}if((o&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",te&&u!==Em&&(Ie=u.relatedTarget||u.fromElement)&&(Oo(Ie)||Ie[ko]))break e;if((ie||te)&&(te=de.window===de?de:(te=de.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ie=u.relatedTarget||u.toElement,ie=J,Ie=Ie?Oo(Ie):null,Ie!==null&&(Pt=a(Ie),Ge=Ie.tag,Ie!==Pt||Ge!==5&&Ge!==27&&Ge!==6)&&(Ie=null)):(ie=null,Ie=J),ie!==Ie)){if(Ge=V0,he="onMouseLeave",W="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Ge=G0,he="onPointerLeave",W="onPointerEnter",$="pointer"),Pt=ie==null?te:cc(ie),Z=Ie==null?te:cc(Ie),te=new Ge(he,$+"leave",ie,u,de),te.target=Pt,te.relatedTarget=Z,he=null,Oo(de)===J&&(Ge=new Ge(W,$+"enter",Ie,u,de),Ge.target=Z,Ge.relatedTarget=Pt,he=Ge),Pt=he,ie&&Ie)t:{for(Ge=wA,W=ie,$=Ie,Z=0,he=W;he;he=Ge(he))Z++;he=0;for(var qe=$;qe;qe=Ge(qe))he++;for(;0<Z-he;)W=Ge(W),Z--;for(;0<he-Z;)$=Ge($),he--;for(;Z--;){if(W===$||$!==null&&W===$.alternate){Ge=W;break t}W=Ge(W),$=Ge($)}Ge=null}else Ge=null;ie!==null&&IS(me,te,ie,Ge,!1),Ie!==null&&Pt!==null&&IS(me,Pt,Ie,Ge,!0)}}e:{if(te=J?cc(J):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var wt=ew;else if(Z0(te))if(tw)wt=DT;else{wt=LT;var Ue=OT}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Cm(J.elementType)&&(wt=ew):wt=MT;if(wt&&(wt=wt(r,J))){J0(me,wt,u,de);break e}Ue&&Ue(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&_m(te,"number",te.value)}switch(Ue=J?cc(J):window,r){case"focusin":(Z0(Ue)||Ue.contentEditable==="true")&&(Bo=Ue,Bm=J,vc=null);break;case"focusout":vc=Bm=Bo=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,cw(me,u,de);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":cw(me,u,de)}var nt;if(Am)e:{switch(r){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Io?K0(r,u)&&(pt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(pt="onCompositionStart");pt&&(Y0&&u.locale!=="ko"&&(Io||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Io&&(nt=H0()):(Rr=de,Om="value"in Rr?Rr.value:Rr.textContent,Io=!0)),Ue=Af(J,pt),0<Ue.length&&(pt=new q0(pt,r,null,u,de),me.push({event:pt,listeners:Ue}),nt?pt.data=nt:(nt=X0(u),nt!==null&&(pt.data=nt)))),(nt=CT?ET(r,u):NT(r,u))&&(pt=Af(J,"onBeforeInput"),0<pt.length&&(Ue=new q0("onBeforeInput","beforeinput",null,u,de),me.push({event:Ue,listeners:pt}),Ue.data=nt)),yA(me,r,J,u,de)}RS(me,o)})}function $c(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Af(r,o){for(var u=o+"Capture",p=[];r!==null;){var v=r,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=uc(r,u),v!=null&&p.unshift($c(r,v,S)),v=uc(r,o),v!=null&&p.push($c(r,v,S))),r.tag===3)return p;r=r.return}return[]}function wA(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function IS(r,o,u,p,v){for(var S=o._reactName,N=[];u!==null&&u!==p;){var D=u,U=D.alternate,J=D.stateNode;if(D=D.tag,U!==null&&U===p)break;D!==5&&D!==26&&D!==27||J===null||(U=J,v?(J=uc(u,S),J!=null&&N.unshift($c(u,J,U))):v||(J=uc(u,S),J!=null&&N.push($c(u,J,U)))),u=u.return}N.length!==0&&r.push({event:o,listeners:N})}var SA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function BS(r){return(typeof r=="string"?r:""+r).replace(SA,`
`).replace(_A,"")}function US(r,o){return o=BS(o),BS(r)===o}function Rt(r,o,u,p,v,S){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Ao(r,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Ao(r,""+p);break;case"className":Id(r,"class",p);break;case"tabIndex":Id(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Id(r,u,p);break;case"style":U0(r,p,S);break;case"data":if(o!=="object"){Id(r,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(u);break}p=Ud(""+p),r.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&Rt(r,o,"name",v.name,v,null),Rt(r,o,"formEncType",v.formEncType,v,null),Rt(r,o,"formMethod",v.formMethod,v,null),Rt(r,o,"formTarget",v.formTarget,v,null)):(Rt(r,o,"encType",v.encType,v,null),Rt(r,o,"method",v.method,v,null),Rt(r,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(u);break}p=Ud(""+p),r.setAttribute(u,p);break;case"onClick":p!=null&&(r.onclick=nr);break;case"onScroll":p!=null&&ct("scroll",r);break;case"onScrollEnd":p!=null&&ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}u=Ud(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,""+p):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":p===!0?r.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,p):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(u,p):r.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(u):r.setAttribute(u,p);break;case"popover":ct("beforetoggle",r),ct("toggle",r),Pd(r,"popover",p);break;case"xlinkActuate":tr(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":tr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":tr(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":tr(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":tr(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":tr(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":tr(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":tr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":tr(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Pd(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=XD.get(u)||u,Pd(r,u,p))}}function uy(r,o,u,p,v,S){switch(u){case"style":U0(r,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof p=="string"?Ao(r,p):(typeof p=="number"||typeof p=="bigint")&&Ao(r,""+p);break;case"onScroll":p!=null&&ct("scroll",r);break;case"onScrollEnd":p!=null&&ct("scrollend",r);break;case"onClick":p!=null&&(r.onclick=nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L0.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),S=r[us]||null,S=S!=null?S[u]:null,typeof S=="function"&&r.removeEventListener(o,S,v),typeof p=="function")){typeof S!="function"&&S!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,p,v);break e}u in r?r[u]=p:p===!0?r.setAttribute(u,""):Pd(r,u,p)}}}function zn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",r),ct("load",r);var p=!1,v=!1,S;for(S in u)if(u.hasOwnProperty(S)){var N=u[S];if(N!=null)switch(S){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Rt(r,o,S,N,u,null)}}v&&Rt(r,o,"srcSet",u.srcSet,u,null),p&&Rt(r,o,"src",u.src,u,null);return;case"input":ct("invalid",r);var D=S=N=v=null,U=null,J=null;for(p in u)if(u.hasOwnProperty(p)){var de=u[p];if(de!=null)switch(p){case"name":v=de;break;case"type":N=de;break;case"checked":U=de;break;case"defaultChecked":J=de;break;case"value":S=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,o));break;default:Rt(r,o,p,de,u,null)}}R0(r,S,D,U,J,N,v,!1);return;case"select":ct("invalid",r),p=N=S=null;for(v in u)if(u.hasOwnProperty(v)&&(D=u[v],D!=null))switch(v){case"value":S=D;break;case"defaultValue":N=D;break;case"multiple":p=D;default:Rt(r,o,v,D,u,null)}o=S,u=N,r.multiple=!!p,o!=null?To(r,!!p,o,!1):u!=null&&To(r,!!p,u,!0);return;case"textarea":ct("invalid",r),S=v=p=null;for(N in u)if(u.hasOwnProperty(N)&&(D=u[N],D!=null))switch(N){case"value":p=D;break;case"defaultValue":v=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Rt(r,o,N,D,u,null)}I0(r,p,v,S);return;case"option":for(U in u)u.hasOwnProperty(U)&&(p=u[U],p!=null)&&(U==="selected"?r.selected=p&&typeof p!="function"&&typeof p!="symbol":Rt(r,o,U,p,u,null));return;case"dialog":ct("beforetoggle",r),ct("toggle",r),ct("cancel",r),ct("close",r);break;case"iframe":case"object":ct("load",r);break;case"video":case"audio":for(p=0;p<Hc.length;p++)ct(Hc[p],r);break;case"image":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"embed":case"source":case"link":ct("error",r),ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Rt(r,o,J,p,u,null)}return;default:if(Cm(o)){for(de in u)u.hasOwnProperty(de)&&(p=u[de],p!==void 0&&uy(r,o,de,p,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(p=u[D],p!=null&&Rt(r,o,D,p,u,null))}function CA(r,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,N=null,D=null,U=null,J=null,de=null;for(ie in u){var me=u[ie];if(u.hasOwnProperty(ie)&&me!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=me;default:p.hasOwnProperty(ie)||Rt(r,o,ie,null,p,me)}}for(var te in p){var ie=p[te];if(me=u[te],p.hasOwnProperty(te)&&(ie!=null||me!=null))switch(te){case"type":S=ie;break;case"name":v=ie;break;case"checked":J=ie;break;case"defaultChecked":de=ie;break;case"value":N=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,o));break;default:ie!==me&&Rt(r,o,te,ie,p,me)}}Sm(r,N,D,U,J,de,S,v);return;case"select":ie=N=D=te=null;for(S in u)if(U=u[S],u.hasOwnProperty(S)&&U!=null)switch(S){case"value":break;case"multiple":ie=U;default:p.hasOwnProperty(S)||Rt(r,o,S,null,p,U)}for(v in p)if(S=p[v],U=u[v],p.hasOwnProperty(v)&&(S!=null||U!=null))switch(v){case"value":te=S;break;case"defaultValue":D=S;break;case"multiple":N=S;default:S!==U&&Rt(r,o,v,S,p,U)}o=D,u=N,p=ie,te!=null?To(r,!!u,te,!1):!!p!=!!u&&(o!=null?To(r,!!u,o,!0):To(r,!!u,u?[]:"",!1));return;case"textarea":ie=te=null;for(D in u)if(v=u[D],u.hasOwnProperty(D)&&v!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Rt(r,o,D,null,p,v)}for(N in p)if(v=p[N],S=u[N],p.hasOwnProperty(N)&&(v!=null||S!=null))switch(N){case"value":te=v;break;case"defaultValue":ie=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==S&&Rt(r,o,N,v,p,S)}P0(r,te,ie);return;case"option":for(var Ie in u)te=u[Ie],u.hasOwnProperty(Ie)&&te!=null&&!p.hasOwnProperty(Ie)&&(Ie==="selected"?r.selected=!1:Rt(r,o,Ie,null,p,te));for(U in p)te=p[U],ie=u[U],p.hasOwnProperty(U)&&te!==ie&&(te!=null||ie!=null)&&(U==="selected"?r.selected=te&&typeof te!="function"&&typeof te!="symbol":Rt(r,o,U,te,p,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in u)te=u[Ge],u.hasOwnProperty(Ge)&&te!=null&&!p.hasOwnProperty(Ge)&&Rt(r,o,Ge,null,p,te);for(J in p)if(te=p[J],ie=u[J],p.hasOwnProperty(J)&&te!==ie&&(te!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,o));break;default:Rt(r,o,J,te,p,ie)}return;default:if(Cm(o)){for(var Pt in u)te=u[Pt],u.hasOwnProperty(Pt)&&te!==void 0&&!p.hasOwnProperty(Pt)&&uy(r,o,Pt,void 0,p,te);for(de in p)te=p[de],ie=u[de],!p.hasOwnProperty(de)||te===ie||te===void 0&&ie===void 0||uy(r,o,de,te,p,ie);return}}for(var W in u)te=u[W],u.hasOwnProperty(W)&&te!=null&&!p.hasOwnProperty(W)&&Rt(r,o,W,null,p,te);for(me in p)te=p[me],ie=u[me],!p.hasOwnProperty(me)||te===ie||te==null&&ie==null||Rt(r,o,me,te,p,ie)}function zS(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var v=u[p],S=v.transferSize,N=v.initiatorType,D=v.duration;if(S&&D&&zS(N)){for(N=0,D=v.responseEnd,p+=1;p<u.length;p++){var U=u[p],J=U.startTime;if(J>D)break;var de=U.transferSize,me=U.initiatorType;de&&zS(me)&&(U=U.responseEnd,N+=de*(U<D?1:(D-J)/(U-J)))}if(--p,o+=8*(S+N)/(v.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var dy=null,fy=null;function Rf(r){return r.nodeType===9?r:r.ownerDocument}function FS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HS(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function hy(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var py=null;function NA(){var r=window.event;return r&&r.type==="popstate"?r===py?!1:(py=r,!0):(py=null,!1)}var $S=typeof setTimeout=="function"?setTimeout:void 0,jA=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(r){return VS.resolve(null).then(r).catch(OA)}:$S;function OA(r){setTimeout(function(){throw r})}function Zr(r){return r==="head"}function qS(r,o){var u=o,p=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(p===0){r.removeChild(v),dl(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Vc(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,Vc(u);for(var S=u.firstChild;S;){var N=S.nextSibling,D=S.nodeName;S[lc]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=N}}else u==="body"&&Vc(r.ownerDocument.body);u=v}while(u);dl(o)}function GS(r,o){var u=r;r=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=p}while(u)}function my(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":my(u),xm(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function LA(r,o,u,p){for(;r.nodeType===1;){var v=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[lc])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(S=r.getAttribute("rel"),S==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(S!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(S=r.getAttribute("src"),(S!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===S)return r}else return r;if(r=si(r.nextSibling),r===null)break}return null}function MA(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=si(r.nextSibling),r===null))return null;return r}function YS(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=si(r.nextSibling),r===null))return null;return r}function gy(r){return r.data==="$?"||r.data==="$~"}function yy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function DA(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function si(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var vy=null;function WS(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return si(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function QS(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function KS(r,o,u){switch(o=Rf(u),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Vc(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);xm(r)}var ii=new Map,XS=new Set;function Pf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var vr=Q.d;Q.d={f:TA,r:AA,D:RA,C:PA,L:IA,m:BA,X:zA,S:UA,M:FA};function TA(){var r=vr.f(),o=jf();return r||o}function AA(r){var o=Lo(r);o!==null&&o.tag===5&&o.type==="form"?p1(o):vr.r(r)}var ll=typeof document>"u"?null:document;function ZS(r,o,u){var p=ll;if(p&&typeof o=="string"&&o){var v=Ks(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),XS.has(v)||(XS.add(v),r={rel:r,crossOrigin:u,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),zn(o,"link",r),Ln(o),p.head.appendChild(o)))}}function RA(r){vr.D(r),ZS("dns-prefetch",r,null)}function PA(r,o){vr.C(r,o),ZS("preconnect",r,o)}function IA(r,o,u){vr.L(r,o,u);var p=ll;if(p&&r&&o){var v='link[rel="preload"][as="'+Ks(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Ks(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Ks(u.imageSizes)+'"]')):v+='[href="'+Ks(r)+'"]';var S=v;switch(o){case"style":S=cl(r);break;case"script":S=ul(r)}ii.has(S)||(r=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ii.set(S,r),p.querySelector(v)!==null||o==="style"&&p.querySelector(qc(S))||o==="script"&&p.querySelector(Gc(S))||(o=p.createElement("link"),zn(o,"link",r),Ln(o),p.head.appendChild(o)))}}function BA(r,o){vr.m(r,o);var u=ll;if(u&&r){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Ks(p)+'"][href="'+Ks(r)+'"]',S=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ul(r)}if(!ii.has(S)&&(r=g({rel:"modulepreload",href:r},o),ii.set(S,r),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Gc(S)))return}p=u.createElement("link"),zn(p,"link",r),Ln(p),u.head.appendChild(p)}}}function UA(r,o,u){vr.S(r,o,u);var p=ll;if(p&&r){var v=Mo(p).hoistableStyles,S=cl(r);o=o||"default";var N=v.get(S);if(!N){var D={loading:0,preload:null};if(N=p.querySelector(qc(S)))D.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ii.get(S))&&by(r,u);var U=N=p.createElement("link");Ln(U),zn(U,"link",r),U._p=new Promise(function(J,de){U.onload=J,U.onerror=de}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,If(N,o,p)}N={type:"stylesheet",instance:N,count:1,state:D},v.set(S,N)}}}function zA(r,o){vr.X(r,o);var u=ll;if(u&&r){var p=Mo(u).hoistableScripts,v=ul(r),S=p.get(v);S||(S=u.querySelector(Gc(v)),S||(r=g({src:r,async:!0},o),(o=ii.get(v))&&xy(r,o),S=u.createElement("script"),Ln(S),zn(S,"link",r),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(v,S))}}function FA(r,o){vr.M(r,o);var u=ll;if(u&&r){var p=Mo(u).hoistableScripts,v=ul(r),S=p.get(v);S||(S=u.querySelector(Gc(v)),S||(r=g({src:r,async:!0,type:"module"},o),(o=ii.get(v))&&xy(r,o),S=u.createElement("script"),Ln(S),zn(S,"link",r),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(v,S))}}function JS(r,o,u,p){var v=(v=je.current)?Pf(v):null;if(!v)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=cl(u.href),u=Mo(v).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=cl(u.href);var S=Mo(v).hoistableStyles,N=S.get(r);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(r,N),(S=v.querySelector(qc(r)))&&!S._p&&(N.instance=S,N.state.loading=5),ii.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ii.set(r,u),S||HA(v,r,u,N.state))),o&&p===null)throw Error(s(528,""));return N}if(o&&p!==null)throw Error(s(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ul(u),u=Mo(v).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function cl(r){return'href="'+Ks(r)+'"'}function qc(r){return'link[rel="stylesheet"]['+r+"]"}function e_(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function HA(r,o,u,p){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=r.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),zn(o,"link",u),Ln(o),r.head.appendChild(o))}function ul(r){return'[src="'+Ks(r)+'"]'}function Gc(r){return"script[async]"+r}function t_(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=r.querySelector('style[data-href~="'+Ks(u.href)+'"]');if(p)return o.instance=p,Ln(p),p;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),Ln(p),zn(p,"style",v),If(p,u.precedence,r),o.instance=p;case"stylesheet":v=cl(u.href);var S=r.querySelector(qc(v));if(S)return o.state.loading|=4,o.instance=S,Ln(S),S;p=e_(u),(v=ii.get(v))&&by(p,v),S=(r.ownerDocument||r).createElement("link"),Ln(S);var N=S;return N._p=new Promise(function(D,U){N.onload=D,N.onerror=U}),zn(S,"link",p),o.state.loading|=4,If(S,u.precedence,r),o.instance=S;case"script":return S=ul(u.src),(v=r.querySelector(Gc(S)))?(o.instance=v,Ln(v),v):(p=u,(v=ii.get(S))&&(p=g({},u),xy(p,v)),r=r.ownerDocument||r,v=r.createElement("script"),Ln(v),zn(v,"link",p),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,If(p,u.precedence,r));return o.instance}function If(r,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,S=v,N=0;N<p.length;N++){var D=p[N];if(D.dataset.precedence===o)S=D;else if(S!==v)break}S?S.parentNode.insertBefore(r,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function by(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function xy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Bf=null;function n_(r,o,u){if(Bf===null){var p=new Map,v=Bf=new Map;v.set(u,p)}else v=Bf,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(r))return p;for(p.set(r,null),u=u.getElementsByTagName(r),v=0;v<u.length;v++){var S=u[v];if(!(S[lc]||S[Pn]||r==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(o)||"";N=r+N;var D=p.get(N);D?D.push(S):p.set(N,[S])}}return p}function s_(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function $A(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(r=o.disabled,typeof o.precedence=="string"&&r==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function i_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function VA(r,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=cl(p.href),S=o.querySelector(qc(v));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Uf.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=S,Ln(S);return}S=o.ownerDocument||o,p=e_(p),(v=ii.get(v))&&by(p,v),S=S.createElement("link"),Ln(S);var N=S;N._p=new Promise(function(D,U){N.onload=D,N.onerror=U}),zn(S,"link",p),u.instance=S}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Uf.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var wy=0;function qA(r,o){return r.stylesheets&&r.count===0&&Ff(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var p=setTimeout(function(){if(r.stylesheets&&Ff(r,r.stylesheets),r.unsuspend){var S=r.unsuspend;r.unsuspend=null,S()}},6e4+o);0<r.imgBytes&&wy===0&&(wy=62500*EA());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ff(r,r.stylesheets),r.unsuspend)){var S=r.unsuspend;r.unsuspend=null,S()}},(r.imgBytes>wy?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function Uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zf=null;function Ff(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zf=new Map,o.forEach(GA,r),zf=null,Uf.call(r))}function GA(r,o){if(!(o.state.loading&4)){var u=zf.get(r);if(u)var p=u.get(null);else{u=new Map,zf.set(r,u);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var N=v[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),p=N)}p&&u.set(null,p)}v=o.instance,N=v.getAttribute("data-precedence"),S=u.get(N)||p,S===p&&u.set(null,v),u.set(N,v),this.count++,p=Uf.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),S?S.parentNode.insertBefore(v,S.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var Yc={$$typeof:L,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function YA(r,o,u,p,v,S,N,D,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.hiddenUpdates=jo(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function r_(r,o,u,p,v,S,N,D,U,J,de,me){return r=new YA(r,o,u,N,U,J,de,me,D),o=1,S===!0&&(o|=24),S=js(3,null,null,o),r.current=S,S.stateNode=r,o=eg(),o.refCount++,r.pooledCache=o,o.refCount++,S.memoizedState={element:p,isDehydrated:u,cache:o},ig(S),r}function a_(r){return r?(r=Fo,r):Fo}function o_(r,o,u,p,v,S){v=a_(v),p.context===null?p.context=v:p.pendingContext=v,p=Fr(o),p.payload={element:u},S=S===void 0?null:S,S!==null&&(p.callback=S),u=Hr(r,p,o),u!==null&&(gs(u,r,o),Ec(u,r,o))}function l_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Sy(r,o){l_(r,o),(r=r.alternate)&&l_(r,o)}function c_(r){if(r.tag===13||r.tag===31){var o=Ra(r,67108864);o!==null&&gs(o,r,67108864),Sy(r,67108864)}}function u_(r){if(r.tag===13||r.tag===31){var o=Ds();o=ym(o);var u=Ra(r,o);u!==null&&gs(u,r,o),Sy(r,o)}}var Hf=!0;function WA(r,o,u,p){var v=B.T;B.T=null;var S=Q.p;try{Q.p=2,_y(r,o,u,p)}finally{Q.p=S,B.T=v}}function QA(r,o,u,p){var v=B.T;B.T=null;var S=Q.p;try{Q.p=8,_y(r,o,u,p)}finally{Q.p=S,B.T=v}}function _y(r,o,u,p){if(Hf){var v=Cy(p);if(v===null)cy(r,o,p,$f,u),f_(r,p);else if(XA(v,r,o,u,p))p.stopPropagation();else if(f_(r,p),o&4&&-1<KA.indexOf(r)){for(;v!==null;){var S=Lo(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Ws(S.pendingLanes);if(N!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var U=1<<31-xt(N);D.entanglements[1]|=U,N&=~U}Ri(S),(Et&6)===0&&(Ef=Ee()+500,Fc(0))}}break;case 31:case 13:D=Ra(S,2),D!==null&&gs(D,S,2),jf(),Sy(S,2)}if(S=Cy(p),S===null&&cy(r,o,p,$f,u),S===v)break;v=S}v!==null&&p.stopPropagation()}else cy(r,o,p,null,u)}}function Cy(r){return r=Nm(r),Ey(r)}var $f=null;function Ey(r){if($f=null,r=Oo(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return $f=r,null}function d_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Se:return 2;case Pe:return 8;case Ze:case rt:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Ny=!1,Jr=null,ea=null,ta=null,Wc=new Map,Qc=new Map,na=[],KA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(r,o){switch(r){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Wc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(o.pointerId)}}function Kc(r,o,u,p,v,S){return r===null||r.nativeEvent!==S?(r={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:S,targetContainers:[v]},o!==null&&(o=Lo(o),o!==null&&c_(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function XA(r,o,u,p,v){switch(o){case"focusin":return Jr=Kc(Jr,r,o,u,p,v),!0;case"dragenter":return ea=Kc(ea,r,o,u,p,v),!0;case"mouseover":return ta=Kc(ta,r,o,u,p,v),!0;case"pointerover":var S=v.pointerId;return Wc.set(S,Kc(Wc.get(S)||null,r,o,u,p,v)),!0;case"gotpointercapture":return S=v.pointerId,Qc.set(S,Kc(Qc.get(S)||null,r,o,u,p,v)),!0}return!1}function h_(r){var o=Oo(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,j0(r.priority,function(){u_(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,j0(r.priority,function(){u_(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Cy(r.nativeEvent);if(u===null){u=r.nativeEvent;var p=new u.constructor(u.type,u);Em=p,u.target.dispatchEvent(p),Em=null}else return o=Lo(u),o!==null&&c_(o),r.blockedOn=u,!1;o.shift()}return!0}function p_(r,o,u){Vf(r)&&u.delete(o)}function ZA(){Ny=!1,Jr!==null&&Vf(Jr)&&(Jr=null),ea!==null&&Vf(ea)&&(ea=null),ta!==null&&Vf(ta)&&(ta=null),Wc.forEach(p_),Qc.forEach(p_)}function qf(r,o){r.blockedOn===o&&(r.blockedOn=null,Ny||(Ny=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZA)))}var Gf=null;function m_(r){Gf!==r&&(Gf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gf===r&&(Gf=null);for(var o=0;o<r.length;o+=3){var u=r[o],p=r[o+1],v=r[o+2];if(typeof p!="function"){if(Ey(p||u)===null)continue;break}var S=Lo(u);S!==null&&(r.splice(o,3),o-=3,Cg(S,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function dl(r){function o(U){return qf(U,r)}Jr!==null&&qf(Jr,r),ea!==null&&qf(ea,r),ta!==null&&qf(ta,r),Wc.forEach(o),Qc.forEach(o);for(var u=0;u<na.length;u++){var p=na[u];p.blockedOn===r&&(p.blockedOn=null)}for(;0<na.length&&(u=na[0],u.blockedOn===null);)h_(u),u.blockedOn===null&&na.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],S=u[p+1],N=v[us]||null;if(typeof S=="function")N||m_(u);else if(N){var D=null;if(S&&S.hasAttribute("formAction")){if(v=S,N=S[us]||null)D=N.formAction;else if(Ey(v)!==null)continue}else D=N.action;typeof D=="function"?u[p+1]=D:(u.splice(p,3),p-=3),m_(u)}}}function g_(){function r(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function jy(r){this._internalRoot=r}Yf.prototype.render=jy.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var u=o.current,p=Ds();o_(u,p,r,o,null,null)},Yf.prototype.unmount=jy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;o_(r.current,2,null,r,null,null),jf(),o[ko]=null}};function Yf(r){this._internalRoot=r}Yf.prototype.unstable_scheduleHydration=function(r){if(r){var o=N0();r={blockedOn:null,target:r,priority:o};for(var u=0;u<na.length&&o!==0&&o<na[u].priority;u++);na.splice(u,0,r),u===0&&h_(r)}};var y_=e.version;if(y_!=="19.2.3")throw Error(s(527,y_,"19.2.3"));Q.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var JA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{be=Wf.inject(JA),Ce=Wf}catch{}}return Zc.createRoot=function(r,o){if(!i(r))throw Error(s(299));var u=!1,p="",v=C1,S=E1,N=N1;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=r_(r,1,!1,null,null,u,p,null,v,S,N,g_),r[ko]=o.current,ly(r),new jy(o)},Zc.hydrateRoot=function(r,o,u){if(!i(r))throw Error(s(299));var p=!1,v="",S=C1,N=E1,D=N1,U=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),o=r_(r,1,!0,o,u??null,p,v,U,S,N,D,g_),o.context=a_(null),u=o.current,p=Ds(),p=ym(p),v=Fr(p),v.callback=null,Hr(u,v,p),u=p,o.current.lanes=u,Oa(o,u),Ri(o),r[ko]=o.current,ly(r),new Yf(o)},Zc.version="19.2.3",Zc}var j_;function lR(){if(j_)return Ly.exports;j_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ly.exports=oR(),Ly.exports}var cR=lR();const uR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),k_=t=>{const e=dR(t);return e.charAt(0).toUpperCase()+e.slice(1)},ak=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),fR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pR=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:l,...c},f)=>w.createElement("svg",{ref:f,...hR,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:ak("lucide",i),...!a&&!fR(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>w.createElement(h,m)),...Array.isArray(a)?a:[a]]));const Ne=(t,e)=>{const n=w.forwardRef(({className:s,...i},a)=>w.createElement(pR,{ref:a,iconNode:e,className:ak(`lucide-${uR(k_(t))}`,`lucide-${t}`,s),...i}));return n.displayName=k_(t),n};const mR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gR=Ne("activity",mR);const yR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["polyline",{points:"11 3 11 11 14 8 17 11 17 3",key:"1wcwz3"}]],vR=Ne("album",yR);const bR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ub=Ne("arrow-left",bR);const xR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mp=Ne("arrow-right",xR);const wR=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ok=Ne("arrow-up-down",wR);const SR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],lk=Ne("at-sign",SR);const _R=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],CR=Ne("bell",_R);const ER=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],ck=Ne("bike",ER);const NR=[["path",{d:"M11 22H5.5a1 1 0 0 1 0-5h4.501",key:"mcbepb"}],["path",{d:"m21 22-1.879-1.878",key:"12q7x1"}],["path",{d:"M3 19.5v-15A2.5 2.5 0 0 1 5.5 2H18a1 1 0 0 1 1 1v8",key:"olfd5n"}],["circle",{cx:"17",cy:"18",r:"3",key:"82mm0e"}]],jR=Ne("book-search",NR);const kR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Wu=Ne("building-2",kR);const OR=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],LR=Ne("calendar-off",OR);const MR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hi=Ne("calendar",MR);const DR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],TR=Ne("camera",DR);const AR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],RR=Ne("chart-area",AR);const PR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IR=Ne("chart-column",PR);const BR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qu=Ne("check",BR);const UR=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],zb=Ne("chef-hat",UR);const zR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fb=Ne("chevron-down",zR);const FR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HR=Ne("chevron-up",FR);const $R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ba=Ne("circle-alert",$R);const VR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yi=Ne("circle-check-big",VR);const qR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Dl=Ne("circle-dot",qR);const GR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ku=Ne("circle-x",GR);const YR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ki=Ne("clock",YR);const WR=[["path",{d:"M17.28 9.05a5.5 5.5 0 1 0-10.56 0A5.5 5.5 0 1 0 12 17.66a5.5 5.5 0 1 0 5.28-8.6Z",key:"27yuqz"}],["path",{d:"M12 17.66L12 22",key:"ogfahf"}]],QR=Ne("club",WR);const KR=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],XR=Ne("coffee",KR);const ZR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hb=Ne("copy",ZR);const JR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$b=Ne("credit-card",JR);const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],tP=Ne("crosshair",eP);const nP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fa=Ne("dollar-sign",nP);const sP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Yl=Ne("external-link",sP);const iP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rP=Ne("eye-off",iP);const aP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oP=Ne("eye",aP);const lP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uk=Ne("file-text",lP);const cP=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],uP=Ne("flame",cP);const dP=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],fP=Ne("folder-open",dP);const hP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hh=Ne("globe",hP);const pP=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Rv=Ne("grip-vertical",pP);const mP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],gP=Ne("hash",mP);const yP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vP=Ne("history",yP);const bP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Vb=Ne("house",bP);const xP=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],wP=Ne("image-off",xP);const SP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ru=Ne("image",SP);const _P=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],CP=Ne("inbox",_P);const EP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$h=Ne("info",EP);const NP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dp=Ne("layers",NP);const jP=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],kP=Ne("layout-grid",jP);const OP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],dk=Ne("link",OP);const LP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bd=Ne("loader-circle",LP);const MP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tp=Ne("lock",MP);const DP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TP=Ne("log-out",DP);const AP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],So=Ne("mail",AP);const RP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mo=Ne("map-pin",RP);const PP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],O_=Ne("menu",PP);const IP=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],BP=Ne("moon",IP);const UP=[["path",{d:"m18 14-1-3",key:"bdajw9"}],["path",{d:"m3 9 6 2a2 2 0 0 1 2-2h2a2 2 0 0 1 1.99 1.81",key:"f5fotj"}],["path",{d:"M8 17h3a1 1 0 0 0 1-1 6 6 0 0 1 6-6 1 1 0 0 0 1-1v-.75A5 5 0 0 0 17 5",key:"3i90e2"}],["circle",{cx:"19",cy:"17",r:"3",key:"1otbdv"}],["circle",{cx:"5",cy:"17",r:"3",key:"1d8p0c"}]],fk=Ne("motorbike",UP);const zP=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],FP=Ne("notebook-pen",zP);const HP=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],hk=Ne("package-search",HP);const $P=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qb=Ne("package",$P);const VP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],qP=Ne("panel-left",VP);const GP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],YP=Ne("pencil",GP);const WP=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],pk=Ne("percent",WP);const QP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mi=Ne("phone",QP);const KP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yi=Ne("plus",KP);const XP=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ZP=Ne("printer",XP);const JP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],e4=Ne("refresh-cw",JP);const t4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zi=Ne("save",t4);const n4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xd=Ne("search",n4);const s4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mk=Ne("settings",s4);const i4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],r4=Ne("shield-alert",i4);const a4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ap=Ne("shield-check",a4);const o4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rp=Ne("shield",o4);const l4=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Tl=Ne("shopping-bag",l4);const c4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],u4=Ne("smile",c4);const d4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],L_=Ne("sparkles",d4);const f4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xu=Ne("square-check-big",f4);const h4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qs=Ne("square-pen",h4);const p4=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],M_=Ne("sticky-note",p4);const m4=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],xa=Ne("store",m4);const g4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],y4=Ne("sun",g4);const v4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],wd=Ne("tag",v4);const b4=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],x4=Ne("tags",b4);const w4=[["path",{d:"M2 9a3 3 0 1 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"1l48ns"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],S4=Ne("ticket-percent",w4);const _4=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],C4=Ne("ticket",_4);const E4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jr=Ne("trash-2",E4);const N4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zu=Ne("triangle-alert",N4);const j4=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],D_=Ne("truck",j4);const k4=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],gk=Ne("type",k4);const O4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lr=Ne("user",O4);const L4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gb=Ne("users",L4);const M4=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],yk=Ne("utensils",M4);const D4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rs=Ne("x",D4),T4=({children:t,className:e="",...n})=>d.jsx("h1",{className:`text-2xl font-bold text-text-main ${e}`,...n,children:t}),A4=({children:t,className:e="",...n})=>d.jsx("h3",{className:`text-lg font-bold text-text-main ${e}`,...n,children:t}),R4=({children:t,className:e="",...n})=>d.jsx("p",{className:`text-sm text-text-muted ${e}`,...n,children:t}),P4=({children:t,className:e="",...n})=>d.jsx("p",{className:`text-sm text-gray-600 dark:text-gray-300 leading-relaxed ${e}`,...n,children:t}),I4=({children:t,className:e="",...n})=>d.jsx("span",{className:`text-xs font-bold text-text-muted uppercase tracking-wide ${e}`,...n,children:t}),B4=({children:t,className:e="",...n})=>d.jsx("span",{className:`text-sm text-text-muted ${e}`,...n,children:t}),U4=({children:t,className:e="",...n})=>d.jsx("span",{className:`text-sm font-medium text-primary cursor-pointer hover:underline ${e}`,...n,children:t}),H={H1:T4,H3:A4,Subtitle:R4,Body:P4,Label:I4,Small:B4,Link:U4},ze=({label:t,icon:e,prefix:n,className:s="",size:i="md",...a})=>{const c={sm:{input:"py-2 text-sm",iconWrapper:"pl-3",paddingWithIcon:"pl-9",paddingNoIcon:"pl-3",paddingWithPrefix:"pl-12",paddingWithIconAndPrefix:"pl-20"},md:{input:"py-3 text-base",iconWrapper:"pl-4",paddingWithIcon:"pl-11",paddingNoIcon:"pl-4",paddingWithPrefix:"pl-14",paddingWithIconAndPrefix:"pl-24"}}[i],f=()=>e&&n?c.paddingWithIconAndPrefix:e?c.paddingWithIcon:n?c.paddingWithPrefix:c.paddingNoIcon;return d.jsxs("div",{className:`w-full text-left space-y-1.5 ${s}`,children:[t&&d.jsx(H.Label,{className:i==="sm"?"text-xs":"text-sm",children:t}),d.jsxs("div",{className:"relative",children:[(e||n)&&d.jsxs("div",{className:`absolute inset-y-0 left-0 ${c.iconWrapper} flex items-center pointer-events-none text-text-muted`,children:[e&&d.jsx("span",{className:`flex items-center ${i==="sm"?"scale-90":""}`,children:e}),n&&d.jsx("span",{className:`font-medium text-text-muted ${e?"ml-2":""} ${i==="sm"?"text-xs":"text-sm"}`,children:n})]}),d.jsx("input",{className:`
            w-full pr-4 border rounded-full font-medium transition-colors
            ${c.input}

            /* Light Mode */
            bg-white border-gray-200 text-gray-900 placeholder-gray-400
            
            /* Dark Mode */
            dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:placeholder-gray-500
            
            /* Focus */
            focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary
            
            /*  Dynamic Padding applied here */
            ${f()} 
          `,...a})]})]})},Fe=({variant:t="primary",isLoading:e=!1,fullWidth:n=!1,className:s="",children:i,disabled:a,...l})=>{const f=`${n?"flex w-full":"inline-flex"} items-center justify-center px-6 py-3 rounded-xl font-bold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-70 disabled:cursor-not-allowed whitespace-nowrap`,h={primary:"bg-primary hover:bg-primary-hover text-white shadow-md shadow-primary/30 border border-transparent focus:ring-primary",secondary:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 shadow-sm focus:ring-gray-200",ghost:"bg-transparent hover:bg-gray-100 text-gray-600 border border-transparent hover:text-gray-900",danger:"bg-red-50 hover:bg-red-100 text-red-600 border border-transparent"};return d.jsxs("button",{className:`${f} ${h[t]} ${s}`,disabled:a||e,...l,children:[e&&d.jsx(bd,{className:"mr-2 h-4 w-4 animate-spin"}),i]})};var Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},z4={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},F4=class{#e=z4;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},oo=new F4;function H4(t){setTimeout(t,0)}var go=typeof window>"u"||"Deno"in globalThis;function ns(){}function $4(t,e){return typeof t=="function"?t(e):t}function Pv(t){return typeof t=="number"&&t>=0&&t!==1/0}function vk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ha(t,e){return typeof t=="function"?t(e):t}function li(t,e){return typeof t=="function"?t(e):t}function T_(t,e){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:l,stale:c}=t;if(l){if(s){if(e.queryHash!==Yb(l,e.options))return!1}else if(!Ju(e.queryKey,l))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function A_(t,e){const{exact:n,status:s,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(yo(e.options.mutationKey)!==yo(a))return!1}else if(!Ju(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Yb(t,e){return(e?.queryKeyHashFn||yo)(t)}function yo(t){return JSON.stringify(t,(e,n)=>Iv(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function Ju(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ju(t[n],e[n])):!1}var V4=Object.prototype.hasOwnProperty;function bk(t,e,n=0){if(t===e)return t;if(n>500)return e;const s=R_(t)&&R_(e);if(!s&&!(Iv(t)&&Iv(e)))return e;const a=(s?t:Object.keys(t)).length,l=s?e:Object.keys(e),c=l.length,f=s?new Array(c):{};let h=0;for(let m=0;m<c;m++){const g=s?m:l[m],y=t[g],x=e[g];if(y===x){f[g]=y,(s?m<a:V4.call(t,g))&&h++;continue}if(y===null||x===null||typeof y!="object"||typeof x!="object"){f[g]=x;continue}const b=bk(y,x,n+1);f[g]=b,b===y&&h++}return a===c&&h===a?t:f}function Vh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function R_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Iv(t){if(!P_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!P_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function P_(t){return Object.prototype.toString.call(t)==="[object Object]"}function q4(t){return new Promise(e=>{oo.setTimeout(e,t)})}function Bv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bk(t,e):e}function G4(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function Y4(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Wb=Symbol();function xk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Wb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Qb(t,e){return typeof t=="function"?t(...e):!!t}function W4(t,e,n){let s=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),s||(s=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Q4=class extends Wl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!go&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Kb=new Q4;function Uv(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},n.reject=i=>{s({status:"rejected",reason:i}),e(i)},n}var K4=H4;function X4(){let t=[],e=0,n=c=>{c()},s=c=>{c()},i=K4;const a=c=>{e?t.push(c):i(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&i(()=>{s(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||l()}return f},batchCalls:c=>(...f)=>{a(()=>{c(...f)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{i=c}}}var En=X4(),Z4=class extends Wl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!go&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},qh=new Z4;function J4(t){return Math.min(1e3*2**t,3e4)}function wk(t){return(t??"online")==="online"?qh.isOnline():!0}var zv=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Sk(t){let e=!1,n=0,s;const i=Uv(),a=()=>i.status!=="pending",l=C=>{if(!a()){const _=new zv(C);y(_),t.onCancel?.(_)}},c=()=>{e=!0},f=()=>{e=!1},h=()=>Kb.isFocused()&&(t.networkMode==="always"||qh.isOnline())&&t.canRun(),m=()=>wk(t.networkMode)&&t.canRun(),g=C=>{a()||(s?.(),i.resolve(C))},y=C=>{a()||(s?.(),i.reject(C))},x=()=>new Promise(C=>{s=_=>{(a()||h())&&C(_)},t.onPause?.()}).then(()=>{s=void 0,a()||t.onContinue?.()}),b=()=>{if(a())return;let C;const _=n===0?t.initialPromise:void 0;try{C=_??t.fn()}catch(k){C=Promise.reject(k)}Promise.resolve(C).then(g).catch(k=>{if(a())return;const j=t.retry??(go?0:3),L=t.retryDelay??J4,O=typeof L=="function"?L(n,k):L,E=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,k);if(e||!E){y(k);return}n++,t.onFail?.(n,k),q4(O).then(()=>h()?void 0:x()).then(()=>{e?y(k):b()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:f,canStart:m,start:()=>(m()?b():x().then(b),i)}}var _k=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pv(this.gcTime)&&(this.#e=oo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(go?1/0:300*1e3))}clearGcTimeout(){this.#e&&(oo.clearTimeout(this.#e),this.#e=void 0)}},e3=class extends _k{#e;#t;#n;#i;#s;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=B_(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=B_(this.options);e.data!==void 0&&(this.setState(I_(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Bv(this.state.data,t,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(ns).catch(ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>li(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ha(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vk(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const c=xk(this.options,e),h=(()=>{const m={client:this.#i,queryKey:this.queryKey,meta:this.meta};return s(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},l=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return s(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta}),this.#s=Sk({initialPromise:e?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof zv&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,f)=>{this.#r({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#s.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof zv){if(c.silent)return this.#s.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#r({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ck(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...I_(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),En.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Ck(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function I_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function B_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var t3=class extends Wl{constructor(t,e){super(),this.options=e,this.#e=t,this.#r=null,this.#o=Uv(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#s;#a;#o;#r;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),U_(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof li(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!Vh(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&z_(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),s&&(this.#t!==n||li(this.options.enabled,this.#t)!==li(e.enabled,this.#t)||ha(this.options.staleTime,this.#t)!==ha(e.staleTime,this.#t))&&this.#g();const i=this.#y();s&&(this.#t!==n||li(this.options.enabled,this.#t)!==li(e.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return s3(this,n)&&(this.#i=n,this.#a=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ns)),e}#g(){this.#x();const t=ha(this.options.staleTime,this.#t);if(go||this.#i.isStale||!Pv(t))return;const n=vk(this.#i.dataUpdatedAt,t)+1;this.#c=oo.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#l=t,!(go||li(this.options.enabled,this.#t)===!1||!Pv(this.#l)||this.#l===0)&&(this.#u=oo.setInterval(()=>{(this.options.refetchIntervalInBackground||Kb.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(oo.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(oo.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,s=this.options,i=this.#i,a=this.#s,l=this.#a,f=t!==n?t.state:this.#n,{state:h}=t;let m={...h},g=!1,y;if(e._optimisticResults){const I=this.hasListeners(),P=!I&&U_(t,e),z=I&&z_(t,n,e,s);(P||z)&&(m={...m,...Ck(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:C}=m;y=m.data;let _=!1;if(e.placeholderData!==void 0&&y===void 0&&C==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===l?.placeholderData?(I=i.data,_=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,I!==void 0&&(C="success",y=Bv(i?.data,I,e),g=!0)}if(e.select&&y!==void 0&&!_)if(i&&y===a?.data&&e.select===this.#m)y=this.#f;else try{this.#m=e.select,y=e.select(y),y=Bv(i?.data,y,e),this.#f=y,this.#r=null}catch(I){this.#r=I}this.#r&&(x=this.#r,y=this.#f,b=Date.now(),C="error");const k=m.fetchStatus==="fetching",j=C==="pending",L=C==="error",O=j&&k,E=y!==void 0,T={status:C,fetchStatus:m.fetchStatus,isPending:j,isSuccess:C==="success",isError:L,isInitialLoading:O,isLoading:O,data:y,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:k,isRefetching:k&&!j,isLoadingError:L&&!E,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:L&&E,isStale:Xb(t,e),refetch:this.refetch,promise:this.#o,isEnabled:li(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=T.data!==void 0,P=T.status==="error"&&!I,z=K=>{P?K.reject(T.error):I&&K.resolve(T.data)},G=()=>{const K=this.#o=T.promise=Uv();z(K)},q=this.#o;switch(q.status){case"pending":t.queryHash===n.queryHash&&z(q);break;case"fulfilled":(P||T.data!==q.value)&&G();break;case"rejected":(!P||T.error!==q.reason)&&G();break}}return T}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#a=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Vh(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#i).some(l=>{const c=l;return this.#i[c]!==t[c]&&a.has(c)})};this.#_({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(t){En.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function n3(t,e){return li(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function U_(t,e){return n3(t,e)||t.state.data!==void 0&&Fv(t,e,e.refetchOnMount)}function Fv(t,e,n){if(li(e.enabled,t)!==!1&&ha(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Xb(t,e)}return!1}function z_(t,e,n,s){return(t!==e||li(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Xb(t,n)}function Xb(t,e){return li(e.enabled,t)!==!1&&t.isStaleByTime(ha(e.staleTime,t))}function s3(t,e){return!Vh(t.getCurrentResult(),e)}function F_(t){return{onFetch:(e,n)=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let m=!1;const g=b=>{W4(b,()=>e.signal,()=>m=!0)},y=xk(e.options,e.fetchOptions),x=async(b,C,_)=>{if(m)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const j=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:C,direction:_?"backward":"forward",meta:e.options.meta};return g(M),M})(),L=await y(j),{maxPages:O}=e.options,E=_?Y4:G4;return{pages:E(b.pages,L,O),pageParams:E(b.pageParams,C,O)}};if(i&&a.length){const b=i==="backward",C=b?i3:H_,_={pages:a,pageParams:l},k=C(s,_);c=await x(_,k,b)}else{const b=t??a.length;do{const C=f===0?l[0]??s.initialPageParam:H_(s,c);if(f>0&&C==null)break;c=await x(c,C),f++}while(f<b)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function H_(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function i3(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var r3=class extends _k{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||Ek(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#s({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Sk({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#s({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",i=!this.#i.canStart();try{if(s)e();else{this.#s({type:"pending",variables:t,isPaused:i}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,n);const l=await this.options.onMutate?.(t,n);l!==this.state.context&&this.#s({type:"pending",context:l,variables:t,isPaused:i})}const a=await this.#i.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#s({type:"success",data:a}),a}catch(a){try{await this.#n.config.onError?.(a,t,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(a,t,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,a,t,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#s({type:"error",error:a}),a}finally{this.#n.runNext(this)}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),En.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function Ek(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var a3=class extends Wl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new r3({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=Qf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Qf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Qf(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Qf(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){En.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>A_(e,n))}findAll(t={}){return this.getAll().filter(e=>A_(t,e))}notify(t){En.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return En.batch(()=>Promise.all(t.map(e=>e.continue().catch(ns))))}};function Qf(t){return t.options.scope?.id}var o3=class extends Wl{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Vh(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&yo(n.mutationKey)!==yo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??Ek();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){En.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,s=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#i.onSuccess?.(e.data,n,s,i)}catch(a){Promise.reject(a)}try{this.#i.onSettled?.(e.data,null,n,s,i)}catch(a){Promise.reject(a)}}else if(e?.type==="error"){try{this.#i.onError?.(e.error,n,s,i)}catch(a){Promise.reject(a)}try{this.#i.onSettled?.(void 0,e.error,n,s,i)}catch(a){Promise.reject(a)}}}this.listeners.forEach(n=>{n(this.#t)})})}},l3=class extends Wl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,i=e.queryHash??Yb(s,e);let a=this.get(i);return a||(a=new e3({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>T_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>T_(t,n)):e}notify(t){En.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},c3=class{#e;#t;#n;#i;#s;#a;#o;#r;constructor(t={}){this.#e=t.queryCache||new l3,this.#t=t.mutationCache||new a3,this.#n=t.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Kb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=qh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ha(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(s.queryHash)?.state.data,l=$4(e,a);if(l!==void 0)return this.#e.build(this,s).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return En.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=En.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(s).then(ns).catch(ns)}invalidateQueries(t,e={}){return En.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=En.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ns)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ns)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ha(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ns).catch(ns)}fetchInfiniteQuery(t){return t.behavior=F_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ns).catch(ns)}ensureInfiniteQueryData(t){return t.behavior=F_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(yo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(s=>{Ju(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(yo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Ju(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Yb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wb&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Nk=w.createContext(void 0),as=t=>{const e=w.useContext(Nk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u3=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Nk.Provider,{value:t,children:e})),jk=w.createContext(!1),d3=()=>w.useContext(jk);jk.Provider;function f3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var h3=w.createContext(f3()),p3=()=>w.useContext(h3),m3=(t,e,n)=>{const s=n?.state.error&&typeof t.throwOnError=="function"?Qb(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||s)&&(e.isReset()||(t.retryOnMount=!1))},g3=t=>{w.useEffect(()=>{t.clearReset()},[t])},y3=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(i&&t.data===void 0||Qb(n,[t.error,s])),v3=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},b3=(t,e)=>t.isLoading&&t.isFetching&&!e,x3=(t,e)=>t?.suspense&&e.isPending,$_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function w3(t,e,n){const s=d3(),i=p3(),a=as(),l=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=a.getQueryCache().get(l.queryHash);l._optimisticResults=s?"isRestoring":"optimistic",v3(l),m3(l,i,c),g3(i);const f=!a.getQueryCache().get(l.queryHash),[h]=w.useState(()=>new e(a,l)),m=h.getOptimisticResult(l),g=!s&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const x=g?h.subscribe(En.batchCalls(y)):ns;return h.updateResult(),x},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),w.useEffect(()=>{h.setOptions(l)},[l,h]),x3(l,m))throw $_(l,h,i);if(y3({result:m,errorResetBoundary:i,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw m.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!go&&b3(m,s)&&(f?$_(l,h,i):c?.promise)?.catch(ns).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?m:h.trackResult(m)}function Nn(t,e){return w3(t,t3)}function tt(t,e){const n=as(),[s]=w.useState(()=>new o3(n,t));w.useEffect(()=>{s.setOptions(t)},[s,t]);const i=w.useSyncExternalStore(w.useCallback(l=>s.subscribe(En.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((l,c)=>{s.mutate(l,c).catch(ns)},[s]);if(i.error&&Qb(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var V_="popstate";function S3(t={}){function e(s,i){let{pathname:a,search:l,hash:c}=s.location;return Hv("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:ed(i)}return C3(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $s(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _3(){return Math.random().toString(36).substring(2,10)}function q_(t,e){return{usr:t.state,key:t.key,idx:e}}function Hv(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ql(e):e,state:n,key:e&&e.key||s||_3()}}function ed({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ql(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function C3(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,c="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let _=m(),k=_==null?null:_-h;h=_,f&&f({action:c,location:C.location,delta:k})}function y(_,k){c="PUSH";let j=Hv(C.location,_,k);h=m()+1;let L=q_(j,h),O=C.createHref(j);try{l.pushState(L,"",O)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(O)}a&&f&&f({action:c,location:C.location,delta:1})}function x(_,k){c="REPLACE";let j=Hv(C.location,_,k);h=m();let L=q_(j,h),O=C.createHref(j);l.replaceState(L,"",O),a&&f&&f({action:c,location:C.location,delta:0})}function b(_){return E3(_)}let C={get action(){return c},get location(){return t(i,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(V_,g),f=_,()=>{i.removeEventListener(V_,g),f=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let k=b(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:x,go(_){return l.go(_)}};return C}function E3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ed(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function kk(t,e,n="/"){return N3(t,e,n,!1)}function N3(t,e,n,s){let i=typeof e=="string"?Ql(e):e,a=kr(i.pathname||"/",n);if(a==null)return null;let l=Ok(t);j3(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=B3(a);c=P3(l[f],h,s)}return c}function Ok(t,e=[],n=[],s="",i=!1){let a=(l,c,f=i,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&f)return;Jt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let g=Er([s,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(Jt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ok(l.children,e,y,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:A3(g,l.index),routesMeta:y})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of Lk(l.path))a(l,c,!0,f)}),e}function Lk(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=Lk(s.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function j3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R3(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var k3=/^:[\w-]+$/,O3=3,L3=2,M3=1,D3=10,T3=-2,G_=t=>t==="*";function A3(t,e){let n=t.split("/"),s=n.length;return n.some(G_)&&(s+=T3),e&&(s+=L3),n.filter(i=>!G_(i)).reduce((i,a)=>i+(k3.test(a)?O3:a===""?M3:D3),s)}function R3(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function P3(t,e,n=!1){let{routesMeta:s}=t,i={},a="/",l=[];for(let c=0;c<s.length;++c){let f=s[c],h=c===s.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=Gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),y=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=Gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Er([a,g.pathname]),pathnameBase:H3(Er([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Er([a,g.pathnameBase]))}return l}function Gh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=I3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((h,{paramName:m,isOptional:g},y)=>{if(m==="*"){let b=c[y]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[y];return g&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function I3(t,e=!1,n=!0){$s(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(s.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function B3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $s(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var Mk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U3=t=>Mk.test(t);function z3(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Ql(t):t,a;if(n)if(U3(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),$s(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=Y_(n.substring(1),"/"):a=Y_(n,e)}else a=e;return{pathname:a,search:$3(s),hash:V3(i)}}function Y_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ay(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zb(t){let e=F3(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jb(t,e,n,s=!1){let i;typeof t=="string"?i=Ql(t):(i={...t},Jt(!i.pathname||!i.pathname.includes("?"),Ay("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),Ay("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),Ay("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!s&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}c=g>=0?e[g]:"/"}let f=z3(i,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var Er=t=>t.join("/").replace(/\/\/+/g,"/"),H3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,q3=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function G3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Y3(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tk(t,e){let n=t;if(typeof n!="string"||!Mk.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,i=!1;if(Dk)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=kr(l.pathname,e);l.origin===a.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{$s(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ak=["POST","PUT","PATCH","DELETE"];new Set(Ak);var W3=["GET",...Ak];new Set(W3);var Kl=w.createContext(null);Kl.displayName="DataRouter";var Pp=w.createContext(null);Pp.displayName="DataRouterState";var Q3=w.createContext(!1),Rk=w.createContext({isTransitioning:!1});Rk.displayName="ViewTransition";var K3=w.createContext(new Map);K3.displayName="Fetchers";var X3=w.createContext(null);X3.displayName="Await";var Gs=w.createContext(null);Gs.displayName="Navigation";var Sd=w.createContext(null);Sd.displayName="Location";var vi=w.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var ex=w.createContext(null);ex.displayName="RouteError";var Pk="REACT_ROUTER_ERROR",Z3="REDIRECT",J3="ROUTE_ERROR_RESPONSE";function e5(t){if(t.startsWith(`${Pk}:${Z3}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function t5(t){if(t.startsWith(`${Pk}:${J3}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new q3(e.status,e.statusText,e.data)}catch{}}function n5(t,{relative:e}={}){Jt(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=w.useContext(Gs),{hash:i,pathname:a,search:l}=_d(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Er([n,a])),s.createHref({pathname:c,search:l,hash:i})}function Xl(){return w.useContext(Sd)!=null}function Ji(){return Jt(Xl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Sd).location}var Ik="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bk(t){w.useContext(Gs).static||w.useLayoutEffect(t)}function Cs(){let{isDataRoute:t}=w.useContext(vi);return t?y5():s5()}function s5(){Jt(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Kl),{basename:e,navigator:n}=w.useContext(Gs),{matches:s}=w.useContext(vi),{pathname:i}=Ji(),a=JSON.stringify(Zb(s)),l=w.useRef(!1);return Bk(()=>{l.current=!0}),w.useCallback((f,h={})=>{if($s(l.current,Ik),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=Jb(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Er([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}var i5=w.createContext(null);function r5(t){let e=w.useContext(vi).outlet;return w.useMemo(()=>e&&w.createElement(i5.Provider,{value:t},e),[e,t])}function Mr(){let{matches:t}=w.useContext(vi),e=t[t.length-1];return e?e.params:{}}function _d(t,{relative:e}={}){let{matches:n}=w.useContext(vi),{pathname:s}=Ji(),i=JSON.stringify(Zb(n));return w.useMemo(()=>Jb(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function a5(t,e){return Uk(t,e)}function Uk(t,e,n,s,i){Jt(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Gs),{matches:l}=w.useContext(vi),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let j=g&&g.path||"";Fk(h,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=Ji(),x;if(e){let j=typeof e=="string"?Ql(e):e;Jt(m==="/"||j.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=y;let b=x.pathname||"/",C=b;if(m!=="/"){let j=m.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=kk(t,{pathname:C});$s(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$s(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=d5(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Er([m,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Er([m,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,s,i);return e&&k?w.createElement(Sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function o5(){let t=g5(),e=G3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,l)}var l5=w.createElement(o5,null),zk=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=t5(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(vi.Provider,{value:this.props.routeContext},w.createElement(ex.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(c5,{error:t},e):e}};zk.contextType=Q3;var Ry=new WeakMap;function c5({children:t,error:e}){let{basename:n}=w.useContext(Gs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=e5(e.digest);if(s){let i=Ry.get(e);if(i)throw i;let a=Tk(s.location,n);if(Dk&&!Ry.get(e))if(a.isExternal||s.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:s.replace}));throw Ry.set(e,l),l}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function u5({routeContext:t,match:e,children:n}){let s=w.useContext(Kl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(vi.Provider,{value:t},n)}function d5(t,e=[],n=null,s=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Jt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:y,errors:x}=n,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=n&&s?(m,g)=>{s(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Y3(n.matches),errorInfo:g})}:void 0;return a.reduceRight((m,g,y)=>{let x,b=!1,C=null,_=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||l5,c&&(f<0&&y===0?(Fk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):f===y&&(b=!0,_=g.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,y+1)),j=()=>{let L;return x?L=C:b?L=_:g.route.Component?L=w.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=m,w.createElement(u5,{match:g,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:L})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?w.createElement(zk,{location:n.location,revalidation:n.revalidation,component:C,error:x,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:h}):j()},null)}function tx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f5(t){let e=w.useContext(Kl);return Jt(e,tx(t)),e}function h5(t){let e=w.useContext(Pp);return Jt(e,tx(t)),e}function p5(t){let e=w.useContext(vi);return Jt(e,tx(t)),e}function nx(t){let e=p5(t),n=e.matches[e.matches.length-1];return Jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function m5(){return nx("useRouteId")}function g5(){let t=w.useContext(ex),e=h5("useRouteError"),n=nx("useRouteError");return t!==void 0?t:e.errors?.[n]}function y5(){let{router:t}=f5("useNavigate"),e=nx("useNavigate"),n=w.useRef(!1);return Bk(()=>{n.current=!0}),w.useCallback(async(i,a={})=>{$s(n.current,Ik),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var W_={};function Fk(t,e,n){!e&&!W_[t]&&(W_[t]=!0,$s(!1,n))}w.memo(v5);function v5({routes:t,future:e,state:n,onError:s}){return Uk(t,void 0,n,s,e)}function pa({to:t,replace:e,state:n,relative:s}){Jt(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Gs);$s(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(vi),{pathname:l}=Ji(),c=Cs(),f=Jb(t,Zb(a),l,s==="path"),h=JSON.stringify(f);return w.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:s})},[c,h,s,e,n]),null}function sx(t){return r5(t.context)}function Ye(t){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b5({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){Jt(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[c,i,a,l]);typeof n=="string"&&(n=Ql(n));let{pathname:h="/",search:m="",hash:g="",state:y=null,key:x="default"}=n,b=w.useMemo(()=>{let C=kr(h,c);return C==null?null:{location:{pathname:C,search:m,hash:g,state:y,key:x},navigationType:s}},[c,h,m,g,y,x,s]);return $s(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Gs.Provider,{value:f},w.createElement(Sd.Provider,{children:e,value:b}))}function x5({children:t,location:e}){return a5($v(t),e)}function $v(t,e=[]){let n=[];return w.Children.forEach(t,(s,i)=>{if(!w.isValidElement(s))return;let a=[...e,i];if(s.type===w.Fragment){n.push.apply(n,$v(s.props.children,a));return}Jt(s.type===Ye,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=$v(s.props.children,a)),n.push(l)}),n}var kh="get",Oh="application/x-www-form-urlencoded";function Ip(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function w5(t){return Ip(t)&&t.tagName.toLowerCase()==="button"}function S5(t){return Ip(t)&&t.tagName.toLowerCase()==="form"}function _5(t){return Ip(t)&&t.tagName.toLowerCase()==="input"}function C5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E5(t,e){return t.button===0&&(!e||e==="_self")&&!C5(t)}function Vv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function N5(t,e){let n=Vv(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Kf=null;function j5(){if(Kf===null)try{new FormData(document.createElement("form"),0),Kf=!1}catch{Kf=!0}return Kf}var k5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Py(t){return t!=null&&!k5.has(t)?($s(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):t}function O5(t,e){let n,s,i,a,l;if(S5(t)){let c=t.getAttribute("action");s=c?kr(c,e):null,n=t.getAttribute("method")||kh,i=Py(t.getAttribute("enctype"))||Oh,a=new FormData(t)}else if(w5(t)||_5(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(s=f?kr(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||kh,i=Py(t.getAttribute("formenctype"))||Py(c.getAttribute("enctype"))||Oh,a=new FormData(c,t),!j5()){let{name:h,type:m,value:g}=t;if(m==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(Ip(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kh,s=null,i=Oh,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ix(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L5(t,e,n,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:e&&kr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function M5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function T5(t,e,n){let s=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await M5(a,n);return l.links?l.links():[]}return[]}));return I5(s.flat(1).filter(D5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Q_(t,e,n,s,i,a){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):a==="data"?e.filter((f,h)=>{let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function A5(t,e,{includeHydrateFallback:n}={}){return R5(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function R5(t){return[...new Set(t)]}function P5(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function I5(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let a=JSON.stringify(P5(i));return n.has(a)||(n.add(a),s.push({key:a,link:i})),s},[])}function Hk(){let t=w.useContext(Kl);return ix(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function B5(){let t=w.useContext(Pp);return ix(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rx=w.createContext(void 0);rx.displayName="FrameworkContext";function $k(){let t=w.useContext(rx);return ix(t,"You must render this element inside a <HydratedRouter> element"),t}function U5(t,e){let n=w.useContext(rx),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,y=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=k=>{k.forEach(j=>{l(j.isIntersecting)})},_=new IntersectionObserver(C,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[t]),w.useEffect(()=>{if(s){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[s]);let x=()=>{i(!0)},b=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Jc(c,x),onBlur:Jc(f,b),onMouseEnter:Jc(h,x),onMouseLeave:Jc(m,b),onTouchStart:Jc(g,x)}]:[!1,y,{}]}function Jc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z5({page:t,...e}){let{router:n}=Hk(),s=w.useMemo(()=>kk(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?w.createElement(H5,{page:t,matches:s,...e}):null}function F5(t){let{manifest:e,routeModules:n}=$k(),[s,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return T5(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),s}function H5({page:t,matches:e,...n}){let s=Ji(),{future:i,manifest:a,routeModules:l}=$k(),{basename:c}=Hk(),{loaderData:f,matches:h}=B5(),m=w.useMemo(()=>Q_(t,e,h,a,s,"data"),[t,e,h,a,s]),g=w.useMemo(()=>Q_(t,e,h,a,s,"assets"),[t,e,h,a,s]),y=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let C=new Set,_=!1;if(e.forEach(j=>{let L=a.routes[j.route.id];!L||!L.hasLoader||(!m.some(O=>O.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||L.hasClientLoader?_=!0:C.add(j.route.id))}),C.size===0)return[];let k=L5(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return _&&C.size>0&&k.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[c,i.unstable_trailingSlashAwareDataRequests,f,s,a,m,e,t,l]),x=w.useMemo(()=>A5(g,a),[g,a]),b=F5(g);return w.createElement(w.Fragment,null,y.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),x.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),b.map(({key:C,link:_})=>w.createElement("link",{key:C,nonce:n.nonce,..._})))}function $5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V5&&(window.__reactRouterVersion="7.12.0")}catch{}function q5({basename:t,children:e,unstable_useTransitions:n,window:s}){let i=w.useRef();i.current==null&&(i.current=S3({window:s,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),f=w.useCallback(h=>{n===!1?c(h):w.startTransition(()=>c(h))},[n]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement(b5,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n})}var Vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qk=w.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},b){let{basename:C,unstable_useTransitions:_}=w.useContext(Gs),k=typeof h=="string"&&Vk.test(h),j=Tk(h,C);h=j.to;let L=n5(h,{relative:i}),[O,E,M]=U5(s,x),T=Q5(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function I(z){e&&e(z),z.defaultPrevented||T(z)}let P=w.createElement("a",{...x,...M,href:j.absoluteURL||L,onClick:j.isExternal||a?e:I,ref:$5(b,E),target:f,"data-discover":!k&&n==="render"?"true":void 0});return O&&!k?w.createElement(w.Fragment,null,P,w.createElement(z5,{page:L})):P});qk.displayName="Link";var G5=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...h},m){let g=_d(l,{relative:h.relative}),y=Ji(),x=w.useContext(Pp),{navigator:b,basename:C}=w.useContext(Gs),_=x!=null&&eI(g)&&c===!0,k=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,j=y.pathname,L=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),L=L?L.toLowerCase():null,k=k.toLowerCase()),L&&C&&(L=kr(L,C)||L);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let E=j===k||!i&&j.startsWith(k)&&j.charAt(O)==="/",M=L!=null&&(L===k||!i&&L.startsWith(k)&&L.charAt(k.length)==="/"),T={isActive:E,isPending:M,isTransitioning:_},I=E?e:void 0,P;typeof s=="function"?P=s(T):P=[s,E?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(T):a;return w.createElement(qk,{...h,"aria-current":I,className:P,ref:m,style:z,to:l,viewTransition:c},typeof f=="function"?f(T):f)});G5.displayName="NavLink";var Y5=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:a,method:l=kh,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},b)=>{let{unstable_useTransitions:C}=w.useContext(Gs),_=Z5(),k=J5(c,{relative:h}),j=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&Vk.test(c),O=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let M=E.nativeEvent.submitter,T=M?.getAttribute("formmethod")||l,I=()=>_(M||E.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});C&&n!==!1?w.startTransition(()=>I()):I()};return w.createElement("form",{ref:b,method:j,action:k,onSubmit:s?f:O,...x,"data-discover":!L&&t==="render"?"true":void 0})});Y5.displayName="Form";function W5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gk(t){let e=w.useContext(Kl);return Jt(e,W5(t)),e}function Q5(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let h=Cs(),m=Ji(),g=_d(t,{relative:a});return w.useCallback(y=>{if(E5(y,e)){y.preventDefault();let x=n!==void 0?n:ed(m)===ed(g),b=()=>h(t,{replace:x,state:s,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});f?w.startTransition(()=>b()):b()}},[m,h,g,n,s,e,t,i,a,l,c,f])}function ax(t){$s(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(Vv(t)),n=w.useRef(!1),s=Ji(),i=w.useMemo(()=>N5(s.search,n.current?null:e.current),[s.search]),a=Cs(),l=w.useCallback((c,f)=>{const h=Vv(typeof c=="function"?c(new URLSearchParams(i)):c);n.current=!0,a("?"+h,f)},[a,i]);return[i,l]}var K5=0,X5=()=>`__${String(++K5)}__`;function Z5(){let{router:t}=Gk("useSubmit"),{basename:e}=w.useContext(Gs),n=m5(),s=t.fetch,i=t.navigate;return w.useCallback(async(a,l={})=>{let{action:c,method:f,encType:h,formData:m,body:g}=O5(a,e);if(l.navigate===!1){let y=l.fetcherKey||X5();await s(y,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,i,e,n])}function J5(t,{relative:e}={}){let{basename:n}=w.useContext(Gs),s=w.useContext(vi);Jt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a={..._d(t||".",{relative:e})},l=Ji();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Er([n,a.pathname])),ed(a)}function eI(t,{relative:e}={}){let n=w.useContext(Rk);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gk("useViewTransitionState"),i=_d(t,{relative:e});if(!n.isTransitioning)return!1;let a=kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gh(i.pathname,l)!=null||Gh(i.pathname,a)!=null}var Dr=rk();const tI=ik(Dr),K_=t=>{let e;const n=new Set,s=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(x=>x(e,y))}},i=()=>e,c={setState:s,getState:i,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(s,i,c);return c},nI=(t=>t?K_(t):K_),sI=t=>t;function iI(t,e=sI){const n=Re.useSyncExternalStore(t.subscribe,Re.useCallback(()=>e(t.getState()),[t,e]),Re.useCallback(()=>e(t.getInitialState()),[t,e]));return Re.useDebugValue(n),n}const X_=t=>{const e=nI(t),n=s=>iI(e,s);return Object.assign(n,e),n},_o=(t=>t?X_(t):X_);function Bp(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const l=f=>f===null?null:JSON.parse(f,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const qv=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return qv(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return qv(s)(n)}}}},rI=(t,e)=>(n,s,i)=>{let a={storage:Bp(()=>localStorage),partialize:_=>_,version:0,merge:(_,k)=>({...k,..._}),...e},l=!1,c=0;const f=new Set,h=new Set;let m=a.storage;if(!m)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(..._)},s,i);const g=()=>{const _=a.partialize({...s()});return m.setItem(a.name,{state:_,version:a.version})},y=i.setState;i.setState=(_,k)=>(y(_,k),g());const x=t((..._)=>(n(..._),g()),s,i);i.getInitialState=()=>x;let b;const C=()=>{var _,k;if(!m)return;const j=++c;l=!1,f.forEach(O=>{var E;return O((E=s())!=null?E:x)});const L=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(_=s())!=null?_:x))||void 0;return qv(m.getItem.bind(m))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate){const E=a.migrate(O.state,O.version);return E instanceof Promise?E.then(M=>[!0,M]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var E;if(j!==c)return;const[M,T]=O;if(b=a.merge(T,(E=s())!=null?E:x),n(b,!0),M)return g()}).then(()=>{j===c&&(L?.(b,void 0),b=s(),l=!0,h.forEach(O=>O(b)))}).catch(O=>{j===c&&L?.(void 0,O)})};return i.persist={setOptions:_=>{a={...a,..._},_.storage&&(m=_.storage)},clearStorage:()=>{m?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>C(),hasHydrated:()=>l,onHydrate:_=>(f.add(_),()=>{f.delete(_)}),onFinishHydration:_=>(h.add(_),()=>{h.delete(_)})},a.skipHydration||C(),b||x},ox=rI,aI=()=>{const{accessTokenExp:t}=$t.getState();if(!t)return!0;const e=Math.floor(Date.now()/1e3);return t-e<60},Z_=t=>{try{return JSON.parse(atob(t.split(".")[1])).exp??null}catch{return null}},Ct=_o(t=>({toasts:[],addToast:(e,n,s=3e3)=>{const i=Date.now().toString();t(a=>({toasts:[...a.toasts,{id:i,message:e,type:n,duration:s}]})),s>0&&setTimeout(()=>t(a=>({toasts:a.toasts.filter(l=>l.id!==i)})),s)},addCustomToast:(e,n=5e3)=>{const s=Date.now().toString();t(i=>({toasts:[...i.toasts,{id:s,type:"custom",content:e,duration:n}]})),n>0&&setTimeout(()=>t(i=>({toasts:i.toasts.filter(a=>a.id!==s)})),n)},removeToast:e=>{t(n=>({toasts:n.toasts.filter(s=>s.id!==e)}))}})),oI=({order:t,onClose:e})=>{const n=Cs(),[s,i]=w.useState(!1);w.useEffect(()=>{requestAnimationFrame(()=>i(!0))},[]);const a=()=>{n("/dashboard/orders"),e()};return d.jsxs("div",{className:`
        pointer-events-auto w-full max-w-sm bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden
        transition-all duration-500 transform
        ${s?"translate-y-0 opacity-100":"-translate-y-12 opacity-0"}
      `,children:[d.jsx("div",{className:"h-1.5 w-full bg-primary"}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:d.jsx(Tl,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"New Order Received"}),d.jsxs(H.H3,{className:"text-sm leading-none",children:[t.customerSnapshot?.firstName,t.customerSnapshot?.lastName]})]})]}),d.jsx("button",{onClick:l=>{l.stopPropagation(),e()},className:"text-gray-300 hover:text-gray-500",children:d.jsx(rs,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3 border border-gray-100",children:[d.jsxs("div",{className:"space-y-1",children:[t.products.slice(0,2).map((l,c)=>d.jsx("div",{className:"flex justify-between text-sm",children:d.jsxs("span",{className:"text-gray-600 font-medium",children:[l.quantity,"x ",l.name]})},c)),t.products.length>2&&d.jsxs("p",{className:"text-xs text-gray-400 italic",children:["+ ",t.products.length-2," more items..."]})]}),d.jsxs("div",{className:"border-t border-gray-200 mt-2 pt-2 flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold text-gray-400",children:"TOTAL"}),d.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",t.totalAmount.toFixed(2)]})]})]}),d.jsxs("button",{onClick:a,className:"w-full py-2 bg-gray-900 hover:bg-black text-white rounded-xl text-sm font-bold flex items-center justify-center transition-colors group",children:["View Order Details",d.jsx(Mp,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})},Xi=Object.create(null);Xi.open="0";Xi.close="1";Xi.ping="2";Xi.pong="3";Xi.message="4";Xi.upgrade="5";Xi.noop="6";const Lh=Object.create(null);Object.keys(Xi).forEach(t=>{Lh[Xi[t]]=t});const Gv={type:"error",data:"parser error"},Yk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wk=typeof ArrayBuffer=="function",Qk=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,lx=({type:t,data:e},n,s)=>Yk&&e instanceof Blob?n?s(e):J_(e,s):Wk&&(e instanceof ArrayBuffer||Qk(e))?n?s(e):J_(new Blob([e]),s):s(Xi[t]+(e||"")),J_=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function eC(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Iy;function lI(t,e){if(Yk&&t.data instanceof Blob)return t.data.arrayBuffer().then(eC).then(e);if(Wk&&(t.data instanceof ArrayBuffer||Qk(t.data)))return e(eC(t.data));lx(t,!1,n=>{Iy||(Iy=new TextEncoder),e(Iy.encode(n))})}const tC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<tC.length;t++)Lu[tC.charCodeAt(t)]=t;const cI=t=>{let e=t.length*.75,n=t.length,s,i=0,a,l,c,f;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),m=new Uint8Array(h);for(s=0;s<n;s+=4)a=Lu[t.charCodeAt(s)],l=Lu[t.charCodeAt(s+1)],c=Lu[t.charCodeAt(s+2)],f=Lu[t.charCodeAt(s+3)],m[i++]=a<<2|l>>4,m[i++]=(l&15)<<4|c>>2,m[i++]=(c&3)<<6|f&63;return h},uI=typeof ArrayBuffer=="function",cx=(t,e)=>{if(typeof t!="string")return{type:"message",data:Kk(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:dI(t.substring(1),e)}:Lh[n]?t.length>1?{type:Lh[n],data:t.substring(1)}:{type:Lh[n]}:Gv},dI=(t,e)=>{if(uI){const n=cI(t);return Kk(n,e)}else return{base64:!0,data:t}},Kk=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,Xk="",fI=(t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach((a,l)=>{lx(a,!1,c=>{s[l]=c,++i===n&&e(s.join(Xk))})})},hI=(t,e)=>{const n=t.split(Xk),s=[];for(let i=0;i<n.length;i++){const a=cx(n[i],e);if(s.push(a),a.type==="error")break}return s};function pI(){return new TransformStream({transform(t,e){lI(t,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let By;function Xf(t){return t.reduce((e,n)=>e+n.length,0)}function Zf(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function mI(t,e){By||(By=new TextDecoder);const n=[];let s=0,i=-1,a=!1;return new TransformStream({transform(l,c){for(n.push(l);;){if(s===0){if(Xf(n)<1)break;const f=Zf(n,1);a=(f[0]&128)===128,i=f[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Xf(n)<2)break;const f=Zf(n,2);i=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(Xf(n)<8)break;const f=Zf(n,8),h=new DataView(f.buffer,f.byteOffset,f.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){c.enqueue(Gv);break}i=m*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Xf(n)<i)break;const f=Zf(n,i);c.enqueue(cx(a?f:By.decode(f),e)),s=0}if(i===0||i>t){c.enqueue(Gv);break}}}})}const Zk=4;function Sn(t){if(t)return gI(t)}function gI(t){for(var e in Sn.prototype)t[e]=Sn.prototype[e];return t}Sn.prototype.on=Sn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Sn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Sn.prototype.off=Sn.prototype.removeListener=Sn.prototype.removeAllListeners=Sn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===e||s.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Sn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,e)}return this};Sn.prototype.emitReserved=Sn.prototype.emit;Sn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Sn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Up=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ci=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),yI="arraybuffer";function Jk(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const vI=ci.setTimeout,bI=ci.clearTimeout;function zp(t,e){e.useNativeTimers?(t.setTimeoutFn=vI.bind(ci),t.clearTimeoutFn=bI.bind(ci)):(t.setTimeoutFn=ci.setTimeout.bind(ci),t.clearTimeoutFn=ci.clearTimeout.bind(ci))}const xI=1.33;function wI(t){return typeof t=="string"?SI(t):Math.ceil((t.byteLength||t.size)*xI)}function SI(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function eO(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _I(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function CI(t){let e={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let a=n[s].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class EI extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class ux extends Sn{constructor(e){super(),this.writable=!1,zp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new EI(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=cx(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=_I(e);return n.length?"?"+n:""}}class NI extends ux{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};hI(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,fI(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=eO()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let tO=!1;try{tO=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const jI=tO;function kI(){}class OI extends NI{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class Wi extends Sn{constructor(e,n,s){super(),this.createRequest=e,zp(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=Jk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Wi.requestsCount++,Wi.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=kI,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Wi.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Wi.requestsCount=0;Wi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",nC);else if(typeof addEventListener=="function"){const t="onpagehide"in ci?"pagehide":"unload";addEventListener(t,nC,!1)}}function nC(){for(let t in Wi.requests)Wi.requests.hasOwnProperty(t)&&Wi.requests[t].abort()}const LI=(function(){const t=nO({xdomain:!1});return t&&t.responseType!==null})();class MI extends OI{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=LI&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Wi(nO,this.uri(),e)}}function nO(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||jI))return new XMLHttpRequest}catch{}if(!e)try{return new ci[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class DI extends ux{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=sO?{}:Jk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;lx(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}i&&Up(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=eO()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Uy=ci.WebSocket||ci.MozWebSocket;class TI extends DI{createSocket(e,n,s){return sO?new Uy(e,n,s):n?new Uy(e,n):new Uy(e)}doWrite(e,n){this.ws.send(n)}}class AI extends ux{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=mI(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),i=pI();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{s.read().then(({done:c,value:f})=>{c||(this.onPacket(f),a())}).catch(c=>{})};a();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;this._writer.write(s).then(()=>{i&&Up(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const RI={websocket:TI,webtransport:AI,polling:MI},PI=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,II=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Yv(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=PI.exec(t||""),a={},l=14;for(;l--;)a[II[l]]=i[l]||"";return n!=-1&&s!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=BI(a,a.path),a.queryKey=UI(a,a.query),a}function BI(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function UI(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,a){i&&(n[i]=a)}),n}const Wv=typeof addEventListener=="function"&&typeof removeEventListener=="function",Mh=[];Wv&&addEventListener("offline",()=>{Mh.forEach(t=>t())},!1);class ma extends Sn{constructor(e,n){if(super(),this.binaryType=yI,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Yv(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Yv(n.host).host);zp(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=CI(this.opts.query)),Wv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Mh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Zk,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ma.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ma.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=wI(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Up(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:e,data:n,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(ma.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Wv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Mh.indexOf(this._offlineEventListener);s!==-1&&Mh.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}ma.protocol=Zk;class zI extends ma{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;ma.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ma.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function a(){s||(s=!0,m(),n.close(),n=null)}const l=g=>{const y=new Error("probe error: "+g);y.transport=n.name,a(),this.emitReserved("upgradeError",y)};function c(){l("transport closed")}function f(){l("socket closed")}function h(g){n&&g.name!==n.name&&a()}const m=()=>{n.removeListener("open",i),n.removeListener("error",l),n.removeListener("close",c),this.off("close",f),this.off("upgrading",h)};n.once("open",i),n.once("error",l),n.once("close",c),this.once("close",f),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let FI=class extends zI{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>RI[i]).filter(i=>!!i)),super(e,s)}};function HI(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Yv(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+e,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const $I=typeof ArrayBuffer=="function",VI=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,iO=Object.prototype.toString,qI=typeof Blob=="function"||typeof Blob<"u"&&iO.call(Blob)==="[object BlobConstructor]",GI=typeof File=="function"||typeof File<"u"&&iO.call(File)==="[object FileConstructor]";function dx(t){return $I&&(t instanceof ArrayBuffer||VI(t))||qI&&t instanceof Blob||GI&&t instanceof File}function Dh(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Dh(t[n]))return!0;return!1}if(dx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Dh(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Dh(t[n]))return!0;return!1}function YI(t){const e=[],n=t.data,s=t;return s.data=Qv(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Qv(t,e){if(!t)return t;if(dx(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Qv(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Qv(t[s],e));return n}return t}function WI(t,e){return t.data=Kv(t.data,e),delete t.attachments,t}function Kv(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Kv(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Kv(t[n],e));return t}const QI=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var gt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(gt||(gt={}));class KI{constructor(e){this.replacer=e}encode(e){return(e.type===gt.EVENT||e.type===gt.ACK)&&Dh(e)?this.encodeAsBinary({type:e.type===gt.EVENT?gt.BINARY_EVENT:gt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===gt.BINARY_EVENT||e.type===gt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=YI(e),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}class fx extends Sn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===gt.BINARY_EVENT;s||n.type===gt.BINARY_ACK?(n.type=s?gt.EVENT:gt.ACK,this.reconstructor=new XI(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(dx(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(gt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===gt.BINARY_EVENT||s.type===gt.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const l=e.substring(a,n);if(l!=Number(l)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(a,n)}else s.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const l=e.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===e.length)break}s.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(fx.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case gt.CONNECT:return sC(n);case gt.DISCONNECT:return n===void 0;case gt.CONNECT_ERROR:return typeof n=="string"||sC(n);case gt.EVENT:case gt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&QI.indexOf(n[0])===-1);case gt.ACK:case gt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class XI{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=WI(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function sC(t){return Object.prototype.toString.call(t)==="[object Object]"}const ZI=Object.freeze(Object.defineProperty({__proto__:null,Decoder:fx,Encoder:KI,get PacketType(){return gt}},Symbol.toStringTag,{value:"Module"}));function _i(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const JI=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class rO extends Sn{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[_i(e,"open",this.onopen.bind(this)),_i(e,"packet",this.onpacket.bind(this)),_i(e,"error",this.onerror.bind(this)),_i(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,i,a;if(JI.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:gt.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,g=n.pop();this._registerAckCallback(m,g),l.id=m}const c=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,f=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(f?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),l=(...c)=>{this.io.clearTimeoutFn(a),n.apply(this,c)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...n){return new Promise((s,i)=>{const a=(l,c)=>l?i(l):s(c);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>(this._queue[0],i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:gt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case gt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gt.EVENT:case gt.BINARY_EVENT:this.onevent(e);break;case gt.ACK:case gt.BINARY_ACK:this.onack(e);break;case gt.DISCONNECT:this.ondisconnect();break;case gt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:gt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function Zl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Zl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Zl.prototype.reset=function(){this.attempts=0};Zl.prototype.setMin=function(t){this.ms=t};Zl.prototype.setMax=function(t){this.max=t};Zl.prototype.setJitter=function(t){this.jitter=t};class Xv extends Sn{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,zp(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Zl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||ZI;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new FI(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=_i(n,"open",function(){s.onopen(),e&&e()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},l=_i(n,"error",a);if(this._timeout!==!1){const c=this._timeout,f=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},c);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(i),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(_i(e,"ping",this.onping.bind(this)),_i(e,"data",this.ondata.bind(this)),_i(e,"error",this.onerror.bind(this)),_i(e,"close",this.onclose.bind(this)),_i(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Up(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new rO(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const eu={};function Th(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=HI(t,e.path||"/socket.io"),s=n.source,i=n.id,a=n.path,l=eu[i]&&a in eu[i].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let f;return c?f=new Xv(s,e):(eu[i]||(eu[i]=new Xv(s,e)),f=eu[i]),n.query&&!e.query&&(e.query=n.queryKey),f.socket(n.path,e)}Object.assign(Th,{Manager:Xv,Socket:rO,io:Th,connect:Th});const aO=_o((t,e)=>({socket:null,isConnected:!1,connect:(n,s)=>{const{socket:i}=e();if(i?.connected)return;if(!$t.getState().accessToken){console.log(" Socket connection aborted: User is not authenticated.");return}console.log(" Initializing Socket Connection...");const l=localStorage.getItem("auth-storage");let c="";l&&(c=JSON.parse(l).state?.user?.token||"");const f=Th("https://restaurantservice-production-300c.up.railway.app",{auth:{token:c},transports:["websocket"],autoConnect:!0});f.on("connect",()=>{console.log(` Connected to WebSocket. ID: ${f.id}`),t({isConnected:!0}),console.log(`joining room: restaurant_${n}`),f.emit("joinRestaurantRoom",n)}),f.on("disconnect",()=>{console.log(" Disconnected from WebSocket"),t({isConnected:!1})}),f.on("newOrder",h=>{console.log(" New Order Received:",h),window.dispatchEvent(new Event("play-order-sound"));const m=`order-${h.id}-${Date.now()}`;Ct.getState().addCustomToast(Re.createElement(oI,{order:h,onClose:()=>Ct.getState().removeToast(m)}),1e4),s&&s(h)}),f.on("orderUpdate",h=>{console.log(" Order Update:",h);let m=`Order #${h.id.slice(0,5)} updated to ${h.status}`;h.status==="ON_WAY"?m=`Driver picked up Order #${h.id.slice(0,5)}`:h.status==="DELIVERED"&&(m=`Order #${h.id.slice(0,5)} has been Delivered!`),Ct.getState().addToast(m,"info"),s&&s(h)}),t({socket:f})},disconnect:()=>{const{socket:n}=e();n&&(n.disconnect(),t({socket:null,isConnected:!1}))}})),$t=_o()(ox(t=>({user:null,accessToken:null,refreshToken:null,accessTokenExp:null,isAuthenticated:!1,setCredentials:(e,n,s)=>{t({user:e,accessToken:n,refreshToken:s,accessTokenExp:Z_(n),isAuthenticated:!0})},updateTokens:(e,n)=>{t({accessToken:e,refreshToken:n,accessTokenExp:Z_(e),isAuthenticated:!0})},logout:()=>{aO.getState().disconnect(),t({user:null,accessToken:null,refreshToken:null,accessTokenExp:null,isAuthenticated:!1}),$t.persist.clearStorage()}}),{name:"auth-storage",storage:Bp(()=>localStorage)})),iC={AUTH_001:"Usuario ya registrado",AUTH_002:"Usuario no encontrado. Verifica tus credenciales.",AUTH_003:"Contrasea incorrecta",AUTH_004:"Token expirado",AUTH_005:"Usuario no encontrado. Verifica tus credenciales.",AUTH_007:"Contrasea incorrecta. Por favor, intntalo de nuevo.",AUTH_009:"El usuario ha sido deshabilitado, contacta con tu administrador",DB_001:"Ya existe un usuario registrado con ese correo electronico o username",CAT_001:"Ya existe una categoria con ese nombre",CAT_002:"Categoria no encontrada"},eB="Ocurri un error inesperado. Intntalo ms tarde.";class Fp extends Error{statusCode;errorCode;validationErrors;constructor(e,n,s,i){super(e),this.statusCode=n,this.errorCode=s,this.validationErrors=i,Error.captureStackTrace&&Error.captureStackTrace(this,Fp)}}const Hn=()=>{const t=Ct(n=>n.addToast);return{handleError:w.useCallback(n=>{let s=eB,i="error";console.log("AppError detected:",JSON.stringify(n)),n instanceof Fp?(n.errorCode&&iC[n.errorCode]?s=iC[n.errorCode]:n.message&&(s=n.message),n.statusCode===400&&(i="warning")):n instanceof Error&&(s=n.message),t(s,i,4e3)},[t])}};function oO(t,e){return function(){return t.apply(e,arguments)}}const{toString:tB}=Object.prototype,{getPrototypeOf:hx}=Object,{iterator:Hp,toStringTag:lO}=Symbol,$p=(t=>e=>{const n=tB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Li=t=>(t=t.toLowerCase(),e=>$p(e)===t),Vp=t=>e=>typeof e===t,{isArray:Jl}=Array,Al=Vp("undefined");function Cd(t){return t!==null&&!Al(t)&&t.constructor!==null&&!Al(t.constructor)&&Ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const cO=Li("ArrayBuffer");function nB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&cO(t.buffer),e}const sB=Vp("string"),Ss=Vp("function"),uO=Vp("number"),Ed=t=>t!==null&&typeof t=="object",iB=t=>t===!0||t===!1,Ah=t=>{if($p(t)!=="object")return!1;const e=hx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lO in t)&&!(Hp in t)},rB=t=>{if(!Ed(t)||Cd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},aB=Li("Date"),oB=Li("File"),lB=Li("Blob"),cB=Li("FileList"),uB=t=>Ed(t)&&Ss(t.pipe),dB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ss(t.append)&&((e=$p(t))==="formdata"||e==="object"&&Ss(t.toString)&&t.toString()==="[object FormData]"))},fB=Li("URLSearchParams"),[hB,pB,mB,gB]=["ReadableStream","Request","Response","Headers"].map(Li),yB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Jl(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(Cd(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(s=0;s<l;s++)c=a[s],e.call(null,t[c],c,t)}}function dO(t,e){if(Cd(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fO=t=>!Al(t)&&t!==lo;function Zv(){const{caseless:t,skipUndefined:e}=fO(this)&&this||{},n={},s=(i,a)=>{const l=t&&dO(n,a)||a;Ah(n[l])&&Ah(i)?n[l]=Zv(n[l],i):Ah(i)?n[l]=Zv({},i):Jl(i)?n[l]=i.slice():(!e||!Al(i))&&(n[l]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Nd(arguments[i],s);return n}const vB=(t,e,n,{allOwnKeys:s}={})=>(Nd(e,(i,a)=>{n&&Ss(i)?t[a]=oO(i,n):t[a]=i},{allOwnKeys:s}),t),bB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xB=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},wB=(t,e,n,s)=>{let i,a,l;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!s||s(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&hx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},SB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},_B=t=>{if(!t)return null;if(Jl(t))return t;let e=t.length;if(!uO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},CB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&hx(Uint8Array)),EB=(t,e)=>{const s=(t&&t[Hp]).call(t);let i;for(;(i=s.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},NB=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},jB=Li("HTMLFormElement"),kB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),rC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OB=Li("RegExp"),hO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Nd(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(s[a]=l||i)}),Object.defineProperties(t,s)},LB=t=>{hO(t,(e,n)=>{if(Ss(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Ss(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MB=(t,e)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return Jl(t)?s(t):s(String(t).split(e)),n},DB=()=>{},TB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function AB(t){return!!(t&&Ss(t.append)&&t[lO]==="FormData"&&t[Hp])}const RB=t=>{const e=new Array(10),n=(s,i)=>{if(Ed(s)){if(e.indexOf(s)>=0)return;if(Cd(s))return s;if(!("toJSON"in s)){e[i]=s;const a=Jl(s)?[]:{};return Nd(s,(l,c)=>{const f=n(l,i+1);!Al(f)&&(a[c]=f)}),e[i]=void 0,a}}return s};return n(t,0)},PB=Li("AsyncFunction"),IB=t=>t&&(Ed(t)||Ss(t))&&Ss(t.then)&&Ss(t.catch),pO=((t,e)=>t?setImmediate:e?((n,s)=>(lo.addEventListener("message",({source:i,data:a})=>{i===lo&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),lo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ss(lo.postMessage)),BB=typeof queueMicrotask<"u"?queueMicrotask.bind(lo):typeof process<"u"&&process.nextTick||pO,UB=t=>t!=null&&Ss(t[Hp]),ne={isArray:Jl,isArrayBuffer:cO,isBuffer:Cd,isFormData:dB,isArrayBufferView:nB,isString:sB,isNumber:uO,isBoolean:iB,isObject:Ed,isPlainObject:Ah,isEmptyObject:rB,isReadableStream:hB,isRequest:pB,isResponse:mB,isHeaders:gB,isUndefined:Al,isDate:aB,isFile:oB,isBlob:lB,isRegExp:OB,isFunction:Ss,isStream:uB,isURLSearchParams:fB,isTypedArray:CB,isFileList:cB,forEach:Nd,merge:Zv,extend:vB,trim:yB,stripBOM:bB,inherits:xB,toFlatObject:wB,kindOf:$p,kindOfTest:Li,endsWith:SB,toArray:_B,forEachEntry:EB,matchAll:NB,isHTMLForm:jB,hasOwnProperty:rC,hasOwnProp:rC,reduceDescriptors:hO,freezeMethods:LB,toObjectSet:MB,toCamelCase:kB,noop:DB,toFiniteNumber:TB,findKey:dO,global:lo,isContextDefined:fO,isSpecCompliantForm:AB,toJSONObject:RB,isAsyncFn:PB,isThenable:IB,setImmediate:pO,asap:BB,isIterable:UB};function et(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}ne.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const mO=et.prototype,gO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gO[t]={value:t}});Object.defineProperties(et,gO);Object.defineProperty(mO,"isAxiosError",{value:!0});et.from=(t,e,n,s,i,a)=>{const l=Object.create(mO);ne.toFlatObject(t,l,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return et.call(l,c,f,n,s,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",a&&Object.assign(l,a),l};const zB=null;function Jv(t){return ne.isPlainObject(t)||ne.isArray(t)}function yO(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function aC(t,e,n){return t?t.concat(e).map(function(i,a){return i=yO(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function FB(t){return ne.isArray(t)&&!t.some(Jv)}const HB=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function qp(t,e,n){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,_){return!ne.isUndefined(_[C])});const s=n.metaTokens,i=n.visitor||m,a=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ne.isDate(b))return b.toISOString();if(ne.isBoolean(b))return b.toString();if(!f&&ne.isBlob(b))throw new et("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(b)||ne.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,C,_){let k=b;if(b&&!_&&typeof b=="object"){if(ne.endsWith(C,"{}"))C=s?C:C.slice(0,-2),b=JSON.stringify(b);else if(ne.isArray(b)&&FB(b)||(ne.isFileList(b)||ne.endsWith(C,"[]"))&&(k=ne.toArray(b)))return C=yO(C),k.forEach(function(L,O){!(ne.isUndefined(L)||L===null)&&e.append(l===!0?aC([C],O,a):l===null?C:C+"[]",h(L))}),!1}return Jv(b)?!0:(e.append(aC(_,C,a),h(b)),!1)}const g=[],y=Object.assign(HB,{defaultVisitor:m,convertValue:h,isVisitable:Jv});function x(b,C){if(!ne.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));g.push(b),ne.forEach(b,function(k,j){(!(ne.isUndefined(k)||k===null)&&i.call(e,k,ne.isString(j)?j.trim():j,C,y))===!0&&x(k,C?C.concat(j):[j])}),g.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return x(t),e}function oC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function px(t,e){this._pairs=[],t&&qp(t,this,e)}const vO=px.prototype;vO.append=function(e,n){this._pairs.push([e,n])};vO.toString=function(e){const n=e?function(s){return e.call(this,s,oC)}:oC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function $B(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bO(t,e,n){if(!e)return t;const s=n&&n.encode||$B;ne.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=ne.isURLSearchParams(e)?e.toString():new px(e,n).toString(s),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class lC{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(s){s!==null&&e(s)})}}const xO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VB=typeof URLSearchParams<"u"?URLSearchParams:px,qB=typeof FormData<"u"?FormData:null,GB=typeof Blob<"u"?Blob:null,YB={isBrowser:!0,classes:{URLSearchParams:VB,FormData:qB,Blob:GB},protocols:["http","https","file","blob","url","data"]},mx=typeof window<"u"&&typeof document<"u",eb=typeof navigator=="object"&&navigator||void 0,WB=mx&&(!eb||["ReactNative","NativeScript","NS"].indexOf(eb.product)<0),QB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KB=mx&&window.location.href||"http://localhost",XB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mx,hasStandardBrowserEnv:WB,hasStandardBrowserWebWorkerEnv:QB,navigator:eb,origin:KB},Symbol.toStringTag,{value:"Module"})),Yn={...XB,...YB};function ZB(t,e){return qp(t,new Yn.classes.URLSearchParams,{visitor:function(n,s,i,a){return Yn.isNode&&ne.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function JB(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function e6(t){const e={},n=Object.keys(t);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],e[a]=t[a];return e}function wO(t){function e(n,s,i,a){let l=n[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),f=a>=n.length;return l=!l&&ne.isArray(i)?i.length:l,f?(ne.hasOwnProp(i,l)?i[l]=[i[l],s]:i[l]=s,!c):((!i[l]||!ne.isObject(i[l]))&&(i[l]=[]),e(n,s,i[l],a)&&ne.isArray(i[l])&&(i[l]=e6(i[l])),!c)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const n={};return ne.forEachEntry(t,(s,i)=>{e(JB(s),i,n,0)}),n}return null}function t6(t,e,n){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const jd={transitional:xO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=ne.isObject(e);if(a&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return i?JSON.stringify(wO(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ZB(e,this.formSerializer).toString();if((c=ne.isFileList(e))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return qp(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),t6(e)):e}],transformResponse:[function(e){const n=this.transitional||jd.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(s&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?et.from(c,et.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yn.classes.FormData,Blob:Yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{jd.headers[t]={}});const n6=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s6=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),s=l.substring(i+1).trim(),!(!n||e[n]&&n6[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},cC=Symbol("internals");function tu(t){return t&&String(t).trim().toLowerCase()}function Rh(t){return t===!1||t==null?t:ne.isArray(t)?t.map(Rh):String(t)}function i6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const r6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zy(t,e,n,s,i){if(ne.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!ne.isString(e)){if(ne.isString(s))return e.indexOf(s)!==-1;if(ne.isRegExp(s))return s.test(e)}}function a6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function o6(t,e){const n=ne.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,a,l){return this[s].call(this,e,i,a,l)},configurable:!0})})}let _s=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function a(c,f,h){const m=tu(f);if(!m)throw new Error("header name must be a non-empty string");const g=ne.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||f]=Rh(c))}const l=(c,f)=>ne.forEach(c,(h,m)=>a(h,m,f));if(ne.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ne.isString(e)&&(e=e.trim())&&!r6(e))l(s6(e),n);else if(ne.isObject(e)&&ne.isIterable(e)){let c={},f,h;for(const m of e){if(!ne.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(f=c[h])?ne.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}l(c,n)}else e!=null&&a(n,e,s);return this}get(e,n){if(e=tu(e),e){const s=ne.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return i6(i);if(ne.isFunction(n))return n.call(this,i,s);if(ne.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=tu(e),e){const s=ne.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||zy(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function a(l){if(l=tu(l),l){const c=ne.findKey(s,l);c&&(!n||zy(s,s[c],c,n))&&(delete s[c],i=!0)}}return ne.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!e||zy(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,s={};return ne.forEach(this,(i,a)=>{const l=ne.findKey(s,a);if(l){n[l]=Rh(i),delete n[a];return}const c=e?a6(a):String(a).trim();c!==a&&delete n[a],n[c]=Rh(i),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ne.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&ne.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[cC]=this[cC]={accessors:{}}).accessors,i=this.prototype;function a(l){const c=tu(l);s[c]||(o6(i,l),s[c]=!0)}return ne.isArray(e)?e.forEach(a):a(e),this}};_s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(_s.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});ne.freezeMethods(_s);function Fy(t,e){const n=this||jd,s=e||n,i=_s.from(s.headers);let a=s.data;return ne.forEach(t,function(c){a=c.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function SO(t){return!!(t&&t.__CANCEL__)}function ec(t,e,n){et.call(this,t??"canceled",et.ERR_CANCELED,e,n),this.name="CanceledError"}ne.inherits(ec,et,{__CANCEL__:!0});function _O(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function l6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function c6(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),m=s[a];l||(l=h),n[i]=f,s[i]=h;let g=a,y=0;for(;g!==i;)y+=n[g++],g=g%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-l<e)return;const x=m&&h-m;return x?Math.round(y*1e3/x):void 0}}function u6(t,e){let n=0,s=1e3/e,i,a;const l=(h,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const m=Date.now(),g=m-n;g>=s?l(h,m):(i=h,a||(a=setTimeout(()=>{a=null,l(i)},s-g)))},()=>i&&l(i)]}const Yh=(t,e,n=3)=>{let s=0;const i=c6(50,250);return u6(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,f=l-s,h=i(f),m=l<=c;s=l;const g={loaded:l,total:c,progress:c?l/c:void 0,bytes:f,rate:h||void 0,estimated:h&&c&&m?(c-l)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(g)},n)},uC=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},dC=t=>(...e)=>ne.asap(()=>t(...e)),d6=Yn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Yn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Yn.origin),Yn.navigator&&/(msie|trident)/i.test(Yn.navigator.userAgent)):()=>!0,f6=Yn.hasStandardBrowserEnv?{write(t,e,n,s,i,a,l){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];ne.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),ne.isString(s)&&c.push(`path=${s}`),ne.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),ne.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function h6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function p6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function CO(t,e,n){let s=!h6(e);return t&&(s||n==!1)?p6(t,e):e}const fC=t=>t instanceof _s?{...t}:t;function vo(t,e){e=e||{};const n={};function s(h,m,g,y){return ne.isPlainObject(h)&&ne.isPlainObject(m)?ne.merge.call({caseless:y},h,m):ne.isPlainObject(m)?ne.merge({},m):ne.isArray(m)?m.slice():m}function i(h,m,g,y){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return s(void 0,h,g,y)}else return s(h,m,g,y)}function a(h,m){if(!ne.isUndefined(m))return s(void 0,m)}function l(h,m){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return s(void 0,h)}else return s(void 0,m)}function c(h,m,g){if(g in e)return s(h,m);if(g in t)return s(void 0,h)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,m,g)=>i(fC(h),fC(m),g,!0)};return ne.forEach(Object.keys({...t,...e}),function(m){const g=f[m]||i,y=g(t[m],e[m],m);ne.isUndefined(y)&&g!==c||(n[m]=y)}),n}const EO=t=>{const e=vo({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:c}=e;if(e.headers=l=_s.from(l),e.url=bO(CO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ne.isFormData(n)){if(Yn.hasStandardBrowserEnv||Yn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ne.isFunction(n.getHeaders)){const f=n.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([m,g])=>{h.includes(m.toLowerCase())&&l.set(m,g)})}}if(Yn.hasStandardBrowserEnv&&(s&&ne.isFunction(s)&&(s=s(e)),s||s!==!1&&d6(e.url))){const f=i&&a&&f6.read(a);f&&l.set(i,f)}return e},m6=typeof XMLHttpRequest<"u",g6=m6&&function(t){return new Promise(function(n,s){const i=EO(t);let a=i.data;const l=_s.from(i.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:h}=i,m,g,y,x,b;function C(){x&&x(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function k(){if(!_)return;const L=_s.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),E={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:L,config:t,request:_};_O(function(T){n(T),C()},function(T){s(T),C()},E),_=null}"onloadend"in _?_.onloadend=k:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(k)},_.onabort=function(){_&&(s(new et("Request aborted",et.ECONNABORTED,t,_)),_=null)},_.onerror=function(O){const E=O&&O.message?O.message:"Network Error",M=new et(E,et.ERR_NETWORK,t,_);M.event=O||null,s(M),_=null},_.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||xO;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),s(new et(O,E.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,t,_)),_=null},a===void 0&&l.setContentType(null),"setRequestHeader"in _&&ne.forEach(l.toJSON(),function(O,E){_.setRequestHeader(E,O)}),ne.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),c&&c!=="json"&&(_.responseType=i.responseType),h&&([y,b]=Yh(h,!0),_.addEventListener("progress",y)),f&&_.upload&&([g,x]=Yh(f),_.upload.addEventListener("progress",g),_.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(m=L=>{_&&(s(!L||L.type?new ec(null,t,_):L),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const j=l6(i.url);if(j&&Yn.protocols.indexOf(j)===-1){s(new et("Unsupported protocol "+j+":",et.ERR_BAD_REQUEST,t));return}_.send(a||null)})},y6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const a=function(h){if(!i){i=!0,c();const m=h instanceof Error?h:this.reason;s.abort(m instanceof et?m:new ec(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,a(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:f}=s;return f.unsubscribe=()=>ne.asap(c),f}},v6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},b6=async function*(t,e){for await(const n of x6(t))yield*v6(n,e)},x6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},hC=(t,e,n,s)=>{const i=b6(t,e);let a=0,l,c=f=>{l||(l=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:h,value:m}=await i.next();if(h){c(),f.close();return}let g=m.byteLength;if(n){let y=a+=g;n(y)}f.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(f){return c(f),i.return()}},{highWaterMark:2})},pC=64*1024,{isFunction:Jf}=ne,w6=(({Request:t,Response:e})=>({Request:t,Response:e}))(ne.global),{ReadableStream:mC,TextEncoder:gC}=ne.global,yC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},S6=t=>{t=ne.merge.call({skipUndefined:!0},w6,t);const{fetch:e,Request:n,Response:s}=t,i=e?Jf(e):typeof fetch=="function",a=Jf(n),l=Jf(s);if(!i)return!1;const c=i&&Jf(mC),f=i&&(typeof gC=="function"?(b=>C=>b.encode(C))(new gC):async b=>new Uint8Array(await new n(b).arrayBuffer())),h=a&&c&&yC(()=>{let b=!1;const C=new n(Yn.origin,{body:new mC,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!C}),m=l&&c&&yC(()=>ne.isReadableStream(new s("").body)),g={stream:m&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!g[b]&&(g[b]=(C,_)=>{let k=C&&C[b];if(k)return k.call(C);throw new et(`Response type '${b}' is not supported`,et.ERR_NOT_SUPPORT,_)})});const y=async b=>{if(b==null)return 0;if(ne.isBlob(b))return b.size;if(ne.isSpecCompliantForm(b))return(await new n(Yn.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(b)||ne.isArrayBuffer(b))return b.byteLength;if(ne.isURLSearchParams(b)&&(b=b+""),ne.isString(b))return(await f(b)).byteLength},x=async(b,C)=>{const _=ne.toFiniteNumber(b.getContentLength());return _??y(C)};return async b=>{let{url:C,method:_,data:k,signal:j,cancelToken:L,timeout:O,onDownloadProgress:E,onUploadProgress:M,responseType:T,headers:I,withCredentials:P="same-origin",fetchOptions:z}=EO(b),G=e||fetch;T=T?(T+"").toLowerCase():"text";let q=y6([j,L&&L.toAbortSignal()],O),K=null;const re=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let ce;try{if(M&&h&&_!=="get"&&_!=="head"&&(ce=await x(I,k))!==0){let A=new n(C,{method:"POST",body:k,duplex:"half"}),R;if(ne.isFormData(k)&&(R=A.headers.get("content-type"))&&I.setContentType(R),A.body){const[V,ee]=uC(ce,Yh(dC(M)));k=hC(A.body,pC,V,ee)}}ne.isString(P)||(P=P?"include":"omit");const B=a&&"credentials"in n.prototype,Q={...z,signal:q,method:_.toUpperCase(),headers:I.normalize().toJSON(),body:k,duplex:"half",credentials:B?P:void 0};K=a&&new n(C,Q);let se=await(a?G(K,z):G(C,Q));const oe=m&&(T==="stream"||T==="response");if(m&&(E||oe&&re)){const A={};["status","statusText","headers"].forEach(Y=>{A[Y]=se[Y]});const R=ne.toFiniteNumber(se.headers.get("content-length")),[V,ee]=E&&uC(R,Yh(dC(E),!0))||[];se=new s(hC(se.body,pC,V,()=>{ee&&ee(),re&&re()}),A)}T=T||"text";let pe=await g[ne.findKey(g,T)||"text"](se,b);return!oe&&re&&re(),await new Promise((A,R)=>{_O(A,R,{data:pe,headers:_s.from(se.headers),status:se.status,statusText:se.statusText,config:b,request:K})})}catch(B){throw re&&re(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,b,K),{cause:B.cause||B}):et.from(B,B&&B.code,b,K)}}},_6=new Map,NO=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:i}=e,a=[s,i,n];let l=a.length,c=l,f,h,m=_6;for(;c--;)f=a[c],h=m.get(f),h===void 0&&m.set(f,h=c?new Map:S6(e)),m=h;return h};NO();const gx={http:zB,xhr:g6,fetch:{get:NO}};ne.forEach(gx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vC=t=>`- ${t}`,C6=t=>ne.isFunction(t)||t===null||t===!1;function E6(t,e){t=ne.isArray(t)?t:[t];const{length:n}=t;let s,i;const a={};for(let l=0;l<n;l++){s=t[l];let c;if(i=s,!C6(s)&&(i=gx[(c=String(s)).toLowerCase()],i===void 0))throw new et(`Unknown adapter '${c}'`);if(i&&(ne.isFunction(i)||(i=i.get(e))))break;a[c||"#"+l]=i}if(!i){const l=Object.entries(a).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(vC).join(`
`):" "+vC(l[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const jO={getAdapter:E6,adapters:gx};function Hy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ec(null,t)}function bC(t){return Hy(t),t.headers=_s.from(t.headers),t.data=Fy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jO.getAdapter(t.adapter||jd.adapter,t)(t).then(function(s){return Hy(t),s.data=Fy.call(t,t.transformResponse,s),s.headers=_s.from(s.headers),s},function(s){return SO(s)||(Hy(t),s&&s.response&&(s.response.data=Fy.call(t,t.transformResponse,s.response),s.response.headers=_s.from(s.response.headers))),Promise.reject(s)})}const kO="1.13.2",Gp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gp[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const xC={};Gp.transitional=function(e,n,s){function i(a,l){return"[Axios v"+kO+"] Transitional option '"+a+"'"+l+(s?". "+s:"")}return(a,l,c)=>{if(e===!1)throw new et(i(l," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!xC[l]&&(xC[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,c):!0}};Gp.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function N6(t,e,n){if(typeof t!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const a=s[i],l=e[a];if(l){const c=t[a],f=c===void 0||l(c,a,t);if(f!==!0)throw new et("option "+a+" must be "+f,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+a,et.ERR_BAD_OPTION)}}const Ph={assertOptions:N6,validators:Gp},Pi=Ph.validators;let ho=class{constructor(e){this.defaults=e||{},this.interceptors={request:new lC,response:new lC}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vo(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&Ph.assertOptions(s,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(ne.isFunction(i)?n.paramsSerializer={serialize:i}:Ph.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ph.assertOptions(n,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&ne.merge(a.common,a[n.method]);a&&ne.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=_s.concat(l,a);const c=[];let f=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(f=f&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let m,g=0,y;if(!f){const b=[bC.bind(this),void 0];for(b.unshift(...c),b.push(...h),y=b.length,m=Promise.resolve(n);g<y;)m=m.then(b[g++],b[g++]);return m}y=c.length;let x=n;for(;g<y;){const b=c[g++],C=c[g++];try{x=b(x)}catch(_){C.call(this,_);break}}try{m=bC.call(this,x)}catch(b){return Promise.reject(b)}for(g=0,y=h.length;g<y;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=vo(this.defaults,e);const n=CO(e.baseURL,e.url,e.allowAbsoluteUrls);return bO(n,e.params,e.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(e){ho.prototype[e]=function(n,s){return this.request(vo(s||{},{method:e,url:n,data:(s||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function n(s){return function(a,l,c){return this.request(vo(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}ho.prototype[e]=n(),ho.prototype[e+"Form"]=n(!0)});let j6=class OO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(c=>{s.subscribe(c),a=c}).then(i);return l.cancel=function(){s.unsubscribe(a)},l},e(function(a,l,c){s.reason||(s.reason=new ec(a,l,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new OO(function(i){e=i}),cancel:e}}};function k6(t){return function(n){return t.apply(null,n)}}function O6(t){return ne.isObject(t)&&t.isAxiosError===!0}const tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tb).forEach(([t,e])=>{tb[e]=t});function LO(t){const e=new ho(t),n=oO(ho.prototype.request,e);return ne.extend(n,ho.prototype,e,{allOwnKeys:!0}),ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return LO(vo(t,i))},n}const rn=LO(jd);rn.Axios=ho;rn.CanceledError=ec;rn.CancelToken=j6;rn.isCancel=SO;rn.VERSION=kO;rn.toFormData=qp;rn.AxiosError=et;rn.Cancel=rn.CanceledError;rn.all=function(e){return Promise.all(e)};rn.spread=k6;rn.isAxiosError=O6;rn.mergeConfig=vo;rn.AxiosHeaders=_s;rn.formToJSON=t=>wO(ne.isHTMLForm(t)?new FormData(t):t);rn.getAdapter=jO.getAdapter;rn.HttpStatusCode=tb;rn.default=rn;const{Axios:oJ,AxiosError:lJ,CanceledError:cJ,isCancel:uJ,CancelToken:dJ,VERSION:fJ,all:hJ,Cancel:pJ,isAxiosError:mJ,spread:gJ,toFormData:yJ,AxiosHeaders:vJ,HttpStatusCode:bJ,formToJSON:xJ,getAdapter:wJ,mergeConfig:SJ}=rn;let $y=!1,nb=[];const wC=(t,e=null)=>{nb.forEach(n=>{t?n.reject(t):n.resolve(e)}),nb=[]},MO=async()=>{if($y)return new Promise((t,e)=>{nb.push({resolve:t,reject:e})});$y=!0;try{const{refreshToken:t}=$t.getState();if(!t)throw new Error("No refresh token available");const e=await rn.post("https://restaurantservice-production-300c.up.railway.app/auth/refresh",null,{headers:{Authorization:`Bearer ${t}`}}),{accessToken:n,refreshToken:s}=e?.data?.data;return $t.getState().updateTokens(n,s),wC(null,n),n}catch(t){throw console.log("Error refreshing token before",t),wC(t,null),$t.getState().logout(),t}finally{$y=!1}},Le=rn.create({baseURL:"https://restaurantservice-production-300c.up.railway.app",headers:{"Content-Type":"application/json"},timeout:1e5});Le.interceptors.request.use(async t=>{const{accessToken:e,refreshToken:n}=$t.getState();if(!e||!n)return t;if(aI()){const s=await MO();return t.headers.Authorization=`Bearer ${s}`,t}return t.headers.Authorization=`Bearer ${e}`,t},Promise.reject);Le.interceptors.response.use(t=>t.data,async t=>{const e=t.config;if(t.response?.status===401&&!e?._retry){e._retry=!0;try{const l=await MO();return e.headers.Authorization=`Bearer ${l}`,Le(e)}catch{return console.log("Error in catch"),Promise.reject(t)}}let n="Ocurri un error inesperado",s=500,i,a=[];if(t.response){const l=t.response.data;s=l.statusCode||t.response.status,i=l.errorCode,Array.isArray(l.message)?(n=l.message[0],a=l.message):n=l.message||t.message}else t.request&&(n="No hay conexin con el servidor.",s=0);return Promise.reject(new Fp(n,s,i,a))});const DO={async login(t){return(await Le.post("/auth/login-dashboard",t)).data},async logout(){return(await Le.post("/auth/logout")).data}},Tt=_o()(ox(t=>({activeRestaurant:null,setActiveRestaurant:e=>t({activeRestaurant:e})}),{name:"app-context-storage",storage:Bp(()=>localStorage)})),TO={ADMIN:1,RESTAURANT_ADMIN:2},L6=t=>t?t.firstName+" "+t.lastName||t.username||t.email||"Usuario":"",Vs=t=>t?.role.id===TO.ADMIN,SC=t=>t?.role.id===TO.RESTAURANT_ADMIN,M6=()=>{const t=$t(l=>l.setCredentials),{setActiveRestaurant:e}=Tt(l=>l),{handleError:n}=Hn(),s=Cs(),{addToast:i}=Ct(),a=tt({mutationFn:DO.login,onSuccess:l=>{const{user:c}=l,f=Vs(c),h=!!c.restaurant;if(!f&&!h){i("Tu usuario no tiene un restaurante asignado. Contacta a tu administrador.","error");return}t(c,l.access_token,l.refresh_token),e(h?c.restaurant:null),s("/")},onError:l=>{n(l)}});return{login:a.mutate,isLoading:a.isPending,error:a.error}},yx=({label:t,icon:e,className:n="",...s})=>{const[i,a]=w.useState(!1),l=()=>{a(!i)};return d.jsxs("div",{className:`w-full text-left space-y-1.5 ${n}`,children:[t&&d.jsx(H.Label,{children:t}),d.jsxs("div",{className:"relative",children:[e&&d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-text-muted",children:e}),d.jsx("input",{...s,type:i?"text":"password",className:`
            w-full py-3 border rounded-full font-medium transition-colors
            
            /* Light Mode */
            bg-white border-gray-200 text-gray-900 placeholder-gray-400
            
            /* Dark Mode */
            dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:placeholder-gray-500
            
            /* Focus */
            focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary
            
            /* Spacing: Left for icon, Right for Eye button */
            ${e?"pl-11":"pl-4"} pr-12
          `}),d.jsx("button",{type:"button",onClick:l,className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors focus:outline-none",tabIndex:-1,children:i?d.jsx(rP,{className:"h-5 w-5"}):d.jsx(oP,{className:"h-5 w-5"})})]})]})},We=t=>typeof t=="string",nu=()=>{let t,e;const n=new Promise((s,i)=>{t=s,e=i});return n.resolve=t,n.reject=e,n},_C=t=>t==null?"":""+t,D6=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},T6=/###/g,CC=t=>t&&t.indexOf("###")>-1?t.replace(T6,"."):t,EC=t=>!t||We(t),Pu=(t,e,n)=>{const s=We(e)?e.split("."):e;let i=0;for(;i<s.length-1;){if(EC(t))return{};const a=CC(s[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return EC(t)?{}:{obj:t,k:CC(s[i])}},NC=(t,e,n)=>{const{obj:s,k:i}=Pu(t,e,Object);if(s!==void 0||e.length===1){s[i]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=Pu(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=Pu(t,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},A6=(t,e,n,s)=>{const{obj:i,k:a}=Pu(t,e,Object);i[a]=i[a]||[],i[a].push(n)},Wh=(t,e)=>{const{obj:n,k:s}=Pu(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},R6=(t,e,n)=>{const s=Wh(t,n);return s!==void 0?s:Wh(e,n)},AO=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?We(t[s])||t[s]instanceof String||We(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):AO(t[s],e[s],n):t[s]=e[s]);return t},fl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var P6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const I6=t=>We(t)?t.replace(/[&<>"'\/]/g,e=>P6[e]):t;class B6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const U6=[" ",",","?","!",";"],z6=new B6(20),F6=(t,e,n)=>{e=e||"",n=n||"";const s=U6.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(s.length===0)return!0;const i=z6.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(t);if(!a){const l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a},sb=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(n);let i=t;for(let a=0;a<s.length;){if(!i||typeof i!="object")return;let l,c="";for(let f=a;f<s.length;++f)if(f!==a&&(c+=n),c+=s[f],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<s.length-1)continue;a+=f-a+1;break}i=l}return i},td=t=>t?.replace("_","-"),H6={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Qh{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||H6,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,i){return i&&!this.debug?null:(We(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Qh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qh(this.logger,e)}}var Gi=new Qh;class Yp{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const i=this.observers[s].get(n)||0;this.observers[s].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...n])})}}class jC extends Yp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],s&&(Array.isArray(s)?c.push(...s):We(s)&&a?c.push(...s.split(a)):c.push(s)));const f=Wh(this.data,c);return!f&&!n&&!s&&e.indexOf(".")>-1&&(e=c[0],n=c[1],s=c.slice(2).join(".")),f||!l||!We(s)?f:sb(this.data?.[e]?.[n],s,a)}addResource(e,n,s,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,n];s&&(c=c.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(c=e.split("."),i=n,n=c[1]),this.addNamespaces(n),NC(this.data,c,i),a.silent||this.emit("added",e,n,s,i)}addResources(e,n,s,i={silent:!1}){for(const a in s)(We(s[a])||Array.isArray(s[a]))&&this.addResource(e,n,a,s[a],{silent:!0});i.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,i,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),i=s,s=n,n=c[1]),this.addNamespaces(n);let f=Wh(this.data,c)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),i?AO(f,s,a):f={...f,...s},NC(this.data,c,f),l.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var RO={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,i){return t.forEach(a=>{e=this.processors[a]?.process(e,n,s,i)??e}),e}};const PO=Symbol("i18next/PATH_KEY");function $6(){const t=[],e=Object.create(null);let n;return e.get=(s,i)=>(n?.revoke?.(),i===PO?t:(t.push(i),n=Proxy.revocable(s,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function ib(t,e){const{[PO]:n}=t($6());return n.join(e?.keySeparator??".")}const kC={},Vy=t=>!We(t)&&typeof t!="boolean"&&typeof t!="number";class Kh extends Yp{constructor(e,n={}){super(),D6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Gi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const i=this.resolve(e,s);if(i?.res===void 0)return!1;const a=Vy(i.res);return!(s.returnObjects===!1&&a)}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!F6(e,s,i);if(l&&!c){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:We(a)?[a]:a};const h=e.split(s);(s!==i||s===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:We(a)?[a]:a}}translate(e,n,s){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=ib(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:f}=this.extractFromKey(e[e.length-1],i),h=f[f.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const g=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?a?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:c;const x=this.resolve(e,i);let b=x?.res;const C=x?.usedKey||c,_=x?.exactUsedKey||c,k=["[object Number]","[object Function]","[object RegExp]"],j=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,O=i.count!==void 0&&!We(i.count),E=Kh.hasDefaultValue(i),M=O?this.pluralResolver.getSuffix(g,i.count,i):"",T=i.ordinal&&O?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",I=O&&!i.ordinal&&i.count===0,P=I&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${M}`]||i[`defaultValue${T}`]||i.defaultValue;let z=b;L&&!b&&E&&(z=P);const G=Vy(z),q=Object.prototype.toString.apply(z);if(L&&z&&G&&k.indexOf(q)<0&&!(We(j)&&Array.isArray(z))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const K=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,z,{...i,ns:f}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(x.res=K,x.usedParams=this.getUsedParamsDetails(i),x):K}if(l){const K=Array.isArray(z),re=K?[]:{},ce=K?_:C;for(const B in z)if(Object.prototype.hasOwnProperty.call(z,B)){const Q=`${ce}${l}${B}`;E&&!b?re[B]=this.translate(Q,{...i,defaultValue:Vy(P)?P[B]:void 0,joinArrays:!1,ns:f}):re[B]=this.translate(Q,{...i,joinArrays:!1,ns:f}),re[B]===Q&&(re[B]=z[B])}b=re}}else if(L&&We(j)&&Array.isArray(b))b=b.join(j),b&&(b=this.extendTranslation(b,e,i,s));else{let K=!1,re=!1;!this.isValidLookup(b)&&E&&(K=!0,b=P),this.isValidLookup(b)||(re=!0,b=c);const B=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&re?void 0:b,Q=E&&P!==b&&this.options.updateMissing;if(re||K||Q){if(this.logger.log(Q?"updateKey":"missingKey",g,h,c,Q?P:b),l){const A=this.resolve(c,{...i,keySeparator:!1});A&&A.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let se=[];const oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&oe&&oe[0])for(let A=0;A<oe.length;A++)se.push(oe[A]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(i.lng||this.language):se.push(i.lng||this.language);const pe=(A,R,V)=>{const ee=E&&V!==b?V:B;this.options.missingKeyHandler?this.options.missingKeyHandler(A,h,R,ee,Q,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(A,h,R,ee,Q,i),this.emit("missingKey",A,h,R,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?se.forEach(A=>{const R=this.pluralResolver.getSuffixes(A,i);I&&i[`defaultValue${this.options.pluralSeparator}zero`]&&R.indexOf(`${this.options.pluralSeparator}zero`)<0&&R.push(`${this.options.pluralSeparator}zero`),R.forEach(V=>{pe([A],c+V,i[`defaultValue${V}`]||P)})}):pe(se,c,P))}b=this.extendTranslation(b,e,i,x,s),re&&b===c&&this.options.appendNamespaceToMissingKey&&(b=`${h}${m}${c}`),(re||K)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,K?b:void 0,i))}return a?(x.res=b,x.usedParams=this.getUsedParamsDetails(i),x):b}extendTranslation(e,n,s,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const f=We(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let m=s.replace&&!We(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,s.lng||this.language||i.usedLng,s),f){const g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;h<y&&(s.nest=!1)}!s.lng&&i&&i.res&&(s.lng=this.language||i.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>a?.[0]===g[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,c=We(l)?[l]:l;return e!=null&&c?.length&&s.applyPostProcessor!==!1&&(e=RO.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,i,a,l,c;return We(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(f,n),m=h.key;i=m;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const y=n.count!==void 0&&!We(n.count),x=y&&!n.ordinal&&n.count===0,b=n.context!==void 0&&(We(n.context)||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(_=>{this.isValidLookup(s)||(c=_,!kC[`${C[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(kC[`${C[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${C.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(k=>{if(this.isValidLookup(s))return;l=k;const j=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(j,m,k,_,n);else{let O;y&&(O=this.pluralResolver.getSuffix(k,n.count,n));const E=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&O.indexOf(M)===0&&j.push(m+O.replace(M,this.options.pluralSeparator)),j.push(m+O),x&&j.push(m+E)),b){const T=`${m}${this.options.contextSeparator||"_"}${n.context}`;j.push(T),y&&(n.ordinal&&O.indexOf(M)===0&&j.push(T+O.replace(M,this.options.pluralSeparator)),j.push(T+O),x&&j.push(T+E))}}let L;for(;L=j.pop();)this.isValidLookup(s)||(a=L,s=this.getResource(k,_,L,n))}))})}),{res:s,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,s,i):this.resourceStore.getResource(e,n,s,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!We(e.replace);let i=s?e.replace:e;if(s&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!s){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class OC{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gi.create("languageUtils")}getScriptPartFromCode(e){if(e=td(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=td(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(We(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const i=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const i=this.getScriptPartFromCode(s);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),We(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return We(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):We(e)&&a(this.formatLanguageCode(e)),s.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const LC={zero:0,one:1,two:2,few:3,many:4,other:5},MC={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class V6{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Gi.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=td(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(s,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),MC;if(!e.match(/-|_/))return MC;const f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((i,a)=>LC[i]-LC[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,s={}){const i=this.getRule(e,s);return i?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const DC=(t,e,n,s=".",i=!0)=>{let a=R6(t,e,n);return!a&&i&&We(n)&&(a=sb(t,n,s),a===void 0&&(a=sb(e,n,s))),a},qy=t=>t.replace(/\$/g,"$$$$");class TC{constructor(e={}){this.logger=Gi.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:f,formatSeparator:h,unescapeSuffix:m,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:x,nestingSuffix:b,nestingSuffixEscaped:C,nestingOptionsSeparator:_,maxReplaces:k,alwaysFormat:j}=e.interpolation;this.escape=n!==void 0?n:I6,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?fl(a):l||"{{",this.suffix=c?fl(c):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=y?fl(y):x||fl("$t("),this.nestingSuffix=b?fl(b):C||fl(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=k||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,i){let a,l,c;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=x=>{if(x.indexOf(this.formatSeparator)<0){const k=DC(n,f,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,s,{...i,...n,interpolationkey:x}):k}const b=x.split(this.formatSeparator),C=b.shift().trim(),_=b.join(this.formatSeparator).trim();return this.format(DC(n,f,C,this.options.keySeparator,this.options.ignoreJSONStructure),_,s,{...i,...n,interpolationkey:C})};this.resetRegExp();const m=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>qy(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?qy(this.escape(x)):qy(x)}].forEach(x=>{for(c=0;a=x.regex.exec(e);){const b=a[1].trim();if(l=h(b),l===void 0)if(typeof m=="function"){const _=m(e,a,i);l=We(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,b))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),l="";else!We(l)&&!this.useRawValueToEscape&&(l=_C(l));const C=x.safeValue(l);if(e=e.replace(a[0],C),g?(x.regex.lastIndex+=l.length,x.regex.lastIndex-=a[0].length):x.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,s={}){let i,a,l;const c=(f,h)=>{const m=this.nestingOptionsSeparator;if(f.indexOf(m)<0)return f;const g=f.split(new RegExp(`${m}[ ]*{`));let y=`{${g[1]}`;f=g[0],y=this.interpolate(y,l);const x=y.match(/'/g),b=y.match(/"/g);((x?.length??0)%2===0&&!b||b.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,C),`${f}${m}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;i=this.nestingRegexp.exec(e);){let f=[];l={...s},l=l.replace&&!We(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(f=i[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=n(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!We(a))return a;We(a)||(a=_C(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),f.length&&(a=f.reduce((m,g)=>this.format(m,g,s.lng,{...s,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const q6=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...f]=l.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},AC=t=>{const e={};return(n,s,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=s+JSON.stringify(a);let c=e[l];return c||(c=t(td(s),i),e[l]=c),c(n)}},G6=t=>(e,n,s)=>t(td(n),s)(e);class Y6{constructor(e={}){this.logger=Gi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?AC:G6;this.formats={number:s((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:s((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:s((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:s((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:s((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=AC(n)}format(e,n,s,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,f)=>{const{formatName:h,formatOptions:m}=q6(f);if(this.formats[h]){let g=c;try{const y=i?.formatParams?.[i.interpolationkey]||{},x=y.locale||y.lng||i.locale||i.lng||s;g=this.formats[h](c,x,{...m,...i,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${h}`);return c},e)}}const W6=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Q6 extends Yp{constructor(e,n,s,i={}){super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=i,this.logger=Gi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,i.backend,i)}queueLoad(e,n,s,i){const a={},l={},c={},f={};return e.forEach(h=>{let m=!0;n.forEach(g=>{const y=`${h}|${g}`;!s.reload&&this.store.hasResourceBundle(h,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,m=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),f[g]===void 0&&(f[g]=!0)))}),m||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(f)}}loaded(e,n,s){const i=e.split("|"),a=i[0],l=i[1];n&&this.emit("failedLoading",a,l,n),!n&&s&&this.store.addResourceBundle(a,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const c={};this.queue.forEach(f=>{A6(f.loaded,[a],l),W6(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{c[h]||(c[h]={});const m=f.loaded[h];m.length&&m.forEach(g=>{c[h][g]===void 0&&(c[h][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(f=>!f.done)}read(e,n,s,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,i+1,a*2,l)},a);return}l(h,m)},f=this.backend[s].bind(this.backend);if(f.length===2){try{const h=f(e,n);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return f(e,n,c)}prepareLoading(e,n,s={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();We(e)&&(e=this.languageUtils.toResolveHierarchy(e)),We(n)&&(n=[n]);const a=this.queueLoad(e,n,s,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),i=s[0],a=s[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,n,s,i,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const f={...l,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(e,n,s,i,f):m=h(e,n,s,i),m&&typeof m.then=="function"?m.then(g=>c(null,g)).catch(c):c(null,m)}catch(m){c(m)}else h(e,n,s,i,c,f)}!e||!e[0]||this.store.addResource(e[0],n,s,i)}}}const Gy=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),We(t[1])&&(e.defaultValue=t[1]),We(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),RC=t=>(We(t.ns)&&(t.ns=[t.ns]),We(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),We(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),eh=()=>{},K6=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Iu extends Yp{constructor(e={},n){if(super(),this.options=RC(e),this.services={},this.logger=Gi,this.modules={external:[]},K6(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(We(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Gy();this.options={...s,...this.options,...RC(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Gi.init(i(this.modules.logger),this.options):Gi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Y6;const m=new OC(this.options);this.store=new jC(this.options.resources,this.options);const g=this.services;g.logger=Gi,g.resourceStore=this.store,g.languageUtils=m,g.pluralResolver=new V6(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=i(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new TC(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Q6(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Kh(this.services,this.options),this.translator.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=eh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=nu(),f=()=>{const h=(m,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(m,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),c}loadResources(e,n=eh){let s=n;const i=We(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(c)})}else s(null)}reloadResources(e,n,s){const i=nu();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=eh),this.services.backendConnector.reload(e,n,a=>{i.resolve(),s(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&RO.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=nu();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,f)=>{f?this.isLanguageChangingTo===e&&(i(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,s.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const f=We(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(We(c)?[c]:c);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{a(m,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,s){const i=(a,l,...c)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(c)):f={...l},f.lng=f.lng||i.lng,f.lngs=f.lngs||i.lngs,f.ns=f.ns||i.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||s||i.keyPrefix);const h=this.options.keySeparator||".";let m;return f.keyPrefix&&Array.isArray(a)?m=a.map(g=>(typeof g=="function"&&(g=ib(g,{...this.options,...l})),`${f.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=ib(a,{...this.options,...l})),m=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a),this.t(m,f)};return We(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=s,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(c,f)=>{const h=this.services.backendConnector.state[`${c}|${f}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!i||l(a,e)))}loadNamespaces(e,n){const s=nu();return this.options.ns?(We(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{s.resolve(),n&&n(i)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=nu();We(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{s.resolve(),n&&n(l)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new OC(Gy());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const s=new Iu(e,n);return s.createInstance=Iu.createInstance,s}cloneInstance(e={},n=eh){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Iu(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const c=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((m,g)=>(m[g]={...f[h][g]},m),f[h]),f),{});a.store=new jC(c,i),a.services.resourceStore=a.store}if(e.interpolation){const f={...Gy().interpolation,...this.options.interpolation,...e.interpolation},h={...i,interpolation:f};a.services.interpolator=new TC(h)}return a.translator=new Kh(a.services,i),a.translator.on("*",(c,...f)=>{a.emit(c,...f)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const os=Iu.createInstance();os.createInstance;os.dir;os.init;os.loadResources;os.reloadResources;os.use;os.changeLanguage;os.getFixedT;os.t;os.exists;os.setDefaultNamespace;os.hasLoadedNamespace;os.loadNamespaces;os.loadLanguages;const X6=(t,e,n,s)=>{const i=[n,{code:e,...s||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);bo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},PC={},IO=(t,e,n,s)=>{bo(n)&&PC[n]||(bo(n)&&(PC[n]=new Date),X6(t,e,n,s))},BO=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},rb=(t,e,n)=>{t.loadNamespaces(e,BO(t,n))},IC=(t,e,n,s)=>{if(bo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return rb(t,n,s);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,BO(t,s))},Z6=(t,e,n={})=>!e.languages||!e.languages.length?(IO(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}),bo=t=>typeof t=="string",J6=t=>typeof t=="object"&&t!==null,eU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,tU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},nU=t=>tU[t],sU=t=>t.replace(eU,nU);let ab={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:sU,transDefaultProps:void 0};const iU=(t={})=>{ab={...ab,...t}},rU=()=>ab;let UO;const aU=t=>{UO=t},oU=()=>UO,lU={type:"3rdParty",init(t){iU(t.options.react),aU(t)}},cU=w.createContext();class uU{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Yy={exports:{}},Wy={};var BC;function dU(){if(BC)return Wy;BC=1;var t=vd();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(g,y){var x=y(),b=s({inst:{value:x,getSnapshot:y}}),C=b[0].inst,_=b[1];return a(function(){C.value=x,C.getSnapshot=y,f(C)&&_({inst:C})},[g,x,y]),i(function(){return f(C)&&_({inst:C}),g(function(){f(C)&&_({inst:C})})},[g]),l(x),x}function f(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!n(g,x)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Wy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Wy}var UC;function fU(){return UC||(UC=1,Yy.exports=dU()),Yy.exports}var hU=fU();const pU=(t,e)=>bo(e)?e:J6(e)&&bo(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,mU={t:pU,ready:!1},gU=()=>()=>{},Ve=(t,e={})=>{const{i18n:n}=e,{i18n:s,defaultNS:i}=w.useContext(cU)||{},a=n||s||oU();a&&!a.reportNamespaces&&(a.reportNamespaces=new uU),a||IO(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=w.useMemo(()=>({...rU(),...a?.options?.react,...e}),[a,e]),{useSuspense:c,keyPrefix:f}=l,h=i||a?.options?.defaultNS,m=bo(h)?[h]:h||["translation"],g=w.useMemo(()=>m,m);a?.reportNamespaces?.addUsedNamespaces?.(g);const y=w.useRef(0),x=w.useCallback(P=>{if(!a)return gU;const{bindI18n:z,bindI18nStore:G}=l,q=()=>{y.current+=1,P()};return z&&a.on(z,q),G&&a.store.on(G,q),()=>{z&&z.split(" ").forEach(K=>a.off(K,q)),G&&G.split(" ").forEach(K=>a.store.off(K,q))}},[a,l]),b=w.useRef(),C=w.useCallback(()=>{if(!a)return mU;const P=!!(a.isInitialized||a.initializedStoreOnce)&&g.every(ce=>Z6(ce,a,l)),z=e.lng||a.language,G=y.current,q=b.current;if(q&&q.ready===P&&q.lng===z&&q.keyPrefix===f&&q.revision===G)return q;const re={t:a.getFixedT(z,l.nsMode==="fallback"?g:g[0],f),ready:P,lng:z,keyPrefix:f,revision:G};return b.current=re,re},[a,g,f,l,e.lng]),[_,k]=w.useState(0),{t:j,ready:L}=hU.useSyncExternalStore(x,C,C);w.useEffect(()=>{if(a&&!L&&!c){const P=()=>k(z=>z+1);e.lng?IC(a,e.lng,g,P):rb(a,g,P)}},[a,e.lng,g,L,c,_]);const O=a||{},E=w.useRef(null),M=w.useRef(),T=P=>{const z=Object.getOwnPropertyDescriptors(P);z.__original&&delete z.__original;const G=Object.create(Object.getPrototypeOf(P),z);if(!Object.prototype.hasOwnProperty.call(G,"__original"))try{Object.defineProperty(G,"__original",{value:P,writable:!1,enumerable:!1,configurable:!1})}catch{}return G},I=w.useMemo(()=>{const P=O,z=P?.language;let G=P;P&&(E.current&&E.current.__original===P?M.current!==z?(G=T(P),E.current=G,M.current=z):G=E.current:(G=T(P),E.current=G,M.current=z));const q=[j,G,L];return q.t=j,q.i18n=G,q.ready=L,q},[j,O,L,O.resolvedLanguage,O.language,O.languages]);if(a&&c&&!L)throw new Promise(P=>{const z=()=>P();e.lng?IC(a,e.lng,g,z):rb(a,g,z)});return I},yU=()=>{const{i18n:t}=Ve(),e=()=>{const s=t.language==="en"?"es":"en";t.changeLanguage(s)};return d.jsxs(Fe,{variant:"ghost",onClick:e,children:[d.jsx(Hh,{className:"w-4 h-4 mr-2"}),t.language==="en"?"ES":"EN"]})};var vU="2.0.9",bU=500,zC="user-agent",Rl="",FC="?",un={FUNCTION:"function",OBJECT:"object",STRING:"string",UNDEFINED:"undefined"},ws="browser",Nr="cpu",Qi="device",Ni="engine",Bs="os",Pl="result",ye="name",fe="type",we="vendor",xe="version",ts="architecture",nd="major",ge="model",Ih="console",Xe="mobile",It="tablet",bn="smarttv",Bi="wearable",th="xr",Mu="embedded",xU="fetcher",hl="inapp",vx="brands",io="formFactors",bx="fullVersionList",Il="platform",xx="platformVersion",Wp="bitness",Na="sec-ch-ua",wU=Na+"-full-version-list",SU=Na+"-arch",_U=Na+"-"+Wp,CU=Na+"-form-factors",EU=Na+"-"+Xe,NU=Na+"-"+ge,zO=Na+"-"+Il,jU=zO+"-version",FO=[vx,bx,Xe,ge,Il,xx,ts,io,Wp],nh="Amazon",pl="Apple",HC="ASUS",$C="BlackBerry",Wa="Google",VC="Huawei",Qy="Lenovo",qC="Honor",sh="LG",Ky="Microsoft",Xy="Motorola",GC="Nvidia",YC="OnePlus",Zy="OPPO",su="Samsung",WC="Sharp",iu="Sony",Jy="Xiaomi",ev="Zebra",QC="Chrome",KC="Chromium",ia="Chromecast",Bh="Edge",ru="Firefox",ml="Opera",tv="Facebook",XC="Sogou",gl="Mobile ",yl=" Browser",ob="Windows",kU=typeof window!==un.UNDEFINED,vs=kU&&window.navigator?window.navigator:void 0,ro=vs&&vs.userAgentData?vs.userAgentData:void 0,OU=function(t,e){var n={},s=e;if(!Xh(e)){s={};for(var i in e)for(var a in e[i])s[a]=e[i][a].concat(s[a]?s[a]:[])}for(var l in t)n[l]=s[l]&&s[l].length%2===0?s[l].concat(t[l]):t[l];return n},Qp=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},lb=function(t,e){if(typeof t===un.OBJECT&&t.length>0){for(var n in t)if(la(e)==la(t[n]))return!0;return!1}return kd(t)?la(e)==la(t):!1},Xh=function(t,e){for(var n in t)return/^(browser|cpu|device|engine|os)$/.test(n)||(e?Xh(t[n]):!1)},kd=function(t){return typeof t===un.STRING},nv=function(t){if(t){for(var e=[],n=Bl(/\\?\"/g,t).split(","),s=0;s<n.length;s++)if(n[s].indexOf(";")>-1){var i=Zh(n[s]).split(";v=");e[s]={brand:i[0],version:i[1]}}else e[s]=Zh(n[s]);return e}},la=function(t){return kd(t)?t.toLowerCase():t},cb=function(t){return kd(t)?Bl(/[^\d\.]/g,t).split(".")[0]:void 0},Cr=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];typeof n==un.OBJECT&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},Bl=function(t,e){return kd(e)?e.replace(t,Rl):e},au=function(t){return Bl(/\\?\"/g,t)},Zh=function(t,e){return t=Bl(/^\s\s*/,String(t)),typeof e===un.UNDEFINED?t:t.substring(0,e)},ub=function(t,e){if(!(!t||!e))for(var n=0,s,i,a,l,c,f;n<e.length&&!c;){var h=e[n],m=e[n+1];for(s=i=0;s<h.length&&!c&&h[s];)if(c=h[s++].exec(t),c)for(a=0;a<m.length;a++)f=c[++i],l=m[a],typeof l===un.OBJECT&&l.length>0?l.length===2?typeof l[1]==un.FUNCTION?this[l[0]]=l[1].call(this,f):this[l[0]]=l[1]:l.length>=3&&(typeof l[1]===un.FUNCTION&&!(l[1].exec&&l[1].test)?l.length>3?this[l[0]]=f?l[1].apply(this,l.slice(2)):void 0:this[l[0]]=f?l[1].call(this,f,l[2]):void 0:l.length==3?this[l[0]]=f?f.replace(l[1],l[2]):void 0:l.length==4?this[l[0]]=f?l[3].call(this,f.replace(l[1],l[2])):void 0:l.length>4&&(this[l[0]]=f?l[3].apply(this,[f.replace(l[1],l[2])].concat(l.slice(4))):void 0)):this[l]=f||void 0;n+=2}},Si=function(t,e){for(var n in e)if(typeof e[n]===un.OBJECT&&e[n].length>0){for(var s=0;s<e[n].length;s++)if(lb(e[n][s],t))return n===FC?void 0:n}else if(lb(e[n],t))return n===FC?void 0:n;return e.hasOwnProperty("*")?e["*"]:t},ZC={ME:"4.90","NT 3.51":"3.51","NT 4.0":"4.0",2e3:["5.0","5.01"],XP:["5.1","5.2"],Vista:"6.0",7:"6.1",8:"6.2","8.1":"6.3",10:["6.4","10.0"],NT:""},JC={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},LU={Chrome:"Google Chrome",Edge:"Microsoft Edge","Edge WebView2":"Microsoft Edge WebView2","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"},eE={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[xe,[ye,gl+"Chrome"]],[/webview.+edge\/([\w\.]+)/i],[xe,[ye,Bh+" WebView"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[xe,[ye,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ye,xe],[/opios[\/ ]+([\w\.]+)/i],[xe,[ye,ml+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[xe,[ye,ml+" GX"]],[/\bopr\/([\w\.]+)/i],[xe,[ye,ml]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[xe,[ye,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[xe,[ye,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(atlas|flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:hi|lg |ovi|qute)browser|palemoon)\/v?([-\w\.]+)/i,/(brave)(?: chrome)?\/([\d\.]+)/i,/(aloha|heytap|ovi|115|surf|qwant)browser\/([\d\.]+)/i,/(qwant)(?:ios|mobile)\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[ye,xe],[/quark(?:pc)?\/([-\w\.]+)/i],[xe,[ye,"Quark"]],[/\bddg\/([\w\.]+)/i],[xe,[ye,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[xe,[ye,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[xe,[ye,"WeChat"]],[/konqueror\/([\w\.]+)/i],[xe,[ye,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[xe,[ye,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[xe,[ye,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[xe,[ye,"Smart "+Qy+yl]],[/(av(?:ast|g|ira))\/([\w\.]+)/i],[[ye,/(.+)/,"$1 Secure"+yl],xe],[/norton\/([\w\.]+)/i],[xe,[ye,"Norton Private"+yl]],[/\bfocus\/([\w\.]+)/i],[xe,[ye,ru+" Focus"]],[/ mms\/([\w\.]+)$/i],[xe,[ye,ml+" Neon"]],[/ opt\/([\w\.]+)$/i],[xe,[ye,ml+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[xe,[ye,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[xe,[ye,"Dolphin"]],[/coast\/([\w\.]+)/i],[xe,[ye,ml+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[xe,[ye,"MIUI"+yl]],[/fxios\/([\w\.-]+)/i],[xe,[ye,gl+ru]],[/\bqihoobrowser\/?([\w\.]*)/i],[xe,[ye,"360"]],[/\b(qq)\/([\w\.]+)/i],[[ye,/(.+)/,"$1Browser"],xe],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[ye,/(.+)/,"$1"+yl],xe],[/samsungbrowser\/([\w\.]+)/i],[xe,[ye,su+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[xe,[ye,XC+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[ye,XC+" Mobile"],xe],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[ye,xe],[/(lbbrowser|luakit|rekonq|steam(?= (clie|tenf|gameo)))/i],[ye],[/ome\/([\w\.]+).+(iron(?= saf)|360(?=[es]e$))/i],[xe,ye],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ye,tv],xe,[fe,hl]],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(bing)(?:web|sapphire)\/([\w\.]+)/i,/(instagram|snapchat|klarna)[\/ ]([-\w\.]+)/i],[ye,xe,[fe,hl]],[/\bgsa\/([\w\.]+) .*safari\//i],[xe,[ye,"GSA"],[fe,hl]],[/(?:musical_ly|trill)(?:.+app_?version\/|_)([\w\.]+)/i],[xe,[ye,"TikTok"],[fe,hl]],[/\[(linkedin)app\]/i],[ye,[fe,hl]],[/(zalo(?:app)?)[\/\sa-z]*([\w\.-]+)/i],[[ye,/(.+)/,"Zalo"],xe,[fe,hl]],[/(chromium)[\/ ]([-\w\.]+)/i],[ye,xe],[/ome-(lighthouse)$/i],[ye,[fe,xU]],[/headlesschrome(?:\/([\w\.]+)| )/i],[xe,[ye,QC+" Headless"]],[/wv\).+chrome\/([\w\.]+).+edgw\//i],[xe,[ye,Bh+" WebView2"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ye,QC+" WebView"],xe],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[xe,[ye,"Android"+yl]],[/chrome\/([\w\.]+) mobile/i],[xe,[ye,gl+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ye,xe],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[xe,[ye,gl+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[ye,gl+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[xe,ye],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ye,[xe,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[ye,xe],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[ye,gl+ru],xe],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ye,"Netscape"],xe],[/(wolvic|librewolf)\/([\w\.]+)/i],[ye,xe],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[xe,[ye,ru+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+(?= .+rv\:.+gecko\/\d+)|[0-4][\w\.]+(?!.+compatible))/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[ye,[xe,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[ye,[xe,/[^\d\.]+./,Rl]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[ts,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[ts,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[ts,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[ts,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[ts,"arm"]],[/ sun4\w[;\)]/i],[[ts,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i,/((ppc|powerpc)(64)?)( mac|;|\))/i,/(?:osf1|[freopnt]{3,4}bsd) (alpha)/i],[[ts,/ower/,Rl,la]],[/mc680.0/i],[[ts,"68k"]],[/winnt.+\[axp/i],[[ts,"alpha"]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[ge,[we,su],[fe,It]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr]|browser)[-\w]+)/i,/sec-(sgh\w+)/i],[ge,[we,su],[fe,Xe]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)[\/\);]/i],[ge,[we,pl],[fe,Xe]],[/\b(?:ios|apple\w+)\/.+[\(\/](ipad)/i,/\b(ipad)[\d,]*[;\] ].+(mac |i(pad)?)os/i],[ge,[we,pl],[fe,It]],[/(macintosh);/i],[ge,[we,pl]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[ge,[we,WC],[fe,Xe]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[ge,[we,qC],[fe,It]],[/honor([-\w ]+)[;\)]/i],[ge,[we,qC],[fe,Xe]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[ge,[we,VC],[fe,It]],[/(?:huawei) ?([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][\dc][adnt]?)\b(?!.+d\/s)/i],[ge,[we,VC],[fe,Xe]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b(?:xiao)?((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[ge,/_/g," "],[we,Jy],[fe,It]],[/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/oid[^\)]+; (redmi[\-_ ]?(?:note|k)?[\w_ ]+|m?[12]\d[01]\d\w{3,6}|poco[\w ]+|(shark )?\w{3}-[ah]0|qin ?[1-3](s\+|ultra| pro)?)( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note|max|cc)?[_ ]?(?:\d{0,2}\w?)[_ ]?(?:plus|se|lite|pro)?( 5g|lte)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[ge,/_/g," "],[we,Jy],[fe,Xe]],[/droid.+; (cph2[3-6]\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\d|p[g-l]\w[1m]10)\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[ge,[we,YC],[fe,Xe]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[ge,[we,Zy],[fe,Xe]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[ge,[we,Si,{OnePlus:["203","304","403","404","413","415"],"*":Zy}],[fe,It]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[ge,[we,"BLU"],[fe,Xe]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[ge,[we,"Vivo"],[fe,Xe]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[ge,[we,"Realme"],[fe,Xe]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[ge,[we,Qy],[fe,It]],[/lenovo[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i],[ge,[we,Qy],[fe,Xe]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ]([\w\s]+)(\)| bui)/i,/((?:moto(?! 360)[-\w\(\) ]+|xt\d{3,4}[cgkosw\+]?[-\d]*|nexus 6)(?= bui|\)))/i],[ge,[we,Xy],[fe,Xe]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[ge,[we,Xy],[fe,It]],[/\b(?:lg)?([vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[ge,[we,sh],[fe,It]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\w+)/i,/\blg-?([\d\w]+) bui/i],[ge,[we,sh],[fe,Xe]],[/(nokia) (t[12][01])/i],[we,ge,[fe,It]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*?))( bui|\)|;|\/)/i],[[ge,/_/g," "],[fe,Xe],[we,"Nokia"]],[/(pixel (c|tablet))\b/i],[ge,[we,Wa],[fe,It]],[/droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\d ]*a?( pro)?( xl)?( fold)?( \(5g\))?)( bui|\))/i],[ge,[we,Wa],[fe,Xe]],[/(google) (pixelbook( go)?)/i],[we,ge],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-\w\w\d\d)(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[ge,[we,iu],[fe,Xe]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[ge,"Xperia Tablet"],[we,iu],[fe,It]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[ge,[we,nh],[fe,It]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[ge,/(.+)/g,"Fire Phone $1"],[we,nh],[fe,Xe]],[/(playbook);[-\w\),; ]+(rim)/i],[ge,we,[fe,It]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/(?:blackberry|\(bb10;) (\w+)/i],[ge,[we,$C],[fe,Xe]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[ge,[we,HC],[fe,It]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[ge,[we,HC],[fe,Xe]],[/(nexus 9)/i],[ge,[we,"HTC"],[fe,It]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[we,[ge,/_/g," "],[fe,Xe]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[ge,[we,"TCL"],[fe,It]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[ge,[we,"TCL"],[fe,Xe]],[/(itel) ((\w+))/i],[[we,la],ge,[fe,Si,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[ge,[we,"Acer"],[fe,It]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[ge,[we,"Meizu"],[fe,Xe]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[ge,[we,"Ulefone"],[fe,Xe]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[ge,[we,"Energizer"],[fe,Xe]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[ge,[we,"Cat"],[fe,Xe]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[ge,[we,"Smartfren"],[fe,Xe]],[/droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i],[ge,[we,"Nothing"],[fe,Xe]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[ge,[we,"Archos"],[fe,It]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[ge,[we,"Archos"],[fe,Xe]],[/; (n159v)/i],[ge,[we,"HMD"],[fe,Xe]],[/(imo) (tab \w+)/i,/(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i],[we,ge,[fe,It]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|infinix|lava|oneplus|tcl|wiko)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(oppo) ?([\w ]+) bui/i,/(hisense) ([ehv][\w ]+)\)/i,/droid[^;]+; (philips)[_ ]([sv-x][\d]{3,4}[xz]?)/i],[we,ge,[fe,Xe]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[we,ge,[fe,It]],[/(surface duo)/i],[ge,[we,Ky],[fe,It]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[ge,[we,"Fairphone"],[fe,Xe]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[ge,[we,GC],[fe,It]],[/(sprint) (\w+)/i],[we,ge,[fe,Xe]],[/(kin\.[onetw]{3})/i],[[ge,/\./g," "],[we,Ky],[fe,Xe]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[ge,[we,ev],[fe,It]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[ge,[we,ev],[fe,Xe]],[/(philips)[\w ]+tv/i,/smart-tv.+(samsung)/i],[we,[fe,bn]],[/hbbtv.+maple;(\d+)/i],[[ge,/^/,"SmartTV"],[we,su],[fe,bn]],[/(vizio)(?: |.+model\/)(\w+-\w+)/i,/tcast.+(lg)e?. ([-\w]+)/i],[we,ge,[fe,bn]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[we,sh],[fe,bn]],[/(apple) ?tv/i],[we,[ge,pl+" TV"],[fe,bn]],[/crkey.*devicetype\/chromecast/i],[[ge,ia+" Third Generation"],[we,Wa],[fe,bn]],[/crkey.*devicetype\/([^/]*)/i],[[ge,/^/,"Chromecast "],[we,Wa],[fe,bn]],[/fuchsia.*crkey/i],[[ge,ia+" Nest Hub"],[we,Wa],[fe,bn]],[/crkey/i],[[ge,ia],[we,Wa],[fe,bn]],[/(portaltv)/i],[ge,[we,tv],[fe,bn]],[/droid.+aft(\w+)( bui|\))/i],[ge,[we,nh],[fe,bn]],[/(shield \w+ tv)/i],[ge,[we,GC],[fe,bn]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[ge,[we,WC],[fe,bn]],[/(bravia[\w ]+)( bui|\))/i],[ge,[we,iu],[fe,bn]],[/(mi(tv|box)-?\w+) bui/i],[ge,[we,Jy],[fe,bn]],[/Hbbtv.*(technisat) (.*);/i],[we,ge,[fe,bn]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[we,/.+\/(\w+)/,"$1",Si,{LG:"lge"}],[ge,Zh],[fe,bn]],[/(playstation \w+)/i],[ge,[we,iu],[fe,Ih]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[ge,[we,Ky],[fe,Ih]],[/(ouya)/i,/(nintendo) (\w+)/i,/(retroid) (pocket ([^\)]+))/i,/(valve).+(steam deck)/i,/droid.+; ((shield|rgcube|gr0006))( bui|\))/i],[[we,Si,{Nvidia:"Shield",Anbernic:"RGCUBE",Logitech:"GR0006"}],ge,[fe,Ih]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[ge,[we,su],[fe,Bi]],[/((pebble))app/i,/(asus|google|lg|oppo|xiaomi) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[we,ge,[fe,Bi]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[ge,[we,Zy],[fe,Bi]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[ge,[we,pl],[fe,Bi]],[/(opwwe\d{3})/i],[ge,[we,YC],[fe,Bi]],[/(moto 360)/i],[ge,[we,Xy],[fe,Bi]],[/(smartwatch 3)/i],[ge,[we,iu],[fe,Bi]],[/(g watch r)/i],[ge,[we,sh],[fe,Bi]],[/droid.+; (wt63?0{2,3})\)/i],[ge,[we,ev],[fe,Bi]],[/droid.+; (glass) \d/i],[ge,[we,Wa],[fe,th]],[/(pico) ([\w ]+) os\d/i],[we,ge,[fe,th]],[/(quest( \d| pro)?s?).+vr/i],[ge,[we,tv],[fe,th]],[/mobile vr; rv.+firefox/i],[[fe,th]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[we,[fe,Mu]],[/(aeobc)\b/i],[ge,[we,nh],[fe,Mu]],[/(homepod).+mac os/i],[ge,[we,pl],[fe,Mu]],[/windows iot/i],[[fe,Mu]],[/droid.+; ([\w- ]+) (4k|android|smart|google)[- ]?tv/i],[ge,[fe,bn]],[/\b((4k|android|smart|opera)[- ]?tv|tv; rv:|large screen[\w ]+safari)\b/i],[[fe,bn]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew|; hmsc).+?(mobile|vr|\d) safari/i],[ge,[fe,Si,{mobile:"Mobile",xr:"VR","*":It}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[fe,It]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[fe,Xe]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[ge,[we,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[xe,[ye,Bh+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[ye,xe],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[xe,[ye,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links|dillo)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[ye,xe],[/ladybird\//i],[[ye,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[xe,ye]],os:[[/(windows nt) (6\.[23]); arm/i],[[ye,/N/,"R"],[xe,Si,ZC]],[/(windows (?:phone|mobile|iot))(?: os)?[\/ ]?([\d\.]*( se)?)/i,/(windows)[\/ ](1[01]|2000|3\.1|7|8(\.1)?|9[58]|me|server 20\d\d( r2)?|vista|xp)/i],[ye,xe],[/windows nt ?([\d\.\)]*)(?!.+xbox)/i,/\bwin(?=3| ?9|n)(?:nt| 9x )?([\d\.;]*)/i],[[xe,/(;|\))/g,"",Si,ZC],[ye,ob]],[/(windows ce)\/?([\d\.]*)/i],[ye,xe],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv|ios(?=.+ip(?:ad|hone)|.+apple ?tv)|ip(?:ad|hone)(?: |.+i(?:pad)?)os|apple ?tv.+ios)[\/ ]([\w\.]+)/i,/\btvos ?([\w\.]+)/i,/cfnetwork\/.+darwin/i],[[xe,/_/g,"."],[ye,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+(haiku|morphos))/i],[[ye,"macOS"],[xe,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[xe,[ye,ia+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[xe,[ye,ia+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[xe,[ye,ia+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[xe,[ye,ia+" Linux"]],[/crkey\/([\d\.]+)/i],[xe,[ye,ia]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[xe,ye],[/(ubuntu) ([\w\.]+) like android/i],[[ye,/(.+)/,"$1 Touch"],xe],[/(harmonyos)[\/ ]?([\d\.]*)/i,/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\w*[-\/\.; ]?([\d\.]*)/i],[ye,xe],[/\(bb(10);/i],[xe,[ye,$C]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[xe,[ye,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile[;\w ]*|tablet|tv|[^\)]*(?:viera|lg(?:l25|-d300)|alcatel ?o.+|y300-f1)); rv:([\w\.]+)\).+gecko\//i],[xe,[ye,ru+" OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,/webos(?:[ \/]?|\.tv-20(?=2[2-9]))(\d[\d\.]*)/i],[xe,[ye,"webOS"]],[/web0s;.+?(?:chr[o0]me|safari)\/(\d+)/i],[[xe,Si,{25:"120",24:"108",23:"94",22:"87",6:"79",5:"68",4:"53",3:"38",2:"538",1:"537","*":"TV"}],[ye,"webOS"]],[/watch(?: ?os[,\/ ]|\d,\d\/)([\d\.]+)/i],[xe,[ye,"watchOS"]],[/cros [\w]+(?:\)| ([\w\.]+)\b)/i],[xe,[ye,"Chrome OS"]],[/kepler ([\w\.]+); (aft|aeo)/i],[xe,[ye,"Vega OS"]],[/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/linux.+(mint)[\/\(\) ]?([\w\.]*)/i,/(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\d\.]*)/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/\b(aix)[; ]([1-9\.]{0,4})/i,/(hurd|linux|morphos)(?: (?:arm|x86|ppc)\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) ?(r\d)?/i],[ye,xe],[/(sunos) ?([\d\.]*)/i],[[ye,"Solaris"],xe],[/\b(beos|os\/2|amigaos|openvms|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[ye,xe]]},ih=(function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Cr.call(t.init,[[ws,[ye,xe,nd,fe]],[Nr,[ts]],[Qi,[fe,ge,we]],[Ni,[ye,xe]],[Bs,[ye,xe]]]),Cr.call(t.isIgnore,[[ws,[xe,nd]],[Ni,[xe]],[Bs,[xe]]]),Cr.call(t.isIgnoreRgx,[[ws,/ ?browser$/i],[Bs,/ ?os$/i]]),Cr.call(t.toString,[[ws,[ye,xe]],[Nr,[ts]],[Qi,[we,ge]],[Ni,[ye,xe]],[Bs,[ye,xe]]]),t})(),MU=function(t,e){var n=ih.init[e],s=ih.isIgnore[e]||0,i=ih.isIgnoreRgx[e]||0,a=ih.toString[e]||0;function l(){Cr.call(this,n)}return l.prototype.getItem=function(){return t},l.prototype.withClientHints=function(){return ro?ro.getHighEntropyValues(FO).then(function(c){return t.setCH(new HO(c,!1)).parseCH().get()}):t.parseCH().get()},l.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=Pl&&(l.prototype.is=function(c){var f=!1;for(var h in this)if(this.hasOwnProperty(h)&&!lb(s,h)&&la(i?Bl(i,this[h]):this[h])==la(i?Bl(i,c):c)){if(f=!0,c!=un.UNDEFINED)break}else if(c==un.UNDEFINED&&f){f=!f;break}return f},l.prototype.toString=function(){var c=Rl;for(var f in a)typeof this[a[f]]!==un.UNDEFINED&&(c+=(c?" ":Rl)+this[a[f]]);return c||un.UNDEFINED}),l.prototype.then=function(c){var f=this,h=function(){for(var g in f)f.hasOwnProperty(g)&&(this[g]=f[g])};h.prototype={is:l.prototype.is,toString:l.prototype.toString,withClientHints:l.prototype.withClientHints,withFeatureCheck:l.prototype.withFeatureCheck};var m=new h;return c(m),m},new l};function HO(t,e){if(t=t||{},Cr.call(this,FO),e)Cr.call(this,[[vx,nv(t[Na])],[bx,nv(t[wU])],[Xe,/\?1/.test(t[EU])],[ge,au(t[NU])],[Il,au(t[zO])],[xx,au(t[jU])],[ts,au(t[SU])],[io,nv(t[CU])],[Wp,au(t[_U])]]);else for(var n in t)this.hasOwnProperty(n)&&typeof t[n]!==un.UNDEFINED&&(this[n]=t[n])}function wa(t,e,n,s){return Cr.call(this,[["itemType",t],["ua",e],["uaCH",s],["rgxMap",n],["data",MU(this,t)]]),this}wa.prototype.get=function(t){return t?this.data.hasOwnProperty(t)?this.data[t]:void 0:this.data};wa.prototype.set=function(t,e){return this.data[t]=e,this};wa.prototype.setCH=function(t){return this.uaCH=t,this};wa.prototype.detectFeature=function(){if(vs&&vs.userAgent==this.ua)switch(this.itemType){case ws:vs.brave&&typeof vs.brave.isBrave==un.FUNCTION&&this.set(ye,"Brave");break;case Qi:!this.get(fe)&&ro&&ro[Xe]&&this.set(fe,Xe),this.get(ge)=="Macintosh"&&vs&&typeof vs.standalone!==un.UNDEFINED&&vs.maxTouchPoints&&vs.maxTouchPoints>2&&this.set(ge,"iPad").set(fe,It);break;case Bs:!this.get(ye)&&ro&&ro[Il]&&this.set(ye,ro[Il]);break;case Pl:var t=this.data,e=function(n){return t[n].getItem().detectFeature().get()};this.set(ws,e(ws)).set(Nr,e(Nr)).set(Qi,e(Qi)).set(Ni,e(Ni)).set(Bs,e(Bs))}return this};wa.prototype.parseUA=function(){switch(this.itemType!=Pl&&ub.call(this.data,this.ua,this.rgxMap),this.itemType){case ws:this.set(nd,cb(this.get(xe)));break;case Bs:if(this.get(ye)=="iOS"&&this.get(xe)=="18.6"){var t=/\) Version\/([\d\.]+)/.exec(this.ua);t&&parseInt(t[1].substring(0,2),10)>=26&&this.set(xe,t[1])}break}return this};wa.prototype.parseCH=function(){var t=this.uaCH,e=this.rgxMap;switch(this.itemType){case ws:case Ni:var n=t[bx]||t[vx],s;if(n)for(var i=0;i<n.length;i++){var a=n[i].brand||n[i],l=n[i].version;this.itemType==ws&&!/not.a.brand/i.test(a)&&(!s||/Chrom/.test(s)&&a!=KC||s==Bh&&/WebView2/.test(a))&&(a=Si(a,LU),s=this.get(ye),s&&!/Chrom/.test(s)&&/Chrom/.test(a)||this.set(ye,a).set(xe,l).set(nd,cb(l)),s=a),this.itemType==Ni&&a==KC&&this.set(xe,l)}break;case Nr:var c=t[ts];c&&(c&&t[Wp]=="64"&&(c+="64"),ub.call(this.data,c+";",e));break;case Qi:if(t[Xe]&&this.set(fe,Xe),t[ge]&&(this.set(ge,t[ge]),!this.get(fe)||!this.get(we))){var f={};ub.call(f,"droid 9; "+t[ge]+")",e),!this.get(fe)&&f.type&&this.set(fe,f.type),!this.get(we)&&f.vendor&&this.set(we,f.vendor)}if(t[io]){var h;if(typeof t[io]!="string")for(var m=0;!h&&m<t[io].length;)h=Si(t[io][m++],JC);else h=Si(t[io],JC);this.set(fe,h)}break;case Bs:var g=t[Il];if(g){var y=t[xx];g==ob&&(y=parseInt(cb(y),10)>=13?"11":"10"),this.set(ye,g).set(xe,y)}this.get(ye)==ob&&t[ge]=="Xbox"&&this.set(ye,"Xbox").set(xe,void 0);break;case Pl:var x=this.data,b=function(C){return x[C].getItem().setCH(t).parseCH().get()};this.set(ws,b(ws)).set(Nr,b(Nr)).set(Qi,b(Qi)).set(Ni,b(Ni)).set(Bs,b(Bs))}return this};function Or(t,e,n){if(typeof t===un.OBJECT?(Xh(t,!0)?(typeof e===un.OBJECT&&(n=e),e=t):(n=t,e=void 0),t=void 0):typeof t===un.STRING&&!Xh(e,!0)&&(n=e,e=void 0),n)if(typeof n.append===un.FUNCTION){var s={};n.forEach(function(m,g){s[String(g).toLowerCase()]=m}),n=s}else{var i={};for(var a in n)n.hasOwnProperty(a)&&(i[String(a).toLowerCase()]=n[a]);n=i}if(!(this instanceof Or))return new Or(t,e,n).getResult();var l=typeof t===un.STRING?t:n&&n[zC]?n[zC]:vs&&vs.userAgent?vs.userAgent:Rl,c=new HO(n,!0),f=e?OU(eE,e):eE,h=function(m){return m==Pl?function(){return new wa(m,l,f,c).set("ua",l).set(ws,this.getBrowser()).set(Nr,this.getCPU()).set(Qi,this.getDevice()).set(Ni,this.getEngine()).set(Bs,this.getOS()).get()}:function(){return new wa(m,l,f[m],c).parseUA().get()}};return Cr.call(this,[["getBrowser",h(ws)],["getCPU",h(Nr)],["getDevice",h(Qi)],["getEngine",h(Ni)],["getOS",h(Bs)],["getResult",h(Pl)],["getUA",function(){return l}],["setUA",function(m){return kd(m)&&(l=Zh(m,bU)),this}]]).setUA(l),this}Or.VERSION=vU;Or.BROWSER=Qp([ye,xe,nd,fe]);Or.CPU=Qp([ts]);Or.DEVICE=Qp([ge,we,fe,Ih,Xe,bn,It,Bi,Mu]);Or.ENGINE=Or.OS=Qp([ye,xe]);const DU=()=>{const[t,e]=w.useState(null);return w.useEffect(()=>{const s=new Or().getResult(),i=s.device.type==="mobile",a=s.device.type==="tablet",l=!i&&!a;e({browser:s.browser,os:s.os,device:s.device,cpu:s.cpu,isMobile:i,isTablet:a,isDesktop:l})},[]),t},TU=()=>{const{login:t,isLoading:e}=M6(),n=DU(),[s,i]=w.useState(""),[a,l]=w.useState(""),{t:c}=Ve(),f=async h=>{h.preventDefault();const m=n?.device.model?`${n.device.vendor||""} ${n.device.model}`.trim():`${n?.browser.name} on ${n?.os.name}`,g={username:s,password:a,osName:n?.os.name||"Unknown",osVersion:n?.os.version||"Unknown",deviceModel:m||"Unknown",appVersion:"1.0.0",buildNumber:"1"};t(g)};return d.jsxs("div",{className:"flex h-screen w-full font-sans overflow-hidden",children:[d.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col justify-between items-center p-8 lg:p-16 overflow-y-auto",children:[d.jsx("div",{className:"w-full flex justify-center pt-10",children:d.jsx("div",{className:"h-12 w-12 rounded-full border-2  flex items-center justify-center",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:" w-8 h-8",children:d.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})})}),d.jsxs("div",{className:"w-full max-w-md flex flex-col items-center text-center space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(H.H1,{children:c("login.login")}),d.jsx(yU,{}),d.jsx(H.Subtitle,{className:"max-w-xs mx-auto",children:c("login.login_description")})]}),d.jsxs("form",{className:"w-full space-y-5 mt-6",onSubmit:f,children:[d.jsx(ze,{label:c("forms.username"),placeholder:c("forms.username_placeholder"),icon:d.jsx(Lr,{}),required:!0,onChange:h=>i(h.target.value.trim())}),d.jsx(yx,{label:c("forms.password"),type:"password",placeholder:c("forms.password_placeholder"),icon:d.jsx(Tp,{}),required:!0,onChange:h=>l(h.target.value.trim())}),d.jsx("div",{className:"w-full flex justify-start",children:d.jsx(H.Link,{children:c("forms.forgot_password")})}),d.jsx(Fe,{type:"submit",variant:"primary",className:"mt-4",isLoading:e,fullWidth:!0,children:c("login.login")})]})]}),d.jsx("div",{className:"pb-4 pt-8",children:d.jsx(H.Link,{className:"text-gray-500 font-normal hover:text-gray-700 hover:no-underline",children:c("common.need_help")})})]}),d.jsxs("div",{className:"hidden lg:block w-1/2 relative",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1532550907401-a500c9a57435?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80",alt:"Grilled Chicken Meal",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/5"})]})]})},wx=_o(t=>({isSidebarCollapsed:!1,toggleSidebar:()=>t(e=>({isSidebarCollapsed:!e.isSidebarCollapsed})),setSidebarCollapsed:e=>t({isSidebarCollapsed:e})})),$O=_o()(ox(t=>({theme:"light",toggleTheme:()=>t(e=>({theme:e.theme==="light"?"dark":"light"})),setTheme:e=>t({theme:e})}),{name:"theme-preference",storage:Bp(()=>localStorage)})),AU=()=>{const{theme:t,toggleTheme:e}=$O();return d.jsx("button",{onClick:e,className:`
        p-2 rounded-full transition-all duration-300 relative overflow-hidden
        ${t==="dark"?"bg-gray-800 text-yellow-400 hover:bg-gray-700":"bg-orange-100 text-orange-500 hover:bg-orange-200"}
      `,title:"Toggle Theme",children:d.jsxs("div",{className:"relative w-5 h-5",children:[d.jsx(y4,{className:`absolute inset-0 w-full h-full transform transition-transform duration-500 ${t==="dark"?"rotate-90 opacity-0 scale-50":"rotate-0 opacity-100 scale-100"}`}),d.jsx(BP,{className:`absolute inset-0 w-full h-full transform transition-transform duration-500 ${t==="dark"?"rotate-0 opacity-100 scale-100":"-rotate-90 opacity-0 scale-50"}`})]})})},RU=({onMobileMenuClick:t})=>{const{t:e}=Ve(),n=$t(a=>a.user),{toggleSidebar:s,isSidebarCollapsed:i}=wx();return d.jsxs("header",{className:"h-16 bg-background-card border-b border-border flex items-center justify-between px-6 sticky top-0 z-30 transition-colors duration-300",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:t,className:"md:hidden p-2 hover:bg-background rounded-lg text-text-muted transition-colors",children:d.jsx(O_,{className:"w-6 h-6"})}),d.jsx("button",{onClick:s,className:"hidden md:block p-2 hover:bg-background rounded-lg text-text-muted hover:text-text-main transition-colors",title:"Toggle Sidebar",children:i?d.jsx(O_,{className:"w-6 h-6"}):d.jsx(qP,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex items-center gap-6 ml-auto",children:[d.jsx(AU,{}),d.jsxs("div",{className:"flex items-center gap-4 border-r border-border pr-6",children:[d.jsxs("button",{className:"relative p-2 text-text-muted hover:bg-background hover:text-text-main rounded-full transition-colors",children:[d.jsx(CR,{className:"w-5 h-5"}),d.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-background-card"})]}),d.jsx("button",{className:"p-2 text-text-muted hover:bg-background hover:text-text-main rounded-full transition-colors",children:d.jsx($h,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex items-center gap-3 cursor-pointer p-2 -mr-2 hover:bg-background rounded-xl transition-colors",children:[d.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-border bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:n?.profileImageUrl?d.jsx("img",{src:n.profileImageUrl,alt:n.username||e("users.user"),className:"w-full h-full object-cover"}):d.jsx(Lr,{className:"w-4 h-4 text-text-muted"})}),d.jsxs("div",{className:"hidden sm:block text-right",children:[d.jsx("p",{className:"text-sm font-semibold text-text-main leading-none",children:L6(n)||"Admin"}),d.jsx("p",{className:"text-xs text-text-muted mt-0.5 capitalize",children:n?.role.name?.replace("_"," ")||e("users.user")})]})]})]})]})},Dt={Login:"/login",Dashboard:"/",Restaurants:"/restaurants",RestaurantAdd:"/restaurants/add",RestaurantEdit:t=>`/restaurants/edit/${t}`,Users:"/users",UserAdd:"/users/add",UserEdit:t=>`/users/edit/${t}`,MenuSectionsAdd:"/menu-sections/add",MenuSectionsEdit:t=>`/menu-sections/edit/${t}`,ProudctAdd:"/products/add",ProudctEdit:t=>`/products/edit/${t}`,ScheduleAddOrEdit:"/schedule/add",Drivers:"/drivers",DriversAdd:"/drivers/add",DriversEdit:t=>`/drivers/edit/${t}`,Modifiers:"/modifiers",ModifiersAdd:"/modifiers/add",ModifiersEdit:t=>`/modifiers/edit/${t}`,CategoriesAdd:"/categories/add",CategoriesEdit:t=>`/categories/edit/${t}`,PromotionsAdd:"/promotions/add",PromotionsEdit:t=>`/promotions/edit/${t}`,CouponsAdd:"/coupons/add",CouponsEdit:t=>`/coupons/edit/${t}`},Us={SUPER_ADMIN:"super_admin",ADMIN:"restaurant_admin",MANAGER:"restaurant_manager"},tE={GLOBAL:[{label:"Restaurants",path:`/admin${Dt.Restaurants}`,icon:Wu},{label:"All Users",path:`/admin${Dt.Users}`,icon:Rp},{label:"Restaurant categories",path:"/admin/categories",icon:zb}],RESTAURANT:[{label:"Dashboard",path:"/dashboard/home",icon:RR},{label:"Orders",path:"/dashboard/orders",icon:Tl},{label:"Products",path:"/dashboard/products",icon:XR},{label:"Schedule",path:"/dashboard/schedule",icon:hi},{label:"Team",path:`/dashboard${Dt.Users}`,icon:Gb},{label:"Drivers",path:`/dashboard${Dt.Drivers}`,icon:fk},{label:"Group Products",path:"/dashboard/modifiers",icon:yk},{label:"Menu Sections",path:"/dashboard/menu-sections",icon:vR},{label:"Promotions",path:"/dashboard/promotions",icon:S4},{label:"Coupons",path:"/dashboard/coupons",icon:QR}]},Kp={[Us.SUPER_ADMIN]:{defaultRoute:"/admin/restaurants",menuType:"GLOBAL"},[Us.ADMIN]:{defaultRoute:"/dashboard/orders",menuType:"RESTAURANT"},[Us.MANAGER]:{defaultRoute:"/dashboard/orders",menuType:"RESTAURANT"}},PU=(t,e)=>{if(t===Us.SUPER_ADMIN&&e)return tE.RESTAURANT;const n=Kp[t];return tE[n.menuType]},IU=()=>{const{logout:t}=$t(i=>i),{handleError:e}=Hn(),n=Cs(),s=tt({mutationFn:DO.logout,onSuccess:i=>{t(),n("/")},onError:e});return{logout:s.mutate,isLoading:s.isPending,error:s.error}},ou={PERCENTAGE:"percentage",FIXED_AMOUNT:"fixed_amount"},$i={async getAll(){return(await Le.get("/restaurants")).data},async getById(t){return(await Le.get(`/restaurants/${t}`)).data},async create(t){return(await Le.post("/restaurants",t)).data},async update(t,e){return(await Le.patch(`/restaurants/${t}`,e)).data},async toggleOpenStatus(t,e){return(await Le.patch(`/restaurants/${t}`,{isOpen:e})).data},async updateCategories(t,e){return(await Le.patch(`/restaurants/${t}/categories`,e)).data},async updateOperational(t,e){const n=await Le.patch(`/restaurants/${t}/operational`,e);return n.data.data??n.data},async updateAdminConfig(t,e){const n=await Le.patch(`/restaurants/${t}/admin-config`,e);return n.data.data??n.data},async setPaymentConfig(t){const e=await Le.post(`/payments/setup-restaurant/${t}`,{id:t});return console.log("Payment config response:",e),e.data.data},async generatePaymentLink(t){const e=await Le.get(`payments/restaurant/${t}/platform-debt-link`);return console.log("Payment link generated:",e),e.data}},tc=t=>{const e=as(),{handleError:n}=Hn(),s=Ct(x=>x.addToast),i=["restaurants","all"],{data:a=[],isLoading:l,isError:c}=Nn({queryKey:i,queryFn:async()=>(console.log(" Fetching restaurantId:",t),$i.getAll()),enabled:!0}),f=async x=>{const C=e.getQueryData(["restaurants","all"])?.find(_=>_.id===x);if(C)return C;try{return await $i.getById(x)}catch(_){return n(_),null}},h=tt({mutationFn:x=>$i.create(x),onSuccess:()=>{s("Restaurante creado exitosamente","success"),e.invalidateQueries({queryKey:["restaurants"]})},onError:n}),m=tt({mutationFn:({id:x,data:b})=>$i.update(x,b),onSuccess:()=>{s("Restaurante actualizado","success"),e.invalidateQueries({queryKey:["restaurants"]})},onError:n}),g=tt({mutationFn:({id:x,isOpen:b})=>$i.toggleOpenStatus(x,b),onSuccess:x=>{const b=x.isOpen?"Abierto":"Cerrado";s(`Restaurante ahora est ${b}`,"info"),e.invalidateQueries({queryKey:["restaurants"]})},onError:n}),y=tt({mutationFn:({restaurantId:x,categoryIds:b})=>$i.updateCategories(x,{categoryIds:b}),onSuccess:(x,b)=>{s("Cuisines updated successfully","success"),e.setQueryData(["restaurant",b.restaurantId],x),e.setQueryData(["restaurants","all"],C=>C?C.map(_=>_.id===b.restaurantId?x:_):[])},onError:n});return{restaurants:a,isLoading:l,isError:c,createRestaurant:h.mutateAsync,updateRestaurant:m.mutateAsync,toggleOpen:g.mutateAsync,getRestaurantById:f,updateCategories:y.mutateAsync,isCreating:h.isPending,isUpdating:m.isPending,isUpdatingCategories:y.isPending}},lu={async getAll(){return(await Le.get("/categories")).data},async getById(t){return(await Le.get(`/categories/${t}`)).data},async create(t){return(await Le.post("/categories",t)).data},async update(t,e){return(await Le.patch(`/categories/${t}`,e)).data},async delete(t){await Le.delete(`/categories/${t}`)}},Sx=()=>{const t=as(),{handleError:e}=Hn(),n=Ct(g=>g.addToast),s=["categories"],{data:i=[],isLoading:a,isError:l}=Nn({queryKey:s,queryFn:()=>(console.log(" Fetching all global categories"),lu.getAll()),staleTime:1e3*60*5}),c=async g=>{const x=t.getQueryData(s)?.find(b=>b.id===g);if(x)return x;try{return await lu.getById(g)}catch(b){return e(b),null}},f=tt({mutationFn:lu.create,onSuccess:()=>{n("Category created successfully","success"),t.invalidateQueries({queryKey:s})},onError:e}),h=tt({mutationFn:({id:g,data:y})=>lu.update(g,y),onSuccess:()=>{n("Category updated successfully","success"),t.invalidateQueries({queryKey:s})},onError:e}),m=tt({mutationFn:({id:g})=>lu.delete(g),onSuccess:()=>{n("Category deleted successfully","success"),t.invalidateQueries({queryKey:s})},onError:e});return{categories:i,isLoading:a,isError:l,createCategory:f.mutateAsync,updateCategory:h.mutateAsync,getCategoryById:c,deleteCategory:m.mutateAsync,isCreating:f.isPending,isUpdating:h.isPending,isDeleting:m.isPending}},BU=({isOpen:t,onClose:e,restaurantId:n,initialSelectedIds:s,onSuccess:i})=>{const{t:a}=Ve(),{categories:l,isLoading:c}=Sx(),{updateCategories:f,isUpdating:h}=tc(),[m,g]=w.useState([]),[y,x]=w.useState("");w.useEffect(()=>{t&&(g(s),x(""))},[t,s]);const b=w.useMemo(()=>l.filter(L=>m.includes(L.id)),[l,m]),C=w.useMemo(()=>l.filter(L=>!m.includes(L.id)).filter(L=>L.name.toLowerCase().includes(y.toLowerCase())),[l,m,y]),_=L=>{g(O=>[...O,L])},k=L=>{g(O=>O.filter(E=>E!==L))},j=async()=>{try{await f({restaurantId:n,categoryIds:m}),i?.(),e()}catch{e()}};return t?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-background-card w-full max-w-2xl rounded-3xl shadow-2xl border border-border flex flex-col max-h-[85vh]",children:[d.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center shrink-0",children:[d.jsxs("div",{children:[d.jsx(H.H3,{className:"text-lg",children:a("categories.manage_title")}),d.jsx(H.Small,{className:"text-text-muted",children:a("categories.manage_description")})]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(rs,{className:"w-5 h-5 text-text-muted"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[d.jsxs("div",{children:[d.jsxs(H.Label,{className:"mb-3 block text-primary",children:[a("categories.section_selected")," (",m.length,")"]}),m.length===0?d.jsxs("div",{className:"text-center p-6 border border-dashed border-gray-300 rounded-2xl bg-gray-50 dark:bg-gray-900/50",children:[d.jsx(wd,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),d.jsx(H.Small,{className:"text-gray-400",children:a("categories.no_selection")})]}):d.jsx("div",{className:"flex flex-wrap gap-3",children:b.map(L=>d.jsx("div",{className:"animate-in fade-in zoom-in duration-200",children:d.jsx(UU,{category:L,onRemove:()=>k(L.id),isRemovable:!0})},L.id))})]}),d.jsx("div",{className:"h-px bg-border"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(H.Label,{children:a("categories.section_available")})}),d.jsx(ze,{placeholder:a("categories.search_placeholder"),value:y,onChange:L=>x(L.target.value),icon:d.jsx(xd,{className:"w-4 h-4 text-gray-400"})}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:c?d.jsx("p",{children:a("common.loading")}):C.length===0?d.jsx("p",{className:"col-span-full text-center text-sm text-gray-400 py-4",children:a(y?"common.no_results":"categories.all_selected")}):C.map(L=>d.jsxs("button",{onClick:()=>_(L.id),className:"flex items-center gap-3 p-3 rounded-xl border border-border hover:border-primary hover:bg-primary/5 transition-all group text-left",children:[d.jsx("span",{className:"text-xl bg-gray-100 dark:bg-gray-800 w-8 h-8 flex items-center justify-center rounded-lg",children:L.icon||""}),d.jsx("span",{className:"text-sm font-medium text-text-primary truncate flex-1",children:L.name}),d.jsx(yi,{className:"w-4 h-4 text-gray-400 group-hover:text-primary"})]},L.id))})]})]}),d.jsxs("div",{className:"p-6 border-t border-border bg-gray-50/50 dark:bg-gray-900/20 shrink-0 flex justify-end gap-3 rounded-b-3xl",children:[d.jsx(Fe,{variant:"secondary",onClick:e,children:a("common.cancel")}),d.jsx(Fe,{onClick:j,disabled:h,children:h?a("common.saving"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",a("common.save")]})})]})]})}):null},UU=({category:t,onRemove:e,isRemovable:n})=>d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary border border-primary/20 rounded-full transition-all hover:bg-primary/20",children:[d.jsx("span",{className:"text-lg leading-none",children:t.icon||""}),d.jsx("span",{className:"text-sm font-medium",children:t.name}),n&&d.jsx("button",{onClick:s=>{s.stopPropagation(),e?.()},className:"ml-1 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:d.jsx(rs,{className:"w-3.5 h-3.5"})})]}),zU=({isSidebarCollapsed:t,mobile:e})=>{const{activeRestaurant:n}=Tt(y=>y),{getRestaurantById:s,isLoading:i}=tc(),[a,l]=w.useState(null),{t:c}=Ve(),[f,h]=w.useState(!1);w.useEffect(()=>{m()},[]);const m=async()=>{const y=await s(n?.id??"");l(y)},g=w.useMemo(()=>(a?.categories??[]).map(y=>y.id),[a]);return d.jsxs("div",{className:"p-4 border-t border-border",children:[f&&d.jsx(BU,{isOpen:f,onClose:()=>h(!1),restaurantId:a?.id??"",initialSelectedIds:g,onSuccess:()=>m()}),d.jsxs("button",{disabled:i,onClick:()=>h(!0),className:`
            w-full flex items-center p-3 rounded-xl text-gray-500 hover:text-white hover:bg-primary dark:hover:bg-primary transition-colors
            ${t&&!e?"justify-center":""}
          `,children:[d.jsx(zb,{className:`w-5 h-5 ${!t||e?"mr-3":""}`}),(!t||e)&&d.jsx("span",{className:"font-medium text-sm",children:c("categories.title")})]})]})};var Od=t=>t.type==="checkbox",co=t=>t instanceof Date,bs=t=>t==null;const VO=t=>typeof t=="object";var _n=t=>!bs(t)&&!Array.isArray(t)&&VO(t)&&!co(t),qO=t=>_n(t)&&t.target?Od(t.target)?t.target.checked:t.target.value:t,FU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,GO=(t,e)=>t.has(FU(e)),HU=t=>{const e=t.constructor&&t.constructor.prototype;return _n(e)&&e.hasOwnProperty("isPrototypeOf")},_x=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xn(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(_x&&(t instanceof Blob||e))return t;const n=Array.isArray(t);if(!n&&!(_n(t)&&HU(t)))return t;const s=n?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=xn(t[i]));return s}var Xp=t=>/^\w*$/.test(t),Zt=t=>t===void 0,Cx=t=>Array.isArray(t)?t.filter(Boolean):[],Ex=t=>Cx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(t,e,n)=>{if(!e||!_n(t))return n;const s=(Xp(e)?[e]:Ex(e)).reduce((i,a)=>bs(i)?i:i[a],t);return Zt(s)||s===t?Zt(t[e])?n:t[e]:s},As=t=>typeof t=="boolean",ss=t=>typeof t=="function",Ft=(t,e,n)=>{let s=-1;const i=Xp(e)?[e]:Ex(e),a=i.length,l=a-1;for(;++s<a;){const c=i[s];let f=n;if(s!==l){const h=t[c];f=_n(h)||Array.isArray(h)?h:isNaN(+i[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=f,t=t[c]}};const Jh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},br={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},YO=Re.createContext(null);YO.displayName="HookFormControlContext";const Nx=()=>Re.useContext(YO);var WO=(t,e,n,s=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Ci.all&&(e._proxyFormState[l]=!s||Ci.all),n&&(n[l]=!0),t[l]}});return i};const jx=typeof window<"u"?Re.useLayoutEffect:Re.useEffect;function $U(t){const e=Nx(),{control:n=e,disabled:s,name:i,exact:a}=t||{},[l,c]=Re.useState(n._formState),f=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return jx(()=>n._subscribe({name:i,formState:f.current,exact:a,callback:h=>{!s&&c({...n._formState,...h})}}),[i,s,a]),Re.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),Re.useMemo(()=>WO(l,n,f.current,!1),[l,n])}var Ps=t=>typeof t=="string",db=(t,e,n,s,i)=>Ps(t)?(s&&e.watch.add(t),De(n,t,i)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),De(n,a))):(s&&(e.watchAll=!0),n),fb=t=>bs(t)||!VO(t);function Ei(t,e,n=new WeakSet){if(fb(t)||fb(e))return Object.is(t,e);if(co(t)&&co(e))return Object.is(t.getTime(),e.getTime());const s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of s){const l=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=e[a];if(co(l)&&co(c)||_n(l)&&_n(c)||Array.isArray(l)&&Array.isArray(c)?!Ei(l,c,n):!Object.is(l,c))return!1}}return!0}function VU(t){const e=Nx(),{control:n=e,name:s,defaultValue:i,disabled:a,exact:l,compute:c}=t||{},f=Re.useRef(i),h=Re.useRef(c),m=Re.useRef(void 0),g=Re.useRef(n),y=Re.useRef(s);h.current=c;const[x,b]=Re.useState(()=>{const O=n._getWatch(s,f.current);return h.current?h.current(O):O}),C=Re.useCallback(O=>{const E=db(s,n._names,O||n._formValues,!1,f.current);return h.current?h.current(E):E},[n._formValues,n._names,s]),_=Re.useCallback(O=>{if(!a){const E=db(s,n._names,O||n._formValues,!1,f.current);if(h.current){const M=h.current(E);Ei(M,m.current)||(b(M),m.current=M)}else b(E)}},[n._formValues,n._names,a,s]);jx(()=>((g.current!==n||!Ei(y.current,s))&&(g.current=n,y.current=s,_()),n._subscribe({name:s,formState:{values:!0},exact:l,callback:O=>{_(O.values)}})),[n,l,s,_]),Re.useEffect(()=>n._removeUnmounted());const k=g.current!==n,j=y.current,L=Re.useMemo(()=>{if(a)return null;const O=!k&&!Ei(j,s);return k||O?C():null},[a,k,s,j,C]);return L!==null?L:x}function qU(t){const e=Nx(),{name:n,disabled:s,control:i=e,shouldUnregister:a,defaultValue:l,exact:c=!0}=t,f=GO(i._names.array,n),h=Re.useMemo(()=>De(i._formValues,n,De(i._defaultValues,n,l)),[i,n,l]),m=VU({control:i,name:n,defaultValue:h,exact:c}),g=$U({control:i,name:n,exact:c}),y=Re.useRef(t),x=Re.useRef(void 0),b=Re.useRef(i.register(n,{...t.rules,value:m,...As(t.disabled)?{disabled:t.disabled}:{}}));y.current=t;const C=Re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!De(g.errors,n)},isDirty:{enumerable:!0,get:()=>!!De(g.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!De(g.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!De(g.validatingFields,n)},error:{enumerable:!0,get:()=>De(g.errors,n)}}),[g,n]),_=Re.useCallback(O=>b.current.onChange({target:{value:qO(O),name:n},type:Jh.CHANGE}),[n]),k=Re.useCallback(()=>b.current.onBlur({target:{value:De(i._formValues,n),name:n},type:Jh.BLUR}),[n,i._formValues]),j=Re.useCallback(O=>{const E=De(i._fields,n);E&&E._f&&O&&(E._f.ref={focus:()=>ss(O.focus)&&O.focus(),select:()=>ss(O.select)&&O.select(),setCustomValidity:M=>ss(O.setCustomValidity)&&O.setCustomValidity(M),reportValidity:()=>ss(O.reportValidity)&&O.reportValidity()})},[i._fields,n]),L=Re.useMemo(()=>({name:n,value:m,...As(s)||g.disabled?{disabled:g.disabled||s}:{},onChange:_,onBlur:k,ref:j}),[n,s,g.disabled,_,k,j,m]);return Re.useEffect(()=>{const O=i._options.shouldUnregister||a,E=x.current;E&&E!==n&&!f&&i.unregister(E),i.register(n,{...y.current.rules,...As(y.current.disabled)?{disabled:y.current.disabled}:{}});const M=(T,I)=>{const P=De(i._fields,T);P&&P._f&&(P._f.mount=I)};if(M(n,!0),O){const T=xn(De(i._options.defaultValues,n,y.current.defaultValue));Ft(i._defaultValues,n,T),Zt(De(i._formValues,n))&&Ft(i._formValues,n,T)}return!f&&i.register(n),x.current=n,()=>{(f?O&&!i._state.action:O)?i.unregister(n):M(n,!1)}},[n,i,f,a]),Re.useEffect(()=>{i._setDisabledField({disabled:s,name:n})},[s,n,i]),Re.useMemo(()=>({field:L,formState:g,fieldState:C}),[L,g,C])}const GU=t=>t.render(qU(t)),YU=Re.createContext(null);YU.displayName="HookFormContext";var WU=(t,e,n,s,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:i||!0}}:{},Bu=t=>Array.isArray(t)?t:[t],nE=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function QO(t,e){const n={};for(const s in t)if(t.hasOwnProperty(s)){const i=t[s],a=e[s];if(i&&_n(i)&&a){const l=QO(i,a);_n(l)&&(n[s]=l)}else t[s]&&(n[s]=a)}return n}var es=t=>_n(t)&&!Object.keys(t).length,kx=t=>t.type==="file",ep=t=>{if(!_x)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},KO=t=>t.type==="select-multiple",Ox=t=>t.type==="radio",QU=t=>Ox(t)||Od(t),sv=t=>ep(t)&&t.isConnected;function KU(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Zt(t)?s++:t[e[s++]];return t}function XU(t){for(const e in t)if(t.hasOwnProperty(e)&&!Zt(t[e]))return!1;return!0}function wn(t,e){const n=Array.isArray(e)?e:Xp(e)?[e]:Ex(e),s=n.length===1?t:KU(t,n),i=n.length-1,a=n[i];return s&&delete s[a],i!==0&&(_n(s)&&es(s)||Array.isArray(s)&&XU(s))&&wn(t,n.slice(0,-1)),t}var ZU=t=>{for(const e in t)if(ss(t[e]))return!0;return!1};function XO(t){return Array.isArray(t)||_n(t)&&!ZU(t)}function hb(t,e={}){for(const n in t){const s=t[n];XO(s)?(e[n]=Array.isArray(s)?[]:{},hb(s,e[n])):Zt(s)||(e[n]=!0)}return e}function Nl(t,e,n){n||(n=hb(e));for(const s in t){const i=t[s];if(XO(i))Zt(e)||fb(n[s])?n[s]=hb(i,Array.isArray(i)?[]:{}):Nl(i,bs(e)?{}:e[s],n[s]);else{const a=e[s];n[s]=!Ei(i,a)}}return n}const sE={value:!1,isValid:!1},iE={value:!0,isValid:!0};var ZO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zt(t[0].attributes.value)?Zt(t[0].value)||t[0].value===""?iE:{value:t[0].value,isValid:!0}:iE:sE}return sE},JO=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Zt(t)?t:e?t===""?NaN:t&&+t:n&&Ps(t)?new Date(t):s?s(t):t;const rE={isValid:!1,value:null};var eL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,rE):rE;function aE(t){const e=t.ref;return kx(e)?e.files:Ox(e)?eL(t.refs).value:KO(e)?[...e.selectedOptions].map(({value:n})=>n):Od(e)?ZO(t.refs).value:JO(Zt(e.value)?t.ref.value:e.value,t)}var JU=(t,e,n,s)=>{const i={};for(const a of t){const l=De(e,a);l&&Ft(i,a,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:s}},tp=t=>t instanceof RegExp,cu=t=>Zt(t)?t:tp(t)?t.source:_n(t)?tp(t.value)?t.value.source:t.value:t,oE=t=>({isOnSubmit:!t||t===Ci.onSubmit,isOnBlur:t===Ci.onBlur,isOnChange:t===Ci.onChange,isOnAll:t===Ci.all,isOnTouch:t===Ci.onTouched});const lE="AsyncFunction";var ez=t=>!!t&&!!t.validate&&!!(ss(t.validate)&&t.validate.constructor.name===lE||_n(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===lE)),tz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),cE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Uu=(t,e,n,s)=>{for(const i of n||Object.keys(t)){const a=De(t,i);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!s)return!0;if(l.ref&&e(l.ref,l.name)&&!s)return!0;if(Uu(c,e))break}else if(_n(c)&&Uu(c,e))break}}};function uE(t,e,n){const s=De(t,n);if(s||Xp(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),l=De(e,a),c=De(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};i.pop()}return{name:n}}var nz=(t,e,n,s)=>{n(t);const{name:i,...a}=t;return es(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!s||Ci.all))},sz=(t,e,n)=>!t||!e||t===e||Bu(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),iz=(t,e,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?s.isOnBlur:i.isOnBlur)?!t:(n?s.isOnChange:i.isOnChange)?t:!0,rz=(t,e)=>!Cx(De(t,e)).length&&wn(t,e),az=(t,e,n)=>{const s=Bu(De(t,n));return Ft(s,"root",e[n]),Ft(t,n,s),t};function dE(t,e,n="validate"){if(Ps(t)||Array.isArray(t)&&t.every(Ps)||As(t)&&!t)return{type:n,message:Ps(t)?t:"",ref:e}}var vl=t=>_n(t)&&!tp(t)?t:{value:t,message:""},fE=async(t,e,n,s,i,a)=>{const{ref:l,refs:c,required:f,maxLength:h,minLength:m,min:g,max:y,pattern:x,validate:b,name:C,valueAsNumber:_,mount:k}=t._f,j=De(n,C);if(!k||e.has(C))return{};const L=c?c[0]:l,O=q=>{i&&L.reportValidity&&(L.setCustomValidity(As(q)?"":q||""),L.reportValidity())},E={},M=Ox(l),T=Od(l),I=M||T,P=(_||kx(l))&&Zt(l.value)&&Zt(j)||ep(l)&&l.value===""||j===""||Array.isArray(j)&&!j.length,z=WU.bind(null,C,s,E),G=(q,K,re,ce=br.maxLength,B=br.minLength)=>{const Q=q?K:re;E[C]={type:q?ce:B,message:Q,ref:l,...z(q?ce:B,Q)}};if(a?!Array.isArray(j)||!j.length:f&&(!I&&(P||bs(j))||As(j)&&!j||T&&!ZO(c).isValid||M&&!eL(c).isValid)){const{value:q,message:K}=Ps(f)?{value:!!f,message:f}:vl(f);if(q&&(E[C]={type:br.required,message:K,ref:L,...z(br.required,K)},!s))return O(K),E}if(!P&&(!bs(g)||!bs(y))){let q,K;const re=vl(y),ce=vl(g);if(!bs(j)&&!isNaN(j)){const B=l.valueAsNumber||j&&+j;bs(re.value)||(q=B>re.value),bs(ce.value)||(K=B<ce.value)}else{const B=l.valueAsDate||new Date(j),Q=pe=>new Date(new Date().toDateString()+" "+pe),se=l.type=="time",oe=l.type=="week";Ps(re.value)&&j&&(q=se?Q(j)>Q(re.value):oe?j>re.value:B>new Date(re.value)),Ps(ce.value)&&j&&(K=se?Q(j)<Q(ce.value):oe?j<ce.value:B<new Date(ce.value))}if((q||K)&&(G(!!q,re.message,ce.message,br.max,br.min),!s))return O(E[C].message),E}if((h||m)&&!P&&(Ps(j)||a&&Array.isArray(j))){const q=vl(h),K=vl(m),re=!bs(q.value)&&j.length>+q.value,ce=!bs(K.value)&&j.length<+K.value;if((re||ce)&&(G(re,q.message,K.message),!s))return O(E[C].message),E}if(x&&!P&&Ps(j)){const{value:q,message:K}=vl(x);if(tp(q)&&!j.match(q)&&(E[C]={type:br.pattern,message:K,ref:l,...z(br.pattern,K)},!s))return O(K),E}if(b){if(ss(b)){const q=await b(j,n),K=dE(q,L);if(K&&(E[C]={...K,...z(br.validate,K.message)},!s))return O(K.message),E}else if(_n(b)){let q={};for(const K in b){if(!es(q)&&!s)break;const re=dE(await b[K](j,n),L,K);re&&(q={...re,...z(K,re.message)},O(re.message),s&&(E[C]=q))}if(!es(q)&&(E[C]={ref:L,...q},!s))return E}}return O(!0),E};const oz={mode:Ci.onSubmit,reValidateMode:Ci.onChange,shouldFocusError:!0};function lz(t={}){let e={...oz,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ss(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=_n(e.defaultValues)||_n(e.values)?xn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:xn(i),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...m};let y={...g};const x={array:nE(),state:nE()},b=e.criteriaMode===Ci.all,C=F=>X=>{clearTimeout(h),h=setTimeout(F,X)},_=async F=>{if(!l.keepIsValid&&!e.disabled&&(g.isValid||y.isValid||F)){let X;e.resolver?(X=es((await I()).errors),k()):X=await z(s,!0),X!==n.isValid&&x.state.next({isValid:X})}},k=(F,X)=>{!e.disabled&&(g.isValidating||g.validatingFields||y.isValidating||y.validatingFields)&&((F||Array.from(c.mount)).forEach(ae=>{ae&&(X?Ft(n.validatingFields,ae,X):wn(n.validatingFields,ae))}),x.state.next({validatingFields:n.validatingFields,isValidating:!es(n.validatingFields)}))},j=(F,X=[],ae,Ee,ke=!0,Se=!0)=>{if(Ee&&ae&&!e.disabled){if(l.action=!0,Se&&Array.isArray(De(s,F))){const Pe=ae(De(s,F),Ee.argA,Ee.argB);ke&&Ft(s,F,Pe)}if(Se&&Array.isArray(De(n.errors,F))){const Pe=ae(De(n.errors,F),Ee.argA,Ee.argB);ke&&Ft(n.errors,F,Pe),rz(n.errors,F)}if((g.touchedFields||y.touchedFields)&&Se&&Array.isArray(De(n.touchedFields,F))){const Pe=ae(De(n.touchedFields,F),Ee.argA,Ee.argB);ke&&Ft(n.touchedFields,F,Pe)}(g.dirtyFields||y.dirtyFields)&&(n.dirtyFields=Nl(i,a)),x.state.next({name:F,isDirty:q(F,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ft(a,F,X)},L=(F,X)=>{Ft(n.errors,F,X),x.state.next({errors:n.errors})},O=F=>{n.errors=F,x.state.next({errors:n.errors,isValid:!1})},E=(F,X,ae,Ee)=>{const ke=De(s,F);if(ke){const Se=De(a,F,Zt(ae)?De(i,F):ae);Zt(Se)||Ee&&Ee.defaultChecked||X?Ft(a,F,X?Se:aE(ke._f)):ce(F,Se),l.mount&&!l.action&&_()}},M=(F,X,ae,Ee,ke)=>{let Se=!1,Pe=!1;const Ze={name:F};if(!e.disabled){if(!ae||Ee){(g.isDirty||y.isDirty)&&(Pe=n.isDirty,n.isDirty=Ze.isDirty=q(),Se=Pe!==Ze.isDirty);const rt=Ei(De(i,F),X);Pe=!!De(n.dirtyFields,F),rt?wn(n.dirtyFields,F):Ft(n.dirtyFields,F,!0),Ze.dirtyFields=n.dirtyFields,Se=Se||(g.dirtyFields||y.dirtyFields)&&Pe!==!rt}if(ae){const rt=De(n.touchedFields,F);rt||(Ft(n.touchedFields,F,ae),Ze.touchedFields=n.touchedFields,Se=Se||(g.touchedFields||y.touchedFields)&&rt!==ae)}Se&&ke&&x.state.next(Ze)}return Se?Ze:{}},T=(F,X,ae,Ee)=>{const ke=De(n.errors,F),Se=(g.isValid||y.isValid)&&As(X)&&n.isValid!==X;if(e.delayError&&ae?(f=C(()=>L(F,ae)),f(e.delayError)):(clearTimeout(h),f=null,ae?Ft(n.errors,F,ae):wn(n.errors,F)),(ae?!Ei(ke,ae):ke)||!es(Ee)||Se){const Pe={...Ee,...Se&&As(X)?{isValid:X}:{},errors:n.errors,name:F};n={...n,...Pe},x.state.next(Pe)}},I=async F=>(k(F,!0),await e.resolver(a,e.context,JU(F||c.mount,s,e.criteriaMode,e.shouldUseNativeValidation))),P=async F=>{const{errors:X}=await I(F);if(k(F),F)for(const ae of F){const Ee=De(X,ae);Ee?Ft(n.errors,ae,Ee):wn(n.errors,ae)}else n.errors=X;return X},z=async(F,X,ae={valid:!0})=>{for(const Ee in F){const ke=F[Ee];if(ke){const{_f:Se,...Pe}=ke;if(Se){const Ze=c.array.has(Se.name),rt=ke._f&&ez(ke._f);rt&&g.validatingFields&&k([Se.name],!0);const Ut=await fE(ke,c.disabled,a,b,e.shouldUseNativeValidation&&!X,Ze);if(rt&&g.validatingFields&&k([Se.name]),Ut[Se.name]&&(ae.valid=!1,X||t.shouldUseNativeValidation))break;!X&&(De(Ut,Se.name)?Ze?az(n.errors,Ut,Se.name):Ft(n.errors,Se.name,Ut[Se.name]):wn(n.errors,Se.name))}!es(Pe)&&await z(Pe,X,ae)}}return ae.valid},G=()=>{for(const F of c.unMount){const X=De(s,F);X&&(X._f.refs?X._f.refs.every(ae=>!sv(ae)):!sv(X._f.ref))&&Ae(F)}c.unMount=new Set},q=(F,X)=>!e.disabled&&(F&&X&&Ft(a,F,X),!Ei(A(),i)),K=(F,X,ae)=>db(F,c,{...l.mount?a:Zt(X)?i:Ps(F)?{[F]:X}:X},ae,X),re=F=>Cx(De(l.mount?a:i,F,e.shouldUnregister?De(i,F,[]):[])),ce=(F,X,ae={})=>{const Ee=De(s,F);let ke=X;if(Ee){const Se=Ee._f;Se&&(!Se.disabled&&Ft(a,F,JO(X,Se)),ke=ep(Se.ref)&&bs(X)?"":X,KO(Se.ref)?[...Se.ref.options].forEach(Pe=>Pe.selected=ke.includes(Pe.value)):Se.refs?Od(Se.ref)?Se.refs.forEach(Pe=>{(!Pe.defaultChecked||!Pe.disabled)&&(Array.isArray(ke)?Pe.checked=!!ke.find(Ze=>Ze===Pe.value):Pe.checked=ke===Pe.value||!!ke)}):Se.refs.forEach(Pe=>Pe.checked=Pe.value===ke):kx(Se.ref)?Se.ref.value="":(Se.ref.value=ke,Se.ref.type||x.state.next({name:F,values:xn(a)})))}(ae.shouldDirty||ae.shouldTouch)&&M(F,ke,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&pe(F)},B=(F,X,ae)=>{for(const Ee in X){if(!X.hasOwnProperty(Ee))return;const ke=X[Ee],Se=F+"."+Ee,Pe=De(s,Se);(c.array.has(F)||_n(ke)||Pe&&!Pe._f)&&!co(ke)?B(Se,ke,ae):ce(Se,ke,ae)}},Q=(F,X,ae={})=>{const Ee=De(s,F),ke=c.array.has(F),Se=xn(X);Ft(a,F,Se),ke?(x.array.next({name:F,values:xn(a)}),(g.isDirty||g.dirtyFields||y.isDirty||y.dirtyFields)&&ae.shouldDirty&&x.state.next({name:F,dirtyFields:Nl(i,a),isDirty:q(F,Se)})):Ee&&!Ee._f&&!bs(Se)?B(F,Se,ae):ce(F,Se,ae),cE(F,c)?x.state.next({...n,name:F,values:xn(a)}):x.state.next({name:l.mount?F:void 0,values:xn(a)})},se=async F=>{l.mount=!0;const X=F.target;let ae=X.name,Ee=!0;const ke=De(s,ae),Se=rt=>{Ee=Number.isNaN(rt)||co(rt)&&isNaN(rt.getTime())||Ei(rt,De(a,ae,rt))},Pe=oE(e.mode),Ze=oE(e.reValidateMode);if(ke){let rt,Ut;const _e=X.type?aE(ke._f):qO(F),le=F.type===Jh.BLUR||F.type===Jh.FOCUS_OUT,be=!tz(ke._f)&&!e.resolver&&!De(n.errors,ae)&&!ke._f.deps||iz(le,De(n.touchedFields,ae),n.isSubmitted,Ze,Pe),Ce=cE(ae,c,le);Ft(a,ae,_e),le?(!X||!X.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(F),f&&f(0)):ke._f.onChange&&ke._f.onChange(F);const He=M(ae,_e,le),xt=!es(He)||Ce;if(!le&&x.state.next({name:ae,type:F.type,values:xn(a)}),be)return(g.isValid||y.isValid)&&(e.mode==="onBlur"?le&&_():le||_()),xt&&x.state.next({name:ae,...Ce?{}:He});if(!le&&Ce&&x.state.next({...n}),e.resolver){const{errors:qt}=await I([ae]);if(k([ae]),Se(_e),Ee){const on=uE(n.errors,s,ae),Kt=uE(qt,s,on.name||ae);rt=Kt.error,ae=Kt.name,Ut=es(qt)}}else k([ae],!0),rt=(await fE(ke,c.disabled,a,b,e.shouldUseNativeValidation))[ae],k([ae]),Se(_e),Ee&&(rt?Ut=!1:(g.isValid||y.isValid)&&(Ut=await z(s,!0)));Ee&&(ke._f.deps&&(!Array.isArray(ke._f.deps)||ke._f.deps.length>0)&&pe(ke._f.deps),T(ae,Ut,rt,He))}},oe=(F,X)=>{if(De(n.errors,X)&&F.focus)return F.focus(),1},pe=async(F,X={})=>{let ae,Ee;const ke=Bu(F);if(e.resolver){const Se=await P(Zt(F)?F:ke);ae=es(Se),Ee=F?!ke.some(Pe=>De(Se,Pe)):ae}else F?(Ee=(await Promise.all(ke.map(async Se=>{const Pe=De(s,Se);return await z(Pe&&Pe._f?{[Se]:Pe}:Pe)}))).every(Boolean),!(!Ee&&!n.isValid)&&_()):Ee=ae=await z(s);return x.state.next({...!Ps(F)||(g.isValid||y.isValid)&&ae!==n.isValid?{}:{name:F},...e.resolver||!F?{isValid:ae}:{},errors:n.errors}),X.shouldFocus&&!Ee&&Uu(s,oe,F?ke:c.mount),Ee},A=(F,X)=>{let ae={...l.mount?a:i};return X&&(ae=QO(X.dirtyFields?n.dirtyFields:n.touchedFields,ae)),Zt(F)?ae:Ps(F)?De(ae,F):F.map(Ee=>De(ae,Ee))},R=(F,X)=>({invalid:!!De((X||n).errors,F),isDirty:!!De((X||n).dirtyFields,F),error:De((X||n).errors,F),isValidating:!!De(n.validatingFields,F),isTouched:!!De((X||n).touchedFields,F)}),V=F=>{F&&Bu(F).forEach(X=>wn(n.errors,X)),x.state.next({errors:F?n.errors:{}})},ee=(F,X,ae)=>{const Ee=(De(s,F,{_f:{}})._f||{}).ref,ke=De(n.errors,F)||{},{ref:Se,message:Pe,type:Ze,...rt}=ke;Ft(n.errors,F,{...rt,...X,ref:Ee}),x.state.next({name:F,errors:n.errors,isValid:!1}),ae&&ae.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},Y=(F,X)=>ss(F)?x.state.subscribe({next:ae=>"values"in ae&&F(K(void 0,X),ae)}):K(F,X,!0),je=F=>x.state.subscribe({next:X=>{sz(F.name,X.name,F.exact)&&nz(X,F.formState||g,Ys,F.reRenderRoot)&&F.callback({values:{...a},...n,...X,defaultValues:i})}}).unsubscribe,Te=F=>(l.mount=!0,y={...y,...F.formState},je({...F,formState:{...m,...F.formState}})),Ae=(F,X={})=>{for(const ae of F?Bu(F):c.mount)c.mount.delete(ae),c.array.delete(ae),X.keepValue||(wn(s,ae),wn(a,ae)),!X.keepError&&wn(n.errors,ae),!X.keepDirty&&wn(n.dirtyFields,ae),!X.keepTouched&&wn(n.touchedFields,ae),!X.keepIsValidating&&wn(n.validatingFields,ae),!e.shouldUnregister&&!X.keepDefaultValue&&wn(i,ae);x.state.next({values:xn(a)}),x.state.next({...n,...X.keepDirty?{isDirty:q()}:{}}),!X.keepIsValid&&_()},Be=({disabled:F,name:X})=>{if(As(F)&&l.mount||F||c.disabled.has(X)){const ke=c.disabled.has(X)!==!!F;F?c.disabled.add(X):c.disabled.delete(X),ke&&l.mount&&!l.action&&_()}},ve=(F,X={})=>{let ae=De(s,F);const Ee=As(X.disabled)||As(e.disabled);return Ft(s,F,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:F}},name:F,mount:!0,...X}}),c.mount.add(F),ae?Be({disabled:As(X.disabled)?X.disabled:e.disabled,name:F}):E(F,!0,X.value),{...Ee?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:cu(X.min),max:cu(X.max),minLength:cu(X.minLength),maxLength:cu(X.maxLength),pattern:cu(X.pattern)}:{},name:F,onChange:se,onBlur:se,ref:ke=>{if(ke){ve(F,X),ae=De(s,F);const Se=Zt(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,Pe=QU(Se),Ze=ae._f.refs||[];if(Pe?Ze.find(rt=>rt===Se):Se===ae._f.ref)return;Ft(s,F,{_f:{...ae._f,...Pe?{refs:[...Ze.filter(sv),Se,...Array.isArray(De(i,F))?[{}]:[]],ref:{type:Se.type,name:F}}:{ref:Se}}}),E(F,!1,void 0,Se)}else ae=De(s,F,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(GO(c.array,F)&&l.action)&&c.unMount.add(F)}}},Me=()=>e.shouldFocusError&&Uu(s,oe,c.mount),at=F=>{As(F)&&(x.state.next({disabled:F}),Uu(s,(X,ae)=>{const Ee=De(s,ae);Ee&&(X.disabled=Ee._f.disabled||F,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(ke=>{ke.disabled=Ee._f.disabled||F}))},0,!1))},ft=(F,X)=>async ae=>{let Ee;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let ke=xn(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:Se,values:Pe}=await I();k(),n.errors=Se,ke=xn(Pe)}else await z(s);if(c.disabled.size)for(const Se of c.disabled)wn(ke,Se);if(wn(n.errors,"root"),es(n.errors)){x.state.next({errors:{}});try{await F(ke,ae)}catch(Se){Ee=Se}}else X&&await X({...n.errors},ae),Me(),setTimeout(Me);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:es(n.errors)&&!Ee,submitCount:n.submitCount+1,errors:n.errors}),Ee)throw Ee},pn=(F,X={})=>{De(s,F)&&(Zt(X.defaultValue)?Q(F,xn(De(i,F))):(Q(F,X.defaultValue),Ft(i,F,xn(X.defaultValue))),X.keepTouched||wn(n.touchedFields,F),X.keepDirty||(wn(n.dirtyFields,F),n.isDirty=X.defaultValue?q(F,xn(De(i,F))):q()),X.keepError||(wn(n.errors,F),g.isValid&&_()),x.state.next({...n}))},it=(F,X={})=>{const ae=F?xn(F):i,Ee=xn(ae),ke=es(F),Se=ke?i:Ee;if(X.keepDefaultValues||(i=ae),!X.keepValues){if(X.keepDirtyValues){const Pe=new Set([...c.mount,...Object.keys(Nl(i,a))]);for(const Ze of Array.from(Pe)){const rt=De(n.dirtyFields,Ze),Ut=De(a,Ze),_e=De(Se,Ze);rt&&!Zt(Ut)?Ft(Se,Ze,Ut):!rt&&!Zt(_e)&&Q(Ze,_e)}}else{if(_x&&Zt(F))for(const Pe of c.mount){const Ze=De(s,Pe);if(Ze&&Ze._f){const rt=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(ep(rt)){const Ut=rt.closest("form");if(Ut){Ut.reset();break}}}}if(X.keepFieldsRef)for(const Pe of c.mount)Q(Pe,De(Se,Pe));else s={}}a=e.shouldUnregister?X.keepDefaultValues?xn(i):{}:xn(Se),x.array.next({values:{...Se}}),x.state.next({values:{...Se}})}c={mount:X.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!X.keepIsValid||!!X.keepDirtyValues||!e.shouldUnregister&&!es(Se),l.watch=!!e.shouldUnregister,l.keepIsValid=!!X.keepIsValid,l.action=!1,X.keepErrors||(n.errors={}),x.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:ke?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!Ei(F,i)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ke?{}:X.keepDirtyValues?X.keepDefaultValues&&a?Nl(i,a):n.dirtyFields:X.keepDefaultValues&&F?Nl(i,F):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ls=(F,X)=>it(ss(F)?F(a):F,{...e.resetOptions,...X}),cs=(F,X={})=>{const ae=De(s,F),Ee=ae&&ae._f;if(Ee){const ke=Ee.refs?Ee.refs[0]:Ee.ref;ke.focus&&setTimeout(()=>{ke.focus(),X.shouldSelect&&ss(ke.select)&&ke.select()})}},Ys=F=>{n={...n,...F}},Vn={control:{register:ve,unregister:Ae,getFieldState:R,handleSubmit:ft,setError:ee,_subscribe:je,_runSchema:I,_updateIsValidating:k,_focusError:Me,_getWatch:K,_getDirty:q,_setValid:_,_setFieldArray:j,_setDisabledField:Be,_setErrors:O,_getFieldArray:re,_reset:it,_resetDefaultValues:()=>ss(e.defaultValues)&&e.defaultValues().then(F=>{ls(F,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:at,_subjects:x,_proxyFormState:g,get _fields(){return s},get _formValues(){return a},get _state(){return l},set _state(F){l=F},get _defaultValues(){return i},get _names(){return c},set _names(F){c=F},get _formState(){return n},get _options(){return e},set _options(F){e={...e,...F}}},subscribe:Te,trigger:pe,register:ve,handleSubmit:ft,watch:Y,setValue:Q,getValues:A,reset:ls,resetField:pn,clearErrors:V,unregister:Ae,setError:ee,setFocus:cs,getFieldState:R};return{...Vn,formControl:Vn}}function Lx(t={}){const e=Re.useRef(void 0),n=Re.useRef(void 0),[s,i]=Re.useState({isDirty:!1,isValidating:!1,isLoading:ss(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ss(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!ss(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...c}=lz(t);e.current={...c,formState:s}}const a=e.current.control;return a._options=t,jx(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),Re.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Re.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Re.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Re.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Re.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==s.isDirty&&a._subjects.state.next({isDirty:l})}},[a,s.isDirty]),Re.useEffect(()=>{var l;t.values&&!Ei(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((l=a._options.resetOptions)===null||l===void 0)&&l.keepIsValid||a._setValid(),n.current=t.values,i(c=>({...c}))):a._resetDefaultValues()},[a,t.values]),Re.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=Re.useMemo(()=>WO(s,a),[a,s]),e.current}const tL=()=>{const t=as(),{handleError:e}=Hn(),n=Ct(c=>c.addToast),s=tt({mutationFn:({id:c,data:f})=>$i.updateOperational(c,f),onSuccess:(c,f)=>{n("Operational settings updated successfully","success"),t.invalidateQueries({queryKey:["restaurant",f.id]}),t.invalidateQueries({queryKey:["restaurants"]})},onError:e}),i=tt({mutationFn:({id:c,data:f})=>$i.updateAdminConfig(c,f),onSuccess:(c,f)=>{n("Restaurant configuration updated","success"),t.invalidateQueries({queryKey:["restaurant",f.id]}),t.invalidateQueries({queryKey:["restaurants"]})},onError:e}),a=tt({mutationFn:({id:c})=>$i.setPaymentConfig(c),onSuccess:c=>{n("Enlace de configuracin de cuenta en strip connect enviado exitosamente","success"),t.invalidateQueries({queryKey:["restaurants"]})},onError:e}),l=tt({mutationFn:({id:c})=>$i.generatePaymentLink(c),onSuccess:c=>{t.invalidateQueries({queryKey:["restaurants"]})},onError:e});return{updateOperational:s.mutateAsync,updateAdminConfig:i.mutateAsync,setupPaymentLink:a.mutateAsync,generatePaymentLink:l.mutateAsync,isUpdatingOperational:s.isPending,isUpdatingAdminConfig:i.isPending,isSettingUpPaymentLink:a.isPending,isGeneratingPaymentLink:l.isPending,operationalError:s.error,adminConfigError:i.error}},nL=({isOpen:t,onClose:e,restaurant:n,isAdminMode:s,onSuccess:i})=>{const{t:a}=Ve(),{updateOperational:l,updateAdminConfig:c,isUpdatingOperational:f,isUpdatingAdminConfig:h,setupPaymentLink:m,isSettingUpPaymentLink:g}=tL(),y=f||h,{control:x,register:b,handleSubmit:C,reset:_,watch:k}=Lx({defaultValues:{isOpen:n.isOpen,deliveryFee:Number(n.deliveryFee),averagePrepTimeMin:n.averagePrepTimeMin,commissionType:n.commissionType??ou.PERCENTAGE,commissionValue:Number(n.commissionValue??20),stripeFeePct:Number(n.stripeFeePct??3.6),stripeFeeFixed:Number(n.stripeFeeFixed??3)}});w.useEffect(()=>{t&&_({isOpen:n.isOpen,deliveryFee:Number(n.deliveryFee),averagePrepTimeMin:n.averagePrepTimeMin,commissionType:n.commissionType??ou.PERCENTAGE,commissionValue:Number(n.commissionValue??20),stripeFeePct:Number(n.stripeFeePct??3.6),stripeFeeFixed:Number(n.stripeFeeFixed??3)})},[t,n,_]);const j=async E=>{try{s?await c({id:n.id,data:{isOpen:E.isOpen,deliveryFee:Number(E.deliveryFee),averagePrepTimeMin:Number(E.averagePrepTimeMin),commissionType:E.commissionType,commissionValue:Number(E.commissionValue),stripeFeePct:Number(E.stripeFeePct),stripeFeeFixed:Number(E.stripeFeeFixed)}}):await l({id:n.id,data:{isOpen:E.isOpen,deliveryFee:Number(E.deliveryFee),averagePrepTimeMin:Number(E.averagePrepTimeMin)}}),i?.(),e()}catch(M){console.error("Update failed",M)}},L=async()=>{try{await m({id:n.id})}catch(E){console.error("Failed to send Stripe link",E)}},O=k("commissionType");return t?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-background-card w-full max-w-2xl rounded-3xl shadow-2xl border border-border flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:`p-6 border-b border-border flex justify-between items-center shrink-0 rounded-t-3xl ${s?"bg-purple-50/50 dark:bg-purple-900/10":""}`,children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[s?d.jsx(Rp,{className:"w-5 h-5 text-purple-600"}):d.jsx(xa,{className:"w-5 h-5 text-primary"}),d.jsx(H.H3,{className:"text-lg",children:a(s?"settings.admin_title":"settings.operational_title")})]}),d.jsx(H.Small,{className:"text-text-muted mt-1",children:s?a("settings.admin_subtitle",{name:n.name}):a("settings.operational_subtitle")})]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(rs,{className:"w-5 h-5 text-text-muted"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[d.jsxs("section",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ki,{className:"w-4 h-4 text-gray-400"}),d.jsx(H.Label,{className:"text-primary",children:a("settings.section_operations")})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"col-span-full bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl flex items-center justify-between border border-border",children:[d.jsxs("div",{children:[d.jsx(H.Body,{className:"font-medium",children:a("settings.store_status")}),d.jsx(H.Small,{className:"text-text-muted",children:a("settings.store_status_desc")})]}),d.jsx(GU,{name:"isOpen",control:x,render:({field:E})=>d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:E.value,onChange:M=>E.onChange(M.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})})]}),d.jsx(ze,{label:a("settings.delivery_fee"),type:"number",icon:d.jsx(fa,{className:"w-4 h-4 text-gray-400"}),...b("deliveryFee",{min:0,required:!0}),placeholder:"0.00"}),d.jsx(ze,{label:a("settings.prep_time"),type:"number",icon:d.jsx(Ki,{className:"w-4 h-4 text-gray-400"}),...b("averagePrepTimeMin",{min:0,required:!0}),placeholder:"20"})]})]}),s&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-px bg-border"}),d.jsxs("section",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-300",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(fa,{className:"w-4 h-4 text-purple-500"}),d.jsxs(H.Label,{className:"text-purple-600 dark:text-purple-400",children:[a("settings.section_financials")," (Admin Only)"]})]}),d.jsxs("div",{className:"bg-purple-50/50 dark:bg-purple-900/10 p-5 rounded-2xl border border-purple-100 dark:border-purple-900/30 space-y-5",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1.5",children:a("settings.commission_type")}),d.jsxs("select",{...b("commissionType"),className:"w-full rounded-xl border-border bg-background-input px-3 py-2.5 text-sm focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all",children:[d.jsx("option",{value:ou.PERCENTAGE,children:a("settings.comm_percentage")}),d.jsx("option",{value:ou.FIXED_AMOUNT,children:a("settings.comm_fixed")})]})]}),d.jsx(ze,{label:a("settings.commission_value"),type:"number",...b("commissionValue",{min:0,required:!0}),placeholder:"0.00",icon:O===ou.PERCENTAGE?"%":d.jsx(fa,{className:"w-3 h-3"})})]}),d.jsxs("div",{className:"pt-2 border-t border-purple-200/50 dark:border-purple-800/50",children:[d.jsx(H.Small,{className:"block mb-3 text-purple-600/70 font-medium",children:"Stripe Configuration"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(ze,{label:"Stripe Fee (%)",type:"number",step:"0.01",...b("stripeFeePct",{min:0})}),d.jsx(ze,{label:"Stripe Fixed ($)",type:"number",step:"0.01",...b("stripeFeeFixed",{min:0})})]})]})]})]})]})]}),d.jsxs("div",{className:"p-6 border-t border-border bg-gray-50/50 dark:bg-gray-900/20 shrink-0 flex justify-end gap-3 rounded-b-3xl",children:[s&&(!n.stripePayoutsEnabled||!n.stripeOnboardingCompleted||!n.stripeChargesEnabled)&&d.jsxs(Fe,{variant:"ghost",isLoading:g,onClick:()=>{L()},children:[d.jsx(dk,{className:"w-4 h-4 mr-2"}),a("payments.send_strip_link")]}),d.jsx(Fe,{variant:"secondary",onClick:e,disabled:y,children:a("common.cancel")}),d.jsx(Fe,{onClick:C(j),disabled:y,className:s?"bg-purple-600 hover:bg-purple-700 text-white border-transparent":"",children:y?a("common.saving"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"}),a(s?"common.save_config":"common.save_changes")]})})]})]})}):null},cz=({isSidebarCollapsed:t,mobile:e,restaurantId:n})=>{const{t:s}=Ve(),{activeRestaurant:i}=Tt(C=>C),{user:a}=$t(C=>C),{getRestaurantById:l,isLoading:c}=tc(),[f,h]=w.useState(null),[m,g]=w.useState(!1),y=n||i?.id||"",x=a?Vs(a):!1,b=async()=>{if(!y)return;const C=await l(y);h(C),g(!0)};return d.jsxs("div",{className:"p-4 border-t border-border",children:[m&&f&&d.jsx(nL,{isOpen:m,onClose:()=>g(!1),restaurant:f,isAdminMode:x,onSuccess:()=>{}}),d.jsxs("button",{disabled:c||!y,onClick:b,className:`
            w-full flex items-center p-3 rounded-xl transition-colors
            ${x?"text-purple-600 bg-purple-50 hover:bg-purple-100 dark:text-purple-400 dark:bg-purple-900/20 dark:hover:bg-purple-900/40":"text-gray-500 hover:text-white hover:bg-primary dark:hover:bg-primary"}
            ${t&&!e?"justify-center":""}
          `,children:[x?d.jsx(Ap,{className:`w-5 h-5 ${!t||e?"mr-3":""}`}):d.jsx(mk,{className:`w-5 h-5 ${!t||e?"mr-3":""}`}),(!t||e)&&d.jsx("span",{className:"font-medium text-sm",children:s(x?"settings.admin_config":"settings.title")})]})]})},hE=({mobile:t=!1})=>{const{t:e}=Ve(),n=Cs(),s=Ji(),{isSidebarCollapsed:i}=wx(),{logout:a,isLoading:l}=IU(),c=async()=>{await a()},{activeRestaurant:f}=Tt(),h=$t(x=>x.user),m=h?PU(h.role.name,!!f):[],g=x=>s.pathname.includes(x),y=()=>f?f.name:h?.role.name===Us.SUPER_ADMIN?"Super Admin Panel":e("restaurants.restaurants");return d.jsxs("div",{className:`
      h-full flex flex-col transition-all duration-300
      bg-background-sidebar border-r border-border
      ${t?"w-full":i?"w-20":"w-64"}
    `,children:[d.jsxs("div",{className:"h-20 flex items-center justify-center border-b border-border px-4",children:[f&&f.logoUrl?d.jsx("img",{src:f.logoUrl,alt:f.name,className:"w-10 h-10 rounded-full object-cover shadow-lg border-2 border-white dark:border-gray-600 bg-gray-100 shrink-0"}):d.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-primary/30 shadow-lg shrink-0",children:f?f.name.charAt(0).toUpperCase():"A"}),(!i||t)&&d.jsxs("div",{className:"ml-3 overflow-hidden",children:[d.jsx(H.Body,{className:"text-sm font-bold truncate leading-tight text-text-main",children:y()}),f&&d.jsx("p",{className:"text-[10px] text-text-muted font-medium uppercase tracking-wider truncate",children:e("restaurants.restaurants")})]})]}),d.jsx("div",{className:"flex-1 py-6 space-y-2 overflow-y-auto px-3",children:m.map(x=>d.jsxs("button",{onClick:()=>n(x.path),className:`
              w-full flex items-center p-3 rounded-xl transition-all duration-200 group
              ${g(x.path)?"bg-primary text-white shadow-md shadow-primary/20":"text-text-muted hover:bg-background hover:text-text-main"}
              ${i&&!t?"justify-center":""}
            `,children:[d.jsx(x.icon,{className:`w-5 h-5 ${!i||t?"mr-3":""}`}),(!i||t)&&d.jsx("span",{className:"font-medium text-sm",children:x.label})]},x.path))}),d.jsx("div",{children:f&&d.jsx(cz,{isSidebarCollapsed:i,mobile:t})}),d.jsx("div",{children:f&&d.jsx(zU,{isSidebarCollapsed:i,mobile:t})}),d.jsxs("div",{className:"p-4 border-t border-border",children:[d.jsxs("button",{disabled:l,onClick:c,className:`
            w-full flex items-center p-3 rounded-xl text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors
            ${i&&!t?"justify-center":""}
          `,children:[d.jsx(TP,{className:`w-5 h-5 ${!i||t?"mr-3":""}`}),(!i||t)&&d.jsx("span",{className:"font-medium text-sm",children:e("login.logout")})]}),d.jsx("span",{className:"text text-sm text-text-muted",children:"v.1.0.31"})]})]})},pE=()=>{const{t}=Ve(),e=Cs(),{isSidebarCollapsed:n}=wx(),{activeRestaurant:s,setActiveRestaurant:i}=Tt(),{user:a}=$t(),[l,c]=w.useState(!1),f=()=>c(!1),h=()=>c(!l),m=()=>{i(null),e("/admin/restaurants")},g=Vs(a)&&s;return d.jsxs("div",{className:"min-h-screen bg-background text-text-main font-sans flex flex-col transition-colors duration-300",children:[d.jsxs("div",{className:`md:hidden fixed inset-0 z-50 ${l?"pointer-events-auto":"pointer-events-none"}`,children:[d.jsx("div",{className:`absolute inset-0 bg-black/50 transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,onClick:f}),d.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-64 transition-transform duration-300 ${l?"translate-x-0":"-translate-x-full"}`,children:d.jsx(hE,{mobile:!0})})]}),d.jsx("div",{className:"hidden md:block fixed left-0 top-0 bottom-0 z-40",children:d.jsx(hE,{})}),d.jsxs("div",{className:`
          flex flex-col min-h-screen transition-all duration-300 ease-in-out
          ml-0
          ${n?"md:ml-20":"md:ml-64"}
        `,children:[d.jsxs("div",{className:"sticky top-0 z-30 flex flex-col shadow-sm",children:[g&&d.jsxs("div",{className:"bg-gray-900 text-white px-4 md:px-6 py-2 flex items-center justify-between border-b border-gray-800",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-1.5 bg-white/10 rounded-lg hidden sm:block",children:d.jsx(Wu,{className:"w-4 h-4 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wider",children:t("dashboard.view_as_admin")}),d.jsx("p",{className:"text-sm font-bold text-white leading-none",children:s?.name})]})]}),d.jsxs("button",{onClick:m,className:"text-xs font-bold bg-white/10 hover:bg-white/20 px-3 py-1.5 rounded-lg transition-colors flex items-center text-white",children:[d.jsx(Ub,{className:"w-3 h-3 mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:t("dashboard.back_global")}),d.jsx("span",{className:"sm:hidden",children:t("common.exit")})]})]}),d.jsx(RU,{onMobileMenuClick:h})]}),d.jsx("main",{className:"flex-1 p-6 overflow-x-hidden",children:d.jsx(sx,{})})]})]})},er=({className:t="",...e})=>d.jsxs("div",{className:`relative w-full ${t}`,children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(xd,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",className:`
          w-full py-3 pl-12 pr-4 
          bg-background border border-gray-200 rounded-xl 
          text-gray-700 placeholder-gray-400
          focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary
          transition-colors shadow-sm
        `,placeholder:"Search...",...e})]}),uz=({title:t,subtitle:e,actions:n,showNavBack:s=!0})=>{const i=Cs();return d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[s&&d.jsx("button",{onClick:()=>i(-1),className:`p-2 rounded-full transition-colors border border-transparent 
              hover:bg-background-card hover:shadow-sm hover:border-border
              text-text-muted hover:text-text-main`,title:"Go Back",children:d.jsx(Ub,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx(H.H1,{children:t}),e&&d.jsx(H.Body,{className:"text-text-muted mt-1",children:e})]})]}),d.jsx("div",{className:"flex items-center gap-3",children:n})]})},Vt=({title:t,subtitle:e,headerActions:n,showNavBack:s=!1,renderControls:i,isLoading:a,isEmpty:l,emptyLabel:c,emptyIcon:f=CP,children:h})=>{const{t:m}=Ve();return d.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 h-full flex flex-col pb-20",children:[d.jsx(uz,{title:t,subtitle:e,showNavBack:s,actions:n}),i&&d.jsx("div",{className:"bg-background-card p-4 rounded-3xl flex flex-col md:flex-row gap-4 items-center",children:i}),d.jsx("div",{className:"flex-1 min-h-[400px]",children:a?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-muted animate-in fade-in",children:[d.jsx(bd,{className:"w-10 h-10 animate-spin mb-4 text-primary"}),d.jsx("p",{className:"font-medium",children:m("common.loading_data")})]}):l?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 bg-background-card rounded-3xl border border-dashed border-border animate-in fade-in zoom-in-95",children:[d.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-full mb-4",children:d.jsx(f,{className:"w-8 h-8 text-text-muted"})}),d.jsx("p",{className:"text-text-muted font-medium",children:c??m("forms.no_items_found")})]}):h})]})},ut={PENDING:"PENDING",CONFIRMED:"CONFIRMED",PREPARING:"PREPARING",READY:"READY",ON_WAY:"ON_WAY",DELIVERED:"DELIVERED",COURIER_ARRIVING:"COURIER_ARRIVING",CANCELLED:"CANCELLED",INCOMPLETE_PAYMENT:"INCOMPLETE_PAYMENT"},np={DELIVERY:"DELIVERY"},rh={async getByRestaurant(t,e){const n=e?{status:e}:{};return(await Le.get(`/orders/restaurant/${t}`,{params:n})).data},async getOne(t){return(await Le.get(`/orders/${t}`)).data},async updateStatus(t,e){return(await Le.patch(`/orders/${t}/status`,e)).data},async assignDriver(t){return(await Le.patch(`/orders/${t.orderId}/assign-driver`,{driverId:t.driverId,status:t.status})).data},async getTracking(t){return(await Le.get(`/orders/${t}/tracking`)).data}},dz=t=>{const{t:e}=Ve(),n=as(),{handleError:s}=Hn(),i=Ct(b=>b.addToast),{activeRestaurant:a}=Tt(b=>b),l=["orders",a?.id,"all"],{data:c=[],isLoading:f,isError:h,refetch:m}=Nn({queryKey:l,queryFn:async()=>a?.id?rh.getByRestaurant(a.id,t):[],enabled:!!a?.id,refetchInterval:3e4,staleTime:1e4}),g=async b=>{const C=c.find(_=>_.id===b);if(C)return C;try{return await rh.getOne(b)}catch(_){return s(_),null}},y=tt({mutationFn:({id:b,status:C,timeInMinutes:_,note:k})=>rh.updateStatus(b,{status:C,timeInMinutes:_,note:k}),onSuccess:b=>{i(`${e("orders.status_updated")}: ${b.status}`,"success"),n.invalidateQueries({queryKey:["orders"]})},onError:s}),x=tt({mutationFn:b=>rh.assignDriver(b),onSuccess:()=>{i(e("orders.driver_assigned")||"Driver assigned","success"),n.invalidateQueries({queryKey:["orders"]})},onError:s});return{orders:c,isLoading:f,isError:h,refetch:m,getOrderById:g,updateStatus:y.mutateAsync,assignDriver:x.mutateAsync,isUpdating:y.isPending,isAssigning:x.isPending}},sL=6048e5,fz=864e5,Mx=6e4,Dx=36e5,hz=1e3,mE=Symbol.for("constructDateFrom");function kn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&mE in t?t[mE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qt(t,e){return kn(e||t,t)}function iL(t,e,n){const s=Qt(t,n?.in);return isNaN(e)?kn(n?.in||t,NaN):(e&&s.setDate(s.getDate()+e),s)}let pz={};function nc(){return pz}function Sa(t,e){const n=nc(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Qt(t,e?.in),a=i.getDay(),l=(a<s?7:0)+a-s;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Ul(t,e){return Sa(t,{...e,weekStartsOn:1})}function rL(t,e){const n=Qt(t,e?.in),s=n.getFullYear(),i=kn(n,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const a=Ul(i),l=kn(n,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const c=Ul(l);return n.getTime()>=a.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function sp(t){const e=Qt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function mz(t,...e){const n=kn.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function gE(t,e){const n=Qt(t,e?.in);return n.setHours(0,0,0,0),n}function gz(t,e,n){const[s,i]=mz(n?.in,t,e),a=gE(s),l=gE(i),c=+a-sp(a),f=+l-sp(l);return Math.round((c-f)/fz)}function yz(t,e){const n=rL(t,e),s=kn(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Ul(s)}function vz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bz(t){return!(!vz(t)&&typeof t!="number"||isNaN(+Qt(t)))}function xz(t,e){const n=Qt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sz=(t,e,n)=>{let s;const i=wz[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function iv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _z={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ez={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nz={date:iv({formats:_z,defaultWidth:"full"}),time:iv({formats:Cz,defaultWidth:"full"}),dateTime:iv({formats:Ez,defaultWidth:"full"})},jz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kz=(t,e,n,s)=>jz[t];function uu(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Oz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Az={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rz=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pz={ordinalNumber:Rz,era:uu({values:Oz,defaultWidth:"wide"}),quarter:uu({values:Lz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:uu({values:Mz,defaultWidth:"wide"}),day:uu({values:Dz,defaultWidth:"wide"}),dayPeriod:uu({values:Tz,defaultWidth:"wide",formattingValues:Az,defaultFormattingWidth:"wide"})};function du(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?Bz(c,g=>g.test(l)):Iz(c,g=>g.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(l.length);return{value:h,rest:m}}}function Iz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Bz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Uz(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const zz=/^(\d+)(th|st|nd|rd)?/i,Fz=/\d+/i,Hz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$z={any:[/^b/i,/^(a|c)/i]},Vz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qz={any:[/1/i,/2/i,/3/i,/4/i]},Gz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zz={ordinalNumber:Uz({matchPattern:zz,parsePattern:Fz,valueCallback:t=>parseInt(t,10)}),era:du({matchPatterns:Hz,defaultMatchWidth:"wide",parsePatterns:$z,defaultParseWidth:"any"}),quarter:du({matchPatterns:Vz,defaultMatchWidth:"wide",parsePatterns:qz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:du({matchPatterns:Gz,defaultMatchWidth:"wide",parsePatterns:Yz,defaultParseWidth:"any"}),day:du({matchPatterns:Wz,defaultMatchWidth:"wide",parsePatterns:Qz,defaultParseWidth:"any"}),dayPeriod:du({matchPatterns:Kz,defaultMatchWidth:"any",parsePatterns:Xz,defaultParseWidth:"any"})},aL={code:"en-US",formatDistance:Sz,formatLong:Nz,formatRelative:kz,localize:Pz,match:Zz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jz(t,e){const n=Qt(t,e?.in);return gz(n,xz(n))+1}function oL(t,e){const n=Qt(t,e?.in),s=+Ul(n)-+yz(n);return Math.round(s/sL)+1}function Tx(t,e){const n=Qt(t,e?.in),s=n.getFullYear(),i=nc(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=kn(e?.in||t,0);l.setFullYear(s+1,0,a),l.setHours(0,0,0,0);const c=Sa(l,e),f=kn(e?.in||t,0);f.setFullYear(s,0,a),f.setHours(0,0,0,0);const h=Sa(f,e);return+n>=+c?s+1:+n>=+h?s:s-1}function e8(t,e){const n=nc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Tx(t,e),a=kn(e?.in||t,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),Sa(a,e)}function lL(t,e){const n=Qt(t,e?.in),s=+Sa(n,e)-+e8(n,e);return Math.round(s/sL)+1}function Lt(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const ra={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Lt(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Lt(n+1,2)},d(t,e){return Lt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Lt(t.getHours()%12||12,e.length)},H(t,e){return Lt(t.getHours(),e.length)},m(t,e){return Lt(t.getMinutes(),e.length)},s(t,e){return Lt(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return Lt(i,e.length)}},bl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yE={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return ra.y(t,e)},Y:function(t,e,n,s){const i=Tx(t,s),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return Lt(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Lt(a,e.length)},R:function(t,e){const n=rL(t);return Lt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Lt(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Lt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Lt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return ra.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Lt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=lL(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Lt(i,e.length)},I:function(t,e,n){const s=oL(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Lt(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ra.d(t,e)},D:function(t,e,n){const s=Jz(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Lt(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Lt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Lt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return Lt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=bl.noon:s===0?i=bl.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=bl.evening:s>=12?i=bl.afternoon:s>=4?i=bl.morning:i=bl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return ra.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ra.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Lt(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Lt(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ra.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ra.s(t,e)},S:function(t,e){return ra.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return bE(s);case"XXXX":case"XX":return eo(s);default:return eo(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return bE(s);case"xxxx":case"xx":return eo(s);default:return eo(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vE(s,":");default:return"GMT"+eo(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vE(s,":");default:return"GMT"+eo(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Lt(s,e.length)},T:function(t,e,n){return Lt(+t,e.length)}};function vE(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+e+Lt(a,2)}function bE(t,e){return t%60===0?(t>0?"-":"+")+Lt(Math.abs(t)/60,2):eo(t,e)}function eo(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Lt(Math.trunc(s/60),2),a=Lt(s%60,2);return n+i+e+a}const xE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},cL=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},t8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return xE(t,e);let a;switch(s){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",xE(s,e)).replace("{{time}}",cL(i,e))},pb={p:cL,P:t8},n8=/^D+$/,s8=/^Y+$/,i8=["D","DD","YY","YYYY"];function uL(t){return n8.test(t)}function dL(t){return s8.test(t)}function mb(t,e,n){const s=r8(t,e,n);if(console.warn(s),i8.includes(t))throw new RangeError(s)}function r8(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const a8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l8=/^'([^]*?)'?$/,c8=/''/g,u8=/[a-zA-Z]/;function _a(t,e,n){const s=nc(),i=s.locale??aL,a=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Qt(t,n?.in);if(!bz(c))throw new RangeError("Invalid time value");let f=e.match(o8).map(m=>{const g=m[0];if(g==="p"||g==="P"){const y=pb[g];return y(m,i.formatLong)}return m}).join("").match(a8).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:d8(m)};if(yE[g])return{isToken:!0,value:m};if(g.match(u8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const h={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return f.map(m=>{if(!m.isToken)return m.value;const g=m.value;(dL(g)||uL(g))&&mb(g,e,String(t));const y=yE[g[0]];return y(c,g,i.localize,h)}).join("")}function d8(t){const e=t.match(l8);return e?e[1].replace(c8,"'"):t}function f8(t,e){return Qt(t,e?.in).getDay()}function h8(){return Object.assign({},nc())}function p8(t,e){const n=Qt(t,e?.in).getDay();return n===0?7:n}function m8(t,e){const n=g8(e)?new e(0):kn(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function g8(t){return typeof t=="function"&&t.prototype?.constructor===t}const y8=10;class fL{subPriority=0;validate(e,n){return!0}}class v8 extends fL{constructor(e,n,s,i,a){super(),this.value=e,this.validateValue=n,this.setValue=s,this.priority=i,a&&(this.subPriority=a)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,s){return this.setValue(e,n,this.value,s)}}class b8 extends fL{priority=y8;subPriority=-1;constructor(e,n){super(),this.context=e||(s=>kn(n,s))}set(e,n){return n.timestampIsSet?e:kn(e,m8(e,this.context))}}class Nt{run(e,n,s,i){const a=this.parse(e,n,s,i);return a?{setter:new v8(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,n,s){return!0}}class x8 extends Nt{priority=140;parse(e,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,n,s){return n.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const dn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function fn(t,e){return t&&{value:e(t.value),rest:t.rest}}function tn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function qi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const s=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,l=n[5]?parseInt(n[5],10):0;return{value:s*(i*Dx+a*Mx+l*hz),rest:e.slice(n[0].length)}}function hL(t){return tn(dn.anyDigitsSigned,t)}function an(t,e){switch(t){case 1:return tn(dn.singleDigit,e);case 2:return tn(dn.twoDigits,e);case 3:return tn(dn.threeDigits,e);case 4:return tn(dn.fourDigits,e);default:return tn(new RegExp("^\\d{1,"+t+"}"),e)}}function ip(t,e){switch(t){case 1:return tn(dn.singleDigitSigned,e);case 2:return tn(dn.twoDigitsSigned,e);case 3:return tn(dn.threeDigitsSigned,e);case 4:return tn(dn.fourDigitsSigned,e);default:return tn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Ax(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function pL(t,e){const n=e>0,s=n?e:1-e;let i;if(s<=50)i=t||100;else{const a=s+50,l=Math.trunc(a/100)*100,c=t>=a%100;i=t+l-(c?100:0)}return n?i:1-i}function mL(t){return t%400===0||t%4===0&&t%100!==0}class w8 extends Nt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,s){const i=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return fn(an(4,e),i);case"yo":return fn(s.ordinalNumber(e,{unit:"year"}),i);default:return fn(an(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s){const i=e.getFullYear();if(s.isTwoDigitYear){const l=pL(s.year,i);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const a=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class S8 extends Nt{priority=130;parse(e,n,s){const i=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return fn(an(4,e),i);case"Yo":return fn(s.ordinalNumber(e,{unit:"year"}),i);default:return fn(an(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s,i){const a=Tx(e,i);if(s.isTwoDigitYear){const c=pL(s.year,a);return e.setFullYear(c,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Sa(e,i)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(l,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Sa(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class _8 extends Nt{priority=130;parse(e,n){return ip(n==="R"?4:n.length,e)}set(e,n,s){const i=kn(e,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Ul(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class C8 extends Nt{priority=130;parse(e,n){return ip(n==="u"?4:n.length,e)}set(e,n,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class E8 extends Nt{priority=120;parse(e,n,s){switch(n){case"Q":case"QQ":return an(n.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class N8 extends Nt{priority=120;parse(e,n,s){switch(n){case"q":case"qq":return an(n.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class j8 extends Nt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,s){const i=a=>a-1;switch(n){case"M":return fn(tn(dn.month,e),i);case"MM":return fn(an(2,e),i);case"Mo":return fn(s.ordinalNumber(e,{unit:"month"}),i);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class k8 extends Nt{priority=110;parse(e,n,s){const i=a=>a-1;switch(n){case"L":return fn(tn(dn.month,e),i);case"LL":return fn(an(2,e),i);case"Lo":return fn(s.ordinalNumber(e,{unit:"month"}),i);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function O8(t,e,n){const s=Qt(t,n?.in),i=lL(s,n)-e;return s.setDate(s.getDate()-i*7),Qt(s,n?.in)}class L8 extends Nt{priority=100;parse(e,n,s){switch(n){case"w":return tn(dn.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return an(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s,i){return Sa(O8(e,s,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function M8(t,e,n){const s=Qt(t,n?.in),i=oL(s,n)-e;return s.setDate(s.getDate()-i*7),s}class D8 extends Nt{priority=100;parse(e,n,s){switch(n){case"I":return tn(dn.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return an(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s){return Ul(M8(e,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const T8=[31,28,31,30,31,30,31,31,30,31,30,31],A8=[31,29,31,30,31,30,31,31,30,31,30,31];class R8 extends Nt{priority=90;subPriority=1;parse(e,n,s){switch(n){case"d":return tn(dn.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return an(n.length,e)}}validate(e,n){const s=e.getFullYear(),i=mL(s),a=e.getMonth();return i?n>=1&&n<=A8[a]:n>=1&&n<=T8[a]}set(e,n,s){return e.setDate(s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class P8 extends Nt{priority=90;subpriority=1;parse(e,n,s){switch(n){case"D":case"DD":return tn(dn.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return an(n.length,e)}}validate(e,n){const s=e.getFullYear();return mL(s)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Rx(t,e,n){const s=nc(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=Qt(t,n?.in),l=a.getDay(),f=(e%7+7)%7,h=7-i,m=e<0||e>6?e-(l+h)%7:(f+h)%7-(l+h)%7;return iL(a,m,n)}class I8 extends Nt{priority=90;parse(e,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,i){return e=Rx(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class B8 extends Nt{priority=90;parse(e,n,s,i){const a=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return fn(an(n.length,e),a);case"eo":return fn(s.ordinalNumber(e,{unit:"day"}),a);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,i){return e=Rx(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class U8 extends Nt{priority=90;parse(e,n,s,i){const a=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return fn(an(n.length,e),a);case"co":return fn(s.ordinalNumber(e,{unit:"day"}),a);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,i){return e=Rx(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function z8(t,e,n){const s=Qt(t,n?.in),i=p8(s,n),a=e-i;return iL(s,a,n)}class F8 extends Nt{priority=90;parse(e,n,s){const i=a=>a===0?7:a;switch(n){case"i":case"ii":return an(n.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return fn(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return fn(s.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return fn(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i);default:return fn(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,n){return n>=1&&n<=7}set(e,n,s){return e=z8(e,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class H8 extends Nt{priority=80;parse(e,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(Ax(s),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class $8 extends Nt{priority=80;parse(e,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(Ax(s),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class V8 extends Nt{priority=80;parse(e,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(Ax(s),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class q8 extends Nt{priority=70;parse(e,n,s){switch(n){case"h":return tn(dn.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return an(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,s){const i=e.getHours()>=12;return i&&s<12?e.setHours(s+12,0,0,0):!i&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class G8 extends Nt{priority=70;parse(e,n,s){switch(n){case"H":return tn(dn.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return an(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,s){return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Y8 extends Nt{priority=70;parse(e,n,s){switch(n){case"K":return tn(dn.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return an(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class W8 extends Nt{priority=70;parse(e,n,s){switch(n){case"k":return tn(dn.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return an(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,s){const i=s<=24?s%24:s;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Q8 extends Nt{priority=60;parse(e,n,s){switch(n){case"m":return tn(dn.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return an(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setMinutes(s,0,0),e}incompatibleTokens=["t","T"]}class K8 extends Nt{priority=50;parse(e,n,s){switch(n){case"s":return tn(dn.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return an(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setSeconds(s,0),e}incompatibleTokens=["t","T"]}class X8 extends Nt{priority=30;parse(e,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return fn(an(n.length,e),s)}set(e,n,s){return e.setMilliseconds(s),e}incompatibleTokens=["t","T"]}class Z8 extends Nt{priority=10;parse(e,n){switch(n){case"X":return qi(Vi.basicOptionalMinutes,e);case"XX":return qi(Vi.basic,e);case"XXXX":return qi(Vi.basicOptionalSeconds,e);case"XXXXX":return qi(Vi.extendedOptionalSeconds,e);default:return qi(Vi.extended,e)}}set(e,n,s){return n.timestampIsSet?e:kn(e,e.getTime()-sp(e)-s)}incompatibleTokens=["t","T","x"]}class J8 extends Nt{priority=10;parse(e,n){switch(n){case"x":return qi(Vi.basicOptionalMinutes,e);case"xx":return qi(Vi.basic,e);case"xxxx":return qi(Vi.basicOptionalSeconds,e);case"xxxxx":return qi(Vi.extendedOptionalSeconds,e);default:return qi(Vi.extended,e)}}set(e,n,s){return n.timestampIsSet?e:kn(e,e.getTime()-sp(e)-s)}incompatibleTokens=["t","T","X"]}class eF extends Nt{priority=40;parse(e){return hL(e)}set(e,n,s){return[kn(e,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class tF extends Nt{priority=20;parse(e){return hL(e)}set(e,n,s){return[kn(e,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const nF={G:new x8,y:new w8,Y:new S8,R:new _8,u:new C8,Q:new E8,q:new N8,M:new j8,L:new k8,w:new L8,I:new D8,d:new R8,D:new P8,E:new I8,e:new B8,c:new U8,i:new F8,a:new H8,b:new $8,B:new V8,h:new q8,H:new G8,K:new Y8,k:new W8,m:new Q8,s:new K8,S:new X8,X:new Z8,x:new J8,t:new eF,T:new tF},sF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rF=/^'([^]*?)'?$/,aF=/''/g,oF=/\S/,lF=/[a-zA-Z]/;function ah(t,e,n,s){const i=()=>kn(n,NaN),a=h8(),l=a.locale??aL,c=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,f=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,h={firstWeekContainsDate:c,weekStartsOn:f,locale:l},m=[new b8(s?.in,n)],g=e.match(iF).map(_=>{const k=_[0];if(k in pb){const j=pb[k];return j(_,l.formatLong)}return _}).join("").match(sF),y=[];for(let _ of g){dL(_)&&mb(_,e,t),uL(_)&&mb(_,e,t);const k=_[0],j=nF[k];if(j){const{incompatibleTokens:L}=j;if(Array.isArray(L)){const E=y.find(M=>L.includes(M.token)||M.token===k);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${_}\` at the same time`)}else if(j.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);y.push({token:k,fullToken:_});const O=j.run(t,_,l.match,h);if(!O)return i();m.push(O.setter),t=O.rest}else{if(k.match(lF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(_==="''"?_="'":k==="'"&&(_=cF(_)),t.indexOf(_)===0)t=t.slice(_.length);else return i()}}if(t.length>0&&oF.test(t))return i();const x=m.map(_=>_.priority).sort((_,k)=>k-_).filter((_,k,j)=>j.indexOf(_)===k).map(_=>m.filter(k=>k.priority===_).sort((k,j)=>j.subPriority-k.subPriority)).map(_=>_[0]);let b=Qt(n,s?.in);if(isNaN(+b))return i();const C={};for(const _ of x){if(!_.validate(b,h))return i();const k=_.set(b,C,h);Array.isArray(k)?(b=k[0],Object.assign(C,k[1])):b=k}return b}function cF(t){return t.match(rF)[1].replace(aF,"'")}function wE(t,e,n){const s=+Qt(t,n?.in),[i,a]=[+Qt(e.start,n?.in),+Qt(e.end,n?.in)].sort((l,c)=>l-c);return s>=i&&s<=a}function uF(t,e){const n=()=>kn(e?.in,NaN),i=pF(t);let a;if(i.date){const h=mF(i.date,2);a=gF(h.restDateString,h.year)}if(!a||isNaN(+a))return n();const l=+a;let c=0,f;if(i.time&&(c=yF(i.time),isNaN(c)))return n();if(i.timezone){if(f=vF(i.timezone),isNaN(f))return n()}else{const h=new Date(l+c),m=Qt(0,e?.in);return m.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),m.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),m}return Qt(l+c+f,e?.in)}const oh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pF(t){const e={},n=t.split(oh.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],oh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(oh.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const i=oh.timezone.exec(s);i?(e.time=s.replace(i[1],""),e.timezone=i[1]):e.time=s}return e}function mF(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((s[1]||s[2]).length)}}function gF(t,e){if(e===null)return new Date(NaN);const n=t.match(dF);if(!n)return new Date(NaN);const s=!!n[4],i=fu(n[1]),a=fu(n[2])-1,l=fu(n[3]),c=fu(n[4]),f=fu(n[5])-1;if(s)return _F(e,c,f)?bF(e,c,f):new Date(NaN);{const h=new Date(0);return!wF(e,a,l)||!SF(e,i)?new Date(NaN):(h.setUTCFullYear(e,a,Math.max(i,l)),h)}}function fu(t){return t?parseInt(t):1}function yF(t){const e=t.match(fF);if(!e)return NaN;const n=rv(e[1]),s=rv(e[2]),i=rv(e[3]);return CF(n,s,i)?n*Dx+s*Mx+i*1e3:NaN}function rv(t){return t&&parseFloat(t.replace(",","."))||0}function vF(t){if(t==="Z")return 0;const e=t.match(hF);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return EF(s,i)?n*(s*Dx+i*Mx):NaN}function bF(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const i=s.getUTCDay()||7,a=(e-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+a),s}const xF=[31,null,31,30,31,30,31,31,30,31,30,31];function gL(t){return t%400===0||t%4===0&&t%100!==0}function wF(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(xF[e]||(gL(t)?29:28))}function SF(t,e){return e>=1&&e<=(gL(t)?366:365)}function _F(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function CF(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function EF(t,e){return e>=0&&e<=59}const Bt=({children:t,variant:e="default",className:n="",...s})=>{const i={default:"bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700",primary:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",success:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",warning:"bg-yellow-50 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",error:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800"};return d.jsx("span",{className:`
        inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border
        ${i[e]}
        ${n}
      `,...s,children:t})},NF=({order:t,onClick:e})=>{const{addToast:n}=Ct(),{t:s}=Ve(),a=(m=>{switch(m){case ut.PENDING:return{variant:"primary",icon:L_,textKey:"orders.status.new"};case ut.CONFIRMED:return{variant:"warning",icon:Qu,textKey:"orders.status.confirmed"};case ut.PREPARING:return{variant:"warning",icon:uP,textKey:"orders.status.cooking"};case ut.COURIER_ARRIVING:return{variant:"success",icon:Yi,textKey:"orders.status.courier_arriving"};case ut.READY:return{variant:"success",icon:Yi,textKey:"orders.status.ready"};case ut.ON_WAY:return{variant:"primary",icon:D_,textKey:"orders.status.on_way"};case ut.DELIVERED:return{variant:"default",icon:Yi,textKey:"orders.status.delivered"};case ut.CANCELLED:return{variant:"error",icon:ba,textKey:"orders.status.cancelled"};case ut.INCOMPLETE_PAYMENT:return{variant:"error",icon:ba,textKey:"orders.status.incomplete_payment"};default:return{variant:"default",icon:L_,textKey:`orders.status.${m}`}}})(t.status),l=a.icon,c=t.products.reduce((m,g)=>m+g.quantity,0),f=()=>t.statusHistory&&t.statusHistory.length>0?t.statusHistory[t.statusHistory.length-1].localTime:_a(new Date(t.createdAt),"d MMM, h:mm a"),h=m=>{m.stopPropagation(),navigator.clipboard.writeText(t.id),n(s("common.copied_to_clipboard"),"success")};return d.jsx("div",{className:"bg-background-card p-5 rounded-3xl shadow-sm border border-border flex flex-col h-full hover:shadow-md transition-all duration-300 group relative",children:d.jsxs("div",{className:"cursor-pointer flex-1",onClick:e,children:[d.jsxs("div",{className:"mb-3 flex justify-between items-start",children:[d.jsxs(Bt,{variant:a.variant,className:"flex items-center gap-1 self-center",children:[d.jsx(l,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"font-semibold",children:s(a.textKey)})]}),d.jsx("div",{className:"flex flex-col items-end",children:d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-gray-800/80 pl-2 pr-1 py-1 rounded-md border border-border/50 group/copy hover:border-primary/30 transition-colors",onClick:h,title:s("common.click_to_copy"),children:[d.jsxs("span",{className:"text-xs font-mono text-text-main font-medium",children:["#",t.id.slice(0,8)]}),d.jsx("button",{className:"p-1 rounded bg-white dark:bg-gray-700 text-text-muted group-hover/copy:text-primary group-hover/copy:bg-primary/10 transition-all",children:d.jsx(Hb,{className:"w-3 h-3"})})]})})]}),d.jsx("div",{className:"mb-4",children:d.jsxs(H.H3,{className:"mb-0 text-text-main font-bold truncate w-full text-lg leading-tight",title:`${t.customerSnapshot?.firstName} ${t.customerSnapshot?.lastName}`,children:[t.customerSnapshot?.firstName||s("common.guest")," ",t.customerSnapshot?.lastName||""]})}),d.jsxs("div",{className:"space-y-1.5 mb-4",children:[d.jsxs("div",{className:"flex items-center text-text-muted text-xs",children:[d.jsx(Ki,{className:"w-3.5 h-3.5 mr-2"}),f()]}),d.jsxs("div",{className:"flex items-center text-text-muted text-xs",children:[t.type===np.DELIVERY?d.jsx(D_,{className:"w-3.5 h-3.5 mr-2"}):d.jsx(Tl,{className:"w-3.5 h-3.5 mr-2"}),s(`orders.type.${t.type.toLowerCase()}`)]}),t.driverSnapshot&&d.jsxs("div",{className:"mt-3 flex items-center gap-3 bg-gray-50 dark:bg-gray-800/50 p-2.5 rounded-xl border border-border/50",children:[d.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden shrink-0 border border-border relative",children:t.driverSnapshot.photoUrl?d.jsx("img",{src:t.driverSnapshot.photoUrl,alt:t.driverSnapshot.fullName,className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:d.jsx(ck,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(H.Body,{className:"text-xs font-bold text-text-main truncate leading-tight",children:t.driverSnapshot.fullName}),d.jsxs("a",{href:`tel:${t.driverSnapshot.phone}`,onClick:m=>m.stopPropagation(),className:"flex items-center text-[10px] text-text-muted hover:text-primary transition-colors mt-0.5",children:[d.jsx(mi,{className:"w-3 h-3 mr-1"}),t.driverSnapshot.phone]})]})]}),t.type===np.DELIVERY&&t.deliveryAddress&&d.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${t.deliveryAddress.lat},${t.deliveryAddress.lng}`,target:"_blank",rel:"noopener noreferrer",onClick:m=>m.stopPropagation(),className:"flex items-start text-text-muted text-xs hover:text-primary transition-colors group/address mt-1",children:[d.jsx(mo,{className:"w-3.5 h-3.5 mr-2 mt-0.5 shrink-0 group-hover/address:text-primary transition-colors"}),d.jsx("span",{className:"truncate line-clamp-1 border-b border-transparent group-hover/address:border-primary/30",children:t.deliveryAddress.streetAddress})]})]}),d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx(H.Label,{className:"ml-0 text-text-main",children:s("orders.pickup_code")}),d.jsx(H.H3,{className:"ml-0 text-primary mb-0",children:t.pickupCode})]}),d.jsx("div",{className:"border-b border-dashed border-border my-3"}),d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs(H.Label,{className:"ml-0 text-text-main",children:[s("orders.items_count")," ",c]}),d.jsxs(H.H3,{className:"ml-0 text-primary mb-0",children:["$",Number(t.totalAmount).toFixed(2)]})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[t.products.slice(0,3).map((m,g)=>d.jsx("div",{className:"flex justify-between text-sm",children:d.jsxs("span",{className:"text-text-muted truncate pr-2",children:[d.jsxs("span",{className:"font-bold text-text-main",children:[m.quantity,"x"]})," ",m.name]})},g)),t.products.length>3&&d.jsxs("div",{className:"text-xs text-primary font-medium",children:["+ ",t.products.length-3," ",s("common.more"),"..."]})]})]})})},xl={async getAllByRestaurantId(t){return(await Le.get(`/drivers/restaurant/${t}`)).data},async getAll(){return(await Le.get("/drivers")).data},async getDriverById(t){return(await Le.get(`/drivers/${t}`)).data},async create(t){return(await Le.post("/drivers",t)).data},async update(t,e){return(await Le.patch(`/drivers/${t}`,e)).data},async updateStatus(t){await Le.patch(`/drivers/${t.id}/status`,t)}},rp=t=>{const e=as(),{handleError:n}=Hn(),s=Ct(C=>C.addToast),{activeRestaurant:i}=Tt(C=>C),{user:a}=$t(C=>C),l=i?.id,c=["drivers",l||"all"],{data:f=[],isLoading:h,isError:m}=Nn({queryKey:c,queryFn:async()=>(console.log(" Fetching drivers. Effective Context:",l||"NONE"),l?xl.getAllByRestaurantId(l):Vs(a)?xl.getAll():[]),enabled:!0}),g=async C=>{const k=e.getQueryData(c)?.find(j=>j.id===C);if(k)return k;try{return await xl.getDriverById(C)}catch(j){return n(j),null}},y=tt({mutationFn:C=>{const _={...C};return i?.id&&!_.restaurantId&&(_.restaurantId=i.id),xl.create(_)},onSuccess:C=>{console.log(" Driver created:",C),s("Driver created successfully","success"),e.invalidateQueries({queryKey:c})},onError:n}),x=tt({mutationFn:({id:C,data:_})=>xl.update(C,_),onSuccess:()=>{s("Driver updated successfully","success"),e.invalidateQueries({queryKey:c})},onError:n}),b=tt({mutationFn:({id:C,status:_})=>xl.updateStatus({id:C,status:_}),onSuccess:()=>{s("Driver status updated","info"),e.invalidateQueries({queryKey:c})},onError:n});return{drivers:f,isLoading:h,isError:m,createDriver:y.mutateAsync,updateDriver:x.mutateAsync,updateDriverStatus:b.mutateAsync,getDriverById:g,isCreating:y.isPending,isUpdating:x.isPending,isUpdatingStatus:b.isPending}},is=({label:t,children:e,className:n="",...s})=>d.jsxs("div",{className:"w-full",children:[t&&d.jsx(H.Label,{className:"mb-2 block",children:t}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{className:`
            w-full p-3 pr-10 border border-gray-200 rounded-xl
            focus:ring-1 focus:ring-primary focus:border-primary outline-none
            bg-background-card text-gray-700 text-sm appearance-none shadow-sm cursor-pointer
            ${n}
          `,...s,children:e}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400",children:d.jsx(Fb,{className:"w-4 h-4"})})]})]}),jF=({order:t,isOpen:e,onClose:n,onStatusChange:s})=>{const{t:i}=Ve(),{activeRestaurant:a}=Tt(E=>E),{drivers:l}=rp(),[c,f]=w.useState(!1),[h,m]=w.useState(15),[g,y]=w.useState(""),[x,b]=w.useState(!1);if(w.useEffect(()=>{e&&t&&(f(!1),m(a?.averagePrepTimeMin??15),y(t.driverId||""),b(!1))},[e,t,a]),!e||!t)return null;const C=E=>{E.target===E.currentTarget&&n()},_=E=>{switch(E){case ut.PENDING:return"primary";case ut.CONFIRMED:return"warning";case ut.PREPARING:return"warning";case ut.READY:return"success";case ut.ON_WAY:return"primary";case ut.DELIVERED:return"default";case ut.CANCELLED:return"error";default:return"default"}},k=t.deliveryAddress?`${t.deliveryAddress.streetAddress}, ${t.deliveryAddress.colony}, ${t.deliveryAddress.city}`:i("orders.pickup_at_restaurant"),j=()=>{s(ut.PREPARING,h??void 0),m(a?.averagePrepTimeMin??15)},L=()=>{s(ut.READY,void 0,g),y("")},O=()=>{s(ut.CONFIRMED,void 0,void 0)};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:C,children:d.jsxs("div",{className:"bg-background-card rounded-3xl shadow-2xl w-full max-w-5xl overflow-hidden flex flex-col max-h-[90vh] border border-border",children:[d.jsxs("div",{className:"px-8 py-6 border-b border-border flex justify-between items-start bg-background-card z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[d.jsxs(H.H3,{className:"text-2xl mb-0",children:[i("orders.order")," #",t.id.slice(0,6)]}),d.jsx(Bt,{variant:_(t.status),children:i(`orders.status.${t.status.toLowerCase()}`)})]}),d.jsxs(H.Small,{className:"font-medium flex items-center gap-2 text-text-muted",children:[d.jsx(Ki,{className:"w-4 h-4"}),_a(new Date(t.createdAt),"d MMM, h:mm a")]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors text-text-muted hover:text-text-main",children:d.jsx(rs,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[d.jsxs("div",{className:"flex-1 p-8 border-r border-border bg-background-card",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx(H.H3,{className:"mb-0",children:i("orders.items_ordered")}),d.jsxs(H.Small,{className:"text-text-muted font-medium",children:[t.products.reduce((E,M)=>E+M.quantity,0)," items"]})]}),d.jsx("div",{className:"space-y-6",children:t.products.map((E,M)=>d.jsxs("div",{className:"flex gap-4 items-start group",children:[d.jsxs("div",{className:"w-10 h-10 rounded-xl bg-primary/5 border border-primary/20 flex items-center justify-center font-bold text-primary shrink-0 text-sm",children:[E.quantity,"x"]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx(H.Body,{className:"font-bold text-text-main text-base",children:E.name}),d.jsxs(H.Body,{className:"font-bold text-text-main",children:["$",(Number(E.price)*E.quantity).toFixed(2)]})]}),E.modifiers&&E.modifiers.length>0&&d.jsx("div",{className:"mt-2 space-y-1",children:E.modifiers.map((T,I)=>d.jsxs("div",{className:"flex justify-between pl-2 border-l-2 border-border",children:[d.jsxs(H.Small,{className:"text-text-muted",children:["+ ",T.name]}),d.jsxs(H.Small,{className:"text-text-muted",children:["$",Number(T.price).toFixed(2)]})]},I))}),E.comment&&d.jsxs("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 px-2 py-1 rounded-lg border border-yellow-100 dark:border-yellow-900/30 inline-flex items-center gap-1",children:[d.jsx(M_,{className:"w-3 h-3"}),d.jsxs(H.Small,{className:"text-yellow-700 dark:text-yellow-400",children:['"',E.comment,'"']})]})]})]},M))})]}),d.jsxs("div",{className:"w-full lg:w-96 bg-gray-50 dark:bg-gray-900/30 p-8 space-y-8 h-full border-t lg:border-t-0 border-border",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(H.Label,{className:"uppercase tracking-wider text-xs font-bold text-text-muted",children:i("orders.customer_details")}),d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-full text-text-muted shadow-sm border border-border",children:d.jsx(Lr,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsxs(H.Body,{className:"font-bold text-text-main text-sm",children:[t.customerSnapshot?.firstName||i("orders.guest")," ",t.customerSnapshot?.lastName||""]}),d.jsx(H.Small,{className:"text-text-muted text-xs",children:t.customerSnapshot?.phone||i("orders.no_phone")})]})]}),d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-full text-text-muted shadow-sm border border-border",children:d.jsx(mo,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx(H.Body,{className:"font-bold text-text-main text-sm",children:t.type===np.DELIVERY?i("orders.delivery_address"):i("orders.pickup_point")}),d.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${t.deliveryAddress?.lat},${t.deliveryAddress?.lng}`,target:"_blank",rel:"noopener noreferrer",onClick:E=>E.stopPropagation(),className:"flex items-start text-text-muted text-xs  hover:text-primary transition-colors group/address mt-1",children:[d.jsx(mo,{className:"w-3.5 h-3.5 mr-2 mt-0.5 shrink-0 group-hover/address:text-primary transition-colors"}),d.jsx(H.Small,{className:"text-text-muted text-xs group-hover/address:text-primary leading-relaxed max-w-[200px]",children:k})]}),t.deliveryAddress?.details&&d.jsxs(H.Small,{className:"text-primary mt-1 font-medium",children:[""," ",t.deliveryAddress.details]})]})]}),d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-full text-text-muted shadow-sm border border-border",children:d.jsx($b,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx(H.Body,{className:"font-bold text-text-main text-sm",children:i("orders.payment_method")}),d.jsx(H.Small,{className:"text-text-muted text-xs capitalize",children:t.paymentMethod.replace("_"," ")}),t.paymentSnapshot&&t.paymentMethod=="CARD"&&d.jsxs("div",{className:"flex flex-col",children:[d.jsx(H.Small,{className:"text-text-muted text-xs capitalize",children:t.paymentSnapshot?.brand}),d.jsxs(H.Small,{className:"text-text-muted text-xs capitalize",children:["**** ",t.paymentSnapshot?.last4]})]}),t.changeFor&&d.jsxs(H.Small,{className:"text-orange-600 mt-1",children:[i("orders.change_for"),": $",t.changeFor]})]})]}),d.jsx("div",{children:t.status==ut.INCOMPLETE_PAYMENT&&t.incompletePaymentAmount&&d.jsxs("div",{className:"flex flex-col p-2 gap-2",children:[d.jsx(Bt,{variant:"error",children:i("orders.incomplete_payment")}),d.jsxs(Bt,{variant:"error",children:[i("orders.incomplete_payment_amount"),": $",t.incompletePaymentAmount]})]})}),t.driverSnapshot&&d.jsxs("div",{className:"mt-3 flex items-center gap-3 bg-white dark:bg-gray-800 p-3 rounded-xl border border-border/60 shadow-sm",children:[d.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden shrink-0 border border-border flex items-center justify-center",children:t.driverSnapshot.photoUrl?d.jsx("img",{src:t.driverSnapshot.photoUrl,alt:t.driverSnapshot.fullName,className:"w-full h-full object-cover"}):d.jsx(ck,{className:"w-5 h-5 text-gray-400"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(H.Label,{className:"text-[10px] text-text-muted uppercase font-bold tracking-wider mb-0.5",children:i("drivers.driver")}),d.jsx(H.Body,{className:"text-xs font-bold text-text-main truncate leading-tight",children:t.driverSnapshot.fullName}),d.jsxs("a",{href:`tel:${t.driverSnapshot.phone}`,className:"flex items-center text-[10px] text-primary hover:underline mt-0.5",children:[d.jsx(mi,{className:"w-3 h-3 mr-1"}),t.driverSnapshot.phone]})]})]})]}),d.jsx("div",{className:"border-t border-border"}),(t.restaurantNote||t.deliveryNote)&&d.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800/50",children:[d.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-400 mb-1",children:[d.jsx(M_,{className:"w-4 h-4"}),d.jsx(H.Label,{className:"font-bold text-xs uppercase text-yellow-800 dark:text-yellow-400",children:i("orders.instructions")})]}),d.jsxs("div",{className:"flex flex-col",children:[t.restaurantNote&&d.jsxs(H.Small,{className:"text-yellow-900 dark:text-yellow-200 font-medium italic mb-1",children:[i("orders.kitchen"),': "',t.restaurantNote,'"']}),t.deliveryNote&&d.jsxs(H.Small,{className:"text-yellow-900 dark:text-yellow-200 font-medium italic",children:[i("orders.delivery"),': "',t.deliveryNote,'"']})]})]}),t.couponCode&&d.jsxs("div",{className:"flex justify-between mt-4",children:[d.jsx(H.Small,{className:"text-text-muted font-bold",children:i("orders.coupon")}),d.jsx(H.Body,{className:"text-primary font-bold",children:t.couponCode})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(H.Label,{className:"uppercase tracking-wider text-xs font-bold text-text-muted",children:i("orders.payment_summary")}),d.jsxs("div",{className:"flex justify-between mt-4",children:[d.jsx(H.Small,{className:"text-text-muted",children:i("orders.subtotal")}),d.jsxs(H.Small,{className:"text-text-muted",children:["$",Number(t.subtotal).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx(H.Small,{className:"text-text-muted",children:i("orders.delivery_fee")}),d.jsxs(H.Small,{className:"text-text-muted",children:["$",Number(t.deliveryFee).toFixed(2)]})]}),Number(t.tip)>0&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx(H.Small,{className:"text-text-muted",children:i("orders.tip")}),d.jsxs(H.Small,{className:"text-text-muted",children:["$",Number(t.tip).toFixed(2)]})]}),t.discount!=null&&Number(t.discount)>0&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx(H.Small,{className:"text-text-muted",children:i("orders.totalWithDiscount")}),d.jsxs(H.Body,{className:"font-bold",children:["$",Number(t.totalAmount+t.discount).toFixed(2)]})]}),Number(t.discount)>0&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx(H.Small,{className:"text-text-muted",children:i("orders.discount")}),d.jsxs(H.Body,{className:"font-bold text-primary",children:["$",Number(t.discount).toFixed(2)]})]}),d.jsxs("div",{className:"border-t border-border my-2 pt-2 flex justify-between items-center",children:[d.jsx(H.Body,{className:"font-bold text-text-main text-lg",children:i("orders.total")}),d.jsxs(H.Body,{className:"font-bold text-primary text-xl",children:["$",Number(t.totalAmount).toFixed(2)]})]})]}),t.statusHistory&&t.statusHistory.length>0&&d.jsxs("div",{className:"mt-6 border-t border-border pt-4",children:[d.jsxs("button",{onClick:()=>b(!x),className:"flex items-center justify-between w-full text-left group",children:[d.jsxs("div",{className:"flex items-center gap-2 text-text-muted group-hover:text-primary transition-colors",children:[d.jsx(vP,{className:"w-4 h-4"}),d.jsx(H.Label,{className:"font-bold text-xs uppercase cursor-pointer",children:i("orders.status_history")})]}),x?d.jsx(HR,{className:"w-4 h-4 text-text-muted"}):d.jsx(Fb,{className:"w-4 h-4 text-text-muted"})]}),x&&d.jsx("div",{className:"mt-3 bg-white dark:bg-gray-800 rounded-xl border border-border overflow-hidden animate-in slide-in-from-top-2",children:d.jsxs("table",{className:"w-full text-xs",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-text-muted font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-3 py-2 text-left",children:i("orders.status_label")}),d.jsx("th",{className:"px-3 py-2 text-left",children:i("orders.history_user")}),d.jsx("th",{className:"px-3 py-2 text-right",children:i("orders.times")})]})}),d.jsx("tbody",{className:"divide-y divide-border",children:t.statusHistory.map((E,M)=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[d.jsx("td",{className:"px-3 py-2",children:d.jsx(Bt,{variant:_(E.status),className:"scale-90 origin-left",children:E.status})}),d.jsx("td",{children:E.changedBy.fullName}),d.jsx("td",{className:"px-3 py-2 text-right text-text-muted",children:_a(new Date(E.timestamp),"h:mm a")})]},M))})]})})]})]})]})}),d.jsxs("div",{className:"p-6 border-t border-border bg-background-card flex justify-between items-center z-10",children:[d.jsxs(Fe,{variant:"secondary",onClick:()=>window.print(),children:[d.jsx(ZP,{className:"w-4 h-4 mr-2"}),i("common.print_receipt")]}),d.jsxs("div",{className:"flex gap-3",children:[t.status===ut.PENDING&&d.jsxs(Fe,{onClick:O,className:"bg-orange-500 hover:bg-orange-600 text-white border-transparent",children:[d.jsx(Qu,{className:"w-4 h-4 mr-2"})," ",i("common.acceptOrder")]}),t.status===ut.CONFIRMED&&(c?d.jsxs("div",{className:"flex items-center gap-3 animate-in slide-in-from-right-5 duration-200",children:[d.jsxs("span",{className:"text-sm font-medium text-text-muted",children:[i("orders.estimated_time"),":"]}),d.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1 gap-1",children:[15,20,30,45].map(E=>d.jsxs("button",{onClick:()=>m(E),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${h===E?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-text-muted hover:text-text-main"}`,children:[E,"m"]},E))}),d.jsxs("div",{className:"relative w-20",children:[d.jsx("input",{type:"number",value:h,onChange:E=>m(Number(E.target.value)),className:"w-full pl-2 pr-6 py-1.5 text-sm font-bold border border-border rounded-lg bg-background text-center focus:ring-2 ring-primary outline-none"}),d.jsx("span",{className:"absolute right-2 top-1.5 text-xs text-text-muted",children:"m"})]}),d.jsxs(Fe,{onClick:j,className:"bg-orange-500 hover:bg-orange-600 text-white border-transparent",children:[d.jsx(Qu,{className:"w-4 h-4 mr-2"})," ",i("common.confirm")]}),d.jsx("button",{onClick:()=>f(!1),className:"p-2 text-text-muted hover:text-red-500 transition-colors",children:d.jsx(rs,{className:"w-5 h-5"})})]}):d.jsxs(Fe,{onClick:()=>f(!0),className:"bg-orange-500 hover:bg-orange-600 text-white border-transparent",children:[d.jsx(zb,{className:"w-4 h-4 mr-2"})," ",i("orders.actions.start_cooking")]})),t.status===ut.PREPARING&&(t.type===np.DELIVERY?d.jsxs("div",{className:"flex items-center align-center gap-2 animate-in fade-in",children:[d.jsx("div",{className:"w-48",children:d.jsxs(is,{value:g,onChange:E=>y(E.target.value),className:"text-sm",children:[d.jsx("option",{value:"",children:i("drivers.select_driver")}),l.map(E=>d.jsxs("option",{value:E.id,children:[E.firstName," ",E.lastName]},E.id))]})}),d.jsxs(Fe,{onClick:()=>L(),className:"bg-blue-600 hover:bg-blue-700 text-white border-transparent",disabled:!g,children:[d.jsx(Tl,{className:"w-4 h-4 mr-2"})," ",i("orders.actions.mark_ready")]})]}):d.jsxs(Fe,{onClick:()=>s(ut.READY),className:"bg-blue-600 hover:bg-blue-700 text-white border-transparent",children:[d.jsx(Tl,{className:"w-4 h-4 mr-2"})," ",i("orders.actions.mark_ready")]}))]})]})]})})},lh=[{id:"all",labelKey:"orders.tabs.all",statuses:[ut.PENDING,ut.CONFIRMED,ut.ON_WAY,ut.PREPARING,ut.READY]},{id:"new",labelKey:"orders.tabs.new",statuses:[ut.PENDING,ut.CONFIRMED]},{id:"cooking",labelKey:"orders.tabs.cooking",statuses:[ut.PREPARING]},{id:"ready",labelKey:"orders.tabs.ready",statuses:[ut.READY]},{id:"active",labelKey:"orders.tabs.active",statuses:[ut.ON_WAY,ut.COURIER_ARRIVING]},{id:"completed",labelKey:"orders.tabs.completed",statuses:[ut.DELIVERED,ut.CANCELLED]}],kF=()=>{const{t}=Ve(),[e,n]=w.useState("all"),[s,i]=w.useState(""),[a,l]=w.useState(null),[c,f]=w.useState(!1),{orders:h,isLoading:m,updateStatus:g,assignDriver:y}=dz(),{counts:x,filteredOrders:b}=w.useMemo(()=>{const j={all:0};lh.forEach(O=>j[O.id]=0);const L=h.filter(O=>{lh.forEach(z=>{z.statuses.includes(O.status)&&j[z.id]++});const E=lh.find(z=>z.id===e),M=E?E.statuses.includes(O.status):!0,T=s.toLowerCase(),I=`${O.customerSnapshot?.firstName||""} ${O.customerSnapshot?.lastName||""}`.toLowerCase(),P=!s||I.includes(T)||O.id.toLowerCase().includes(T);return M&&P});return{counts:j,filteredOrders:L}},[h,e,s]),C=j=>{l(j),f(!0)},_=()=>{f(!1),setTimeout(()=>l(null),300)},k=async(j,L,O,E)=>{E?await y({orderId:j,status:L,driverId:E}):await g({id:j,status:L,timeInMinutes:O})};return d.jsx(Vt,{title:t("orders.title"),subtitle:t("orders.subtitle"),isLoading:m,renderControls:d.jsx("div",{className:"w-full md:w-full",children:d.jsx(er,{placeholder:t("orders.search_placeholder"),value:s,onChange:j=>i(j.target.value)})}),children:d.jsxs("div",{className:"space-y-6 pb-20",children:[d.jsx("div",{className:"bg-background-card p-2 rounded-2xl border border-border shadow-sm inline-block w-full overflow-hidden",children:d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:lh.map(j=>d.jsxs("button",{onClick:()=>n(j.id),className:`
                  px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap
                  ${e===j.id?"bg-primary text-white shadow-md":"text-text-muted hover:bg-gray-100 dark:hover:bg-gray-800"}
                `,children:[d.jsx("span",{children:t(j.labelKey)}),d.jsx("span",{className:`
                    px-2 py-0.5 rounded-full text-xs font-bold
                    ${e===j.id?"bg-white/20 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}
                `,children:x[j.id]||0})]},j.id))})}),b.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:b.map(j=>d.jsx(NF,{order:j,onClick:()=>C(j)},j.id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-background-card rounded-3xl border border-dashed border-border text-center",children:[d.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-full mb-4",children:d.jsx(Tl,{className:"w-10 h-10 text-text-muted opacity-50"})}),d.jsx(H.H3,{className:"text-text-muted mb-2",children:t("orders.empty_list")}),d.jsx(H.Small,{className:"text-text-muted max-w-xs mx-auto",children:t("orders.empty_list_description")})]}),d.jsx(jF,{isOpen:c,order:a,onClose:_,onStatusChange:(j,L,O)=>{a&&(f(!1),k(a.id,j,L,O))}})]})})},hu={async getAll(){return(await Le.get("/users")).data},async getAllByRestaurantId(t){return(await Le.get(`/users/restaurant/all/${t}`)).data},async getUserById(t){return(await Le.get(`/users/${t}`)).data},async create(t){return(await Le.post("/users",t)).data},async update(t,e){return(await Le.patch(`/users/${t}`,e)).data}},Px=t=>{const e=as(),{handleError:n}=Hn(),s=Ct(b=>b.addToast),{user:i}=$t(b=>b),{activeRestaurant:a}=Tt(b=>b),l=a?.id,c=["users",l||"all"],{data:f=[],isLoading:h,isError:m}=Nn({queryKey:c,queryFn:async()=>(console.log(" Fetching users. Effective Restaurant Context:",l||"NONE (Global)"),l?hu.getAllByRestaurantId(l):Vs(i)?hu.getAll():[]),enabled:!0}),g=async b=>{const _=e.getQueryData(c)?.find(k=>k.id===b);if(_)return _;try{return await hu.getUserById(b)}catch(k){return n(k),null}},y=tt({mutationFn:b=>{const C={...b};return a?.id&&!C.restaurantId&&(C.restaurantId=a.id),hu.create(C)},onSuccess:b=>{console.log(" User created:",b),s("Usuario creado correctamente","success"),e.invalidateQueries({queryKey:c})},onError:n}),x=tt({mutationFn:({id:b,data:C})=>hu.update(b,C),onSuccess:()=>{s("Usuario actualizado","success"),e.invalidateQueries({queryKey:c})},onError:n});return{users:f,isLoading:h,isError:m,createUser:y.mutateAsync,updateUser:x.mutateAsync,getUserById:g,isCreating:y.isPending,isUpdating:x.isPending}},OF={async getAll(){return(await Le.get("/roles")).data.filter(e=>e.name!="super_admin"&&e.name!="client"&&e.name!="driver")}},LF=()=>{const{data:t=[],isLoading:e,isError:n,error:s}=Nn({queryKey:["roles"],queryFn:OF.getAll,staleTime:36e6});return{roles:t,isLoading:e,isError:n,error:s}},yL=({label:t,showAllOption:e=!1,valueMode:n="name",className:s="",disabled:i,...a})=>{const{t:l}=Ve(),{roles:c,isLoading:f}=LF();return f?d.jsx("div",{className:"absolute right-8 top-[38px] text-primary animate-spin",children:d.jsx(bd,{className:"w-4 h-4"})}):d.jsxs(is,{label:t,className:s,disabled:i,...a,children:[e&&d.jsx("option",{value:"All",children:l("roles.all")}),!e&&d.jsx("option",{value:"select",children:l("roles.select_role")}),c?.map(h=>d.jsx("option",{value:n==="id"?h.id:h.name,children:h.name.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase())},h.id))]})},en=()=>{const t=Cs(),{user:e}=$t(),s=Vs(e)?"/admin":"/dashboard",i=c=>{if(c==="/login"||c==="/404")return c;const f=c.startsWith("/")?c:`/${c}`;return`${s}${f}`};return{navigateTo:(c,f)=>{const h=i(c);t(h,f)},getPath:i,goBack:()=>{t(-1)}}},MF=({user:t,isOpen:e,onClose:n})=>{const{t:s}=Ve(),{navigateTo:i}=en();if(!e||!t)return null;const a=`https://ui-avatars.com/api/?name=${t.firstName}+${t.lastName}&background=random`;return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:n,children:d.jsxs("div",{className:"bg-background rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col relative",children:[d.jsx("div",{className:"h-32 bg-gradient-to-r from-primary/80 to-primary w-full absolute top-0 left-0 z-0"}),d.jsxs("div",{className:"z-10 px-8 pt-16 pb-8 flex flex-col items-center text-center",children:[d.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white shadow-md overflow-hidden bg-white mb-4",children:d.jsx("img",{src:t.profileImageUrl||a,alt:`${t.firstName} ${t.lastName}`,className:"w-full h-full object-cover"})}),d.jsxs(H.H3,{className:"text-xl mb-1",children:[t.firstName," ",t.lastName]}),d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide mb-6 bg-gray-100 text-gray-700",children:t.role.name.replace("_"," ")}),d.jsxs("div",{className:"w-full space-y-4 text-left bg-background-card p-6 rounded-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(lk,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("forms.username")}),d.jsxs("p",{className:"text-sm font-medium",children:["@",t.username]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(So,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("users.email")}),d.jsx("p",{className:"text-sm font-medium",children:t.email||"Not provided"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(mi,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("users.phone_number")}),d.jsx("p",{className:"text-sm font-medium",children:t.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(Ap,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("common.status")}),d.jsx("p",{className:"text-sm font-medium",children:t.status})]})]}),t.restaurant&&d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(xa,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("restaurants.restaurant")}),d.jsx("p",{className:"text-sm font-medium",children:t.restaurant.name})]})]})]}),d.jsxs("div",{className:"w-full mt-6 grid grid-cols-2 gap-4",children:[d.jsx(Fe,{variant:"secondary",onClick:n,children:s("common.close")}),d.jsxs(Fe,{onClick:()=>i(Dt.UserEdit(t.id)),children:[d.jsx(qs,{className:"w-4 h-4 mr-2"}),s("common.edit")]})]})]})]})})},Is={active:"active",inactive:"inactive"},Tr=({primary:t,secondary:e,tertiary:n,reverse:s=!1,className:i=""})=>{if(!t&&!e&&!n)return null;const a=[t,e,n].filter(Boolean).length,l=(f,h)=>{const m=f.icon;return d.jsxs(Fe,{variant:f.variant||h,fullWidth:!0,onClick:g=>{g.stopPropagation(),f.onClick(g)},disabled:f.disabled,className:"h-10 text-xs px-2 sm:px-4",children:[m&&d.jsx(m,{className:"w-3.5 h-3.5 mr-2 shrink-0"}),d.jsx("span",{className:"truncate",children:f.label})]})},c=`grid-cols-${a}`;return d.jsx("div",{className:`grid ${c} gap-3 pt-3 mt-auto border-t border-border ${i}`,children:s?d.jsxs(d.Fragment,{children:[t&&l(t,"primary"),e&&l(e,"secondary"),n&&l(n,"ghost")]}):d.jsxs(d.Fragment,{children:[n&&l(n,"ghost"),e&&l(e,"secondary"),t&&l(t,"primary")]})})},DF=({user:t,onEdit:e,onViewDetails:n})=>{const{t:s}=Ve(),i=l=>{const c=l?.toLowerCase()||"";return c.includes(Us.SUPER_ADMIN)?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":c.includes(Us.ADMIN)?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":c.includes(Us.MANAGER)?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300":c.includes("local_manager")?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"},a=`https://ui-avatars.com/api/?name=${t?.firstName}+${t?.lastName}&background=random&color=fff`;return d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border flex flex-col items-center text-center hover:shadow-md transition-all cursor-pointer group relative",children:[d.jsx("div",{className:"w-20 h-20 rounded-full mb-4 border-2 border-background-card shadow-sm overflow-hidden group-hover:scale-105 transition-transform duration-300 ring-2 ring-gray-100 dark:ring-gray-700",children:d.jsx("img",{src:t.profileImageUrl||a,alt:t.firstName,className:"w-full h-full object-cover"})}),d.jsxs(H.H3,{className:"text-lg mb-1",children:[t.firstName," ",t.lastName]}),d.jsxs(H.Small,{className:"text-xs mb-3 text-text-muted",children:["@",t.username]}),d.jsx("span",{className:`px-3 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide mb-6 ${i(t.role?.name||"Staff")}`,children:t.role?.name.replace("_"," ")||"Staff"}),d.jsxs("div",{className:"w-full border-t border-border pt-4 flex flex-col gap-3",children:[d.jsxs("div",{className:"flex  text-text-muted text-sm gap-2",children:[d.jsx(So,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate max-w-[180px]",children:t.email||"No email provided"})]}),d.jsxs("div",{className:"flex text-text-muted text-sm gap-2",children:[d.jsx(mi,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate max-w-[180px]",children:t.phone||"No phone"})]}),d.jsx("div",{className:"flex justify-center mt-1",children:d.jsxs("span",{className:`
    inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border
    ${t.status==="active"?"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800":"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800"}
  `,children:[d.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${t.status===Is.active?"bg-green-500":"bg-red-500"}`}),t.status]})}),d.jsx(Tr,{secondary:{label:s("common.edit"),icon:qs,onClick:e},primary:{label:s("common.details"),icon:Yl,onClick:n}})]})]})},SE=()=>{const{t}=Ve(),{users:e,isLoading:n}=Px(),[s,i]=w.useState(""),[a,l]=w.useState("All"),{navigateTo:c}=en(),[f,h]=w.useState(null),[m,g]=w.useState(!1),y=(e||[]).filter(b=>{const _=`${b.firstName} ${b.lastName}`.toLowerCase().includes(s.toLowerCase())||b.email?.toLowerCase().includes(s.toLowerCase())||b.username.toLowerCase().includes(s.toLowerCase()),k=b.role?.name?.toLowerCase()||"",j=a==="All"||k===a.toLowerCase();return _&&j}),x=b=>{h(b),g(!0)};return d.jsx(Vt,{title:t("users.user"),subtitle:t("users.description"),headerActions:d.jsxs(Fe,{onClick:()=>c(Dt.UserAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("users.add")]}),isLoading:n,isEmpty:y.length===0,renderControls:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full md:flex-1",children:d.jsx(er,{placeholder:t("common.search"),value:s,onChange:b=>i(b.target.value)})}),d.jsx("div",{className:"w-full md:w-64",children:d.jsx(yL,{value:a,onChange:b=>l(b.target.value),showAllOption:!0,valueMode:"name"})})]}),emptyLabel:t("users.empty"),emptyIcon:Lr,children:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-10",children:y.map(b=>d.jsx(DF,{user:b,onEdit:()=>c(Dt.UserEdit(b.id)),onViewDetails:()=>x(b)},b.id))}),d.jsx(MF,{isOpen:m,user:f,onClose:()=>g(!1)})]})})},wl={async getAllByRestaurantId(t){return(await Le.get(`/menu-sections/restaurant/${t}`)).data},async getById(t){return(await Le.get(`/menu-sections/${t}`)).data},async create(t){return(await Le.post("/menu-sections",t)).data},async update(t,e){return(await Le.patch(`/menu-sections/${t}`,e)).data},async toggleStatus(t,e){return(await Le.patch(`/menu-sections/${t}/status`,e)).data},async delete(t){await Le.delete(`/menu-sections/${t}`)}},Zp=t=>{const e=as(),{handleError:n}=Hn(),s=Ct(C=>C.addToast),{activeRestaurant:i}=Tt(C=>C),a=i?.id,l=["menu-sections",a||"all"],{data:c=[],isLoading:f,isError:h}=Nn({queryKey:l,queryFn:()=>(console.log(" Fetching sections for restaurant:",a),a?wl.getAllByRestaurantId(a):Promise.resolve([])),enabled:!!a}),m=async C=>{const k=e.getQueryData(l)?.find(j=>j.id===C);if(k)return k;try{return await wl.getById(C)}catch(j){return n(j),null}},g=tt({mutationFn:wl.create,onSuccess:()=>{s("Section created successfully","success"),e.invalidateQueries({queryKey:l})},onError:n}),y=tt({mutationFn:({id:C,data:_})=>wl.update(C,_),onSuccess:()=>{s("Section updated","success"),e.invalidateQueries({queryKey:l})},onError:n}),x=tt({mutationFn:wl.delete,onSuccess:()=>{s("Section deleted","success"),e.invalidateQueries({queryKey:l})},onError:n}),b=tt({mutationFn:({id:C,data:_})=>wl.toggleStatus(C,_),onSuccess:()=>{s("Section updated","success"),e.invalidateQueries({queryKey:l})},onError:n});return{sections:c,isLoading:f,isError:h,createSection:g.mutateAsync,updateSection:y.mutateAsync,deleteSection:x.mutateAsync,getSectionById:m,updateStatus:b.mutateAsync,isCreating:g.isPending,isUpdating:y.isPending,isDeleting:x.isPending,isToggleStatus:b.isPending}},pu={async getAllByRestaurant(t){return(await Le.get(`/products/restaurant/${t}`)).data},async getById(t){return(await Le.get(`/products/${t}`)).data},async create(t){return(await Le.post("/products",t)).data},async update(t,e){return(await Le.patch(`/products/${t}`,e)).data},async toggleAvailability(t,e){const n=e?"active":"inactive";return(await Le.patch(`/products/${t}/status`,{status:n})).data}},Jp=()=>{const t=as(),{handleError:e}=Hn(),{activeRestaurant:n}=Tt(),s=Ct(y=>y.addToast),i=["products",n?.id||"all"],{data:a=[],isLoading:l,isError:c}=Nn({queryKey:i,queryFn:async()=>n?.id?pu.getAllByRestaurant(n.id):[],enabled:!!n?.id}),f=async y=>{const b=t.getQueryData(i)?.find(C=>C.id===y);if(b)return b;try{return await pu.getById(y)}catch(C){return e(C),null}},h=tt({mutationFn:y=>pu.create(y),onSuccess:()=>{s("Product created successfully","success"),t.invalidateQueries({queryKey:i})},onError:e}),m=tt({mutationFn:({id:y,data:x})=>pu.update(y,x),onSuccess:()=>{s("Product updated successfully","success"),t.invalidateQueries({queryKey:i})},onError:e}),g=tt({mutationFn:({id:y,isAvailable:x})=>pu.toggleAvailability(y,x),onSuccess:(y,x)=>{const b=x.isAvailable?"Available":"Sold Out";s(`Product marked as ${b}`,"success"),t.invalidateQueries({queryKey:i})},onError:e});return{products:a,isLoading:l,isError:c,getProductById:f,createProduct:h.mutateAsync,updateProduct:m.mutateAsync,toggleAvailability:g.mutateAsync,isCreating:h.isPending,isUpdating:m.isPending,isUpdaingStatus:g.isPending}},Ld=({label:t,options:e,value:n,onChange:s,className:i="",isLoading:a=!1,disabled:l=!1})=>{const c=!a&&!l;return d.jsxs("div",{className:i,children:[t&&d.jsx(H.Label,{className:"mb-1.5 block",children:t}),d.jsx("div",{className:`flex p-1 rounded-xl bg-background border border-border transition-opacity duration-200 ${c?"":"opacity-60 cursor-not-allowed"}`,children:e.map(f=>{const h=n===f.value;return d.jsxs("button",{type:"button",disabled:!c,onClick:()=>s(f.value),className:`
                flex-1 flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all relative overflow-hidden
                ${c?"cursor-pointer":"cursor-not-allowed"}
                ${h?"text-primary bg-background-card shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-text-muted hover:text-text-main hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}
              `,children:[a&&h?d.jsx(bd,{className:"w-3.5 h-3.5 animate-spin text-primary"}):f.icon&&d.jsx("span",{className:h?"text-primary":"text-gray-400",children:f.icon}),d.jsx("span",{children:f.label})]},f.value)})})]})},TF=({product:t,isLoading:e,onEdit:n,onViewDetails:s,onToggleAvailability:i})=>{const{t:a}=Ve(),l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.price),c=t.menuSections?.map(f=>f.name).filter(Boolean)||[];return c.length===0&&c.push("Uncategorized"),d.jsxs("div",{className:"bg-background-card rounded-3xl overflow-hidden border border-border shadow-sm hover:shadow-md transition-all group flex flex-col h-full relative",children:[d.jsxs("div",{className:"h-44 relative overflow-hidden bg-gray-100 dark:bg-gray-800",children:[t.imageUrl?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 transition-opacity group-hover:opacity-50"})]}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-text-muted",children:d.jsx(wP,{className:"w-8 h-8 opacity-50"})}),d.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-1 max-w-[85%]",children:[d.jsx(Bt,{variant:"primary",children:c[0]}),c.length>1&&d.jsxs(Bt,{variant:"primary",children:["+",c.length-1]})]}),d.jsxs("div",{className:"absolute bottom-3 right-3",children:[!t.isAvailable&&d.jsx(Bt,{variant:"error",className:"mr-2",children:a("products.sold_out")}),d.jsx(Bt,{variant:"success",children:l})]})]}),d.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[d.jsxs("div",{className:"mb-5",children:[d.jsx(H.H3,{className:"text-lg mb-1 line-clamp-1",title:t.name,children:t.name}),d.jsx(H.Body,{className:"text-xs text-text-muted line-clamp-2 h-9 leading-relaxed",title:t.description,children:t.description||a("products.no_description")})]}),d.jsxs("div",{className:"mt-auto space-y-4",children:[d.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-1 rounded-xl",children:d.jsx(Ld,{isLoading:e,disabled:e,value:t.isAvailable?"true":"false",onChange:f=>i(f==="true"),options:[{value:"true",label:a("products.available"),icon:d.jsx(Yi,{className:"w-3.5 h-3.5"})},{value:"false",label:a("products.sold_out"),icon:d.jsx(Ku,{className:"w-3.5 h-3.5"})}]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-border",children:[d.jsxs(Fe,{variant:"primary",onClick:n,className:"h-10 text-xs px-0",children:[d.jsx(qs,{className:"w-4 h-4 mr-2"})," ",a("common.edit")]}),d.jsxs(Fe,{variant:"secondary",onClick:s,className:"h-10 text-xs px-0",children:[d.jsx(Yl,{className:"w-4 h-4 mr-2"})," ",a("common.details")]})]})]})]})]})},AF=({isOpen:t,onClose:e,product:n,onEdit:s,onToggleOptionStatus:i})=>{const{t:a}=Ve(),[l,c]=w.useState(null);if(!t||!n)return null;const f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g),h=async(g,y)=>{if(i){c(g);try{await i(g,y)}catch(x){console.error("Failed to toggle status",x)}finally{c(null)}}},m=[{value:Is.active,label:a("products.available"),icon:d.jsx(Yi,{className:"w-3.5 h-3.5"})},{value:Is.inactive,label:a("products.sold_out"),icon:d.jsx(Ku,{className:"w-3.5 h-3.5"})}];return d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),d.jsxs("div",{className:"relative bg-white dark:bg-gray-900 w-full max-w-2xl max-h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"relative h-48 sm:h-64 shrink-0 bg-gray-100 dark:bg-gray-800",children:[n.imageUrl?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent"})]}):d.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:d.jsx(wd,{className:"w-16 h-16 text-gray-300 dark:text-gray-600"})}),d.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-black/40 hover:bg-black/60 text-white flex items-center justify-center backdrop-blur-md transition-colors z-10",children:d.jsx(rs,{className:"w-5 h-5"})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 sm:p-8",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.menuSections?.map(g=>d.jsx(Bt,{className:"bg-primary/90 text-white border-none backdrop-blur-md",children:g.name},g.id))}),d.jsx(H.H3,{className:"text-2xl sm:text-3xl font-bold text-white leading-tight drop-shadow-sm",children:n.name})]}),d.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full backdrop-blur-md border ${n.isAvailable?"bg-green-500/20 border-green-400/30 text-green-100":"bg-red-500/20 border-red-400/30 text-red-100"}`,children:[n.isAvailable?d.jsx(Yi,{className:"w-4 h-4"}):d.jsx(Ku,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium text-sm",children:n.isAvailable?a("products.available"):a("products.sold_out")})]})]})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(H.Label,{children:a("common.description")}),d.jsx(H.Body,{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:n.description||d.jsx("span",{className:"italic text-gray-400",children:a("common.empty_description")})})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-5 rounded-2xl border border-border space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center text-text-muted text-sm font-medium",children:[d.jsx(fa,{className:"w-4 h-4 mr-2"})," ",a("products.price")]}),d.jsx("span",{className:"text-lg font-bold text-text-main",children:f(n.price)})]}),d.jsx("div",{className:"w-full h-px bg-border/60"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center text-text-muted text-sm font-medium",children:[d.jsx(Ki,{className:"w-4 h-4 mr-2"})," ",a("products.prep_min_time")]}),d.jsx("span",{className:"text-text-main font-medium",children:n.prepTimeMin?`${n.prepTimeMin} min`:"--"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center text-text-muted text-sm font-medium",children:[d.jsx(Ki,{className:"w-4 h-4 mr-2"})," ",a("products.prep_max_time")]}),d.jsx("span",{className:"text-text-main font-medium",children:n.prepTimeMax?`${n.prepTimeMax} min`:"--"})]})]})]}),n.modifierGroups&&n.modifierGroups.length>0&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border",children:[d.jsx(ba,{className:"w-5 h-5 text-primary"}),d.jsx(H.H3,{className:"mb-0",children:a("products.modifiers")})]}),d.jsx("div",{className:"grid gap-6",children:n.modifierGroups.map(g=>{const y=g.status===Is.active;return d.jsxs("div",{className:`bg-background-card border border-border rounded-2xl overflow-hidden ${y?"":"opacity-75 grayscale-[0.5]"}`,children:[d.jsx("div",{className:"bg-gray-100/80 dark:bg-gray-800 p-4 flex flex-wrap items-center justify-between gap-3",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(H.H3,{className:"mb-0",children:g.name}),!y&&d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-500",children:a("common.inactive")})]}),d.jsxs("div",{className:"text-xs text-text-muted flex gap-2 mt-1",children:[d.jsx(Bt,{variant:g.isRequired?"warning":"default",className:"h-5 text-[10px]",children:g.isRequired?a("products.required"):a("products.optional")}),d.jsxs("span",{className:"self-center",children:["Min: ",g.minSelected," / Max:"," ",g.maxSelected]})]})]})}),d.jsx("div",{className:"divide-y divide-border/60",children:g.options.map(x=>d.jsxs("div",{className:"p-3 pl-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"text-gray-400",children:x?.linkedProduct?.imageUrl?d.jsx("img",{src:x?.linkedProduct?.imageUrl,alt:x.name,className:"w-8 h-8 rounded-md object-cover border border-border"}):d.jsx("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 transition-colors duration-300 ${x.isAvailable?"bg-green-500 shadow-[0_0_6px_rgba(34,197,94,0.4)]":"bg-red-300"}`})}),d.jsxs("div",{children:[d.jsx("div",{className:`text-sm font-medium transition-colors ${x.isAvailable?"text-text-main":"text-gray-400"}`,children:x.name}),x.price>0&&d.jsxs("div",{className:"text-xs text-text-muted",children:["+",f(x.price)]})]})]}),d.jsx("div",{className:"shrink-0 w-full sm:w-auto min-w-[180px]",children:d.jsx(Ld,{options:m,value:x.isAvailable?Is.active:Is.inactive,onChange:b=>h(x.id,b),isLoading:l===x.id,disabled:l!==null&&l!==x.id,className:"w-full"})})]},x.id))})]},g.id)})})]})]}),d.jsx(Tr,{secondary:{label:a("common.close"),onClick:e},primary:{label:a("common.edit"),icon:Yl,onClick:()=>s(n.id)},className:"p-4 bg-white dark:bg-gray-900 border-t border-border"})]})]})},vL=_o((t,e)=>({isOpen:!1,isLoading:!1,options:null,openConfirm:n=>t({isOpen:!0,options:n,isLoading:!1}),closeConfirm:()=>t({isOpen:!1}),executeConfirm:async()=>{const{options:n}=e();if(n){t({isLoading:!0});try{await n.onConfirm(),t({isOpen:!1})}catch(s){console.error("Confirmation action failed:",s)}finally{t({isLoading:!1})}}}})),Co=()=>{const t=vL(n=>n.openConfirm);return{confirm:n=>{t(n)}}},Sl={async getAllByRestaurant(t){return(await Le.get(`/modifiers/restaurant/${t}`)).data},async createGroup(t){return(await Le.post("/modifiers/group",t)).data},async updateGroup(t,e){return(await Le.patch(`/modifiers/group/${t}`,e)).data},async toggleGroupStatus(t,e){const n=e?"active":"inactive";return(await Le.patch(`/modifiers/group/${t}/status`,{status:n})).data},async toggleOptionStatus(t,e){return(await Le.patch(`/modifiers/option/${t}/status`,{status:e})).data},async deleteGroup(t){await Le.delete(`/modifiers/group/${t}`)}},em=()=>{const{activeRestaurant:t}=Tt(),e=as(),n=Ct(x=>x.addToast),{handleError:s}=Hn(),i=["modifiers",t?.id||"all"],{data:a=[],isLoading:l,isError:c}=Nn({queryKey:i,queryFn:async()=>t?.id?Sl.getAllByRestaurant(t.id):[],enabled:!!t?.id}),f=tt({mutationFn:x=>{if(!t?.id)throw new Error("No active restaurant selected. Cannot create modifier group.");const b={...x,restaurantId:t.id};return Sl.createGroup(b)},onSuccess:()=>{n("Modifier Group created successfully","success"),e.invalidateQueries({queryKey:i})},onError:s}),h=tt({mutationFn:({id:x,data:b})=>Sl.updateGroup(x,b),onSuccess:()=>{n("Group updated","success"),e.invalidateQueries({queryKey:i})},onError:s}),m=tt({mutationFn:x=>Sl.deleteGroup(x),onSuccess:()=>{n("Group deleted","success"),e.invalidateQueries({queryKey:i})},onError:s}),g=tt({mutationFn:({id:x,isActive:b})=>Sl.toggleGroupStatus(x,b),onSuccess:(x,b)=>{n(`Group ${b.isActive?"activated":"deactivated"}`,"info"),e.invalidateQueries({queryKey:i})},onError:s}),y=tt({mutationFn:({id:x,status:b})=>Sl.toggleOptionStatus(x,b),onSuccess:(x,b)=>{n(`Option ${b.status}`,"info"),e.invalidateQueries({queryKey:i}),e.invalidateQueries({queryKey:["products"]})},onError:s});return{modifiers:a,isLoading:l,isError:c,createGroup:f.mutateAsync,updateGroup:h.mutateAsync,deleteGroup:m.mutateAsync,toggleStatus:g.mutateAsync,toggleOptionStatusMutation:y.mutateAsync,isCreating:f.isPending,isUpdating:h.isPending,isDeleting:m.isPending}},RF=()=>{const{t}=Ve(),{navigateTo:e}=en(),{products:n,isLoading:s,toggleAvailability:i}=Jp(),{toggleOptionStatusMutation:a}=em(),{sections:l}=Zp(),[c,f]=w.useState(null),h=!!c,[m,g]=w.useState(""),[y,x]=w.useState("all"),[b,C]=w.useState(null),_=w.useMemo(()=>n.filter(E=>{const M=E.name.toLowerCase().includes(m.toLowerCase()),T=y==="all"||E&&E.menuSections.map(I=>I.id).includes(y);return M&&T}),[n,m,y]),{confirm:k}=Co(),j=w.useMemo(()=>n.find(E=>E.id===c)||null,[n,c]),L=async(E,M)=>{C(M);try{await i({id:M,isAvailable:E})}finally{C(null)}},O=async(E,M)=>{await a({id:E,status:M})};return d.jsx(Vt,{title:t("products.products"),subtitle:t("products.descriptions"),headerActions:d.jsxs(Fe,{onClick:()=>e(Dt.ProudctAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("products.add")]}),isLoading:s,isEmpty:_.length===0&&!s,renderControls:d.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(er,{value:m,onChange:E=>g(E.target.value),placeholder:t("common.search")})}),d.jsx("div",{className:"w-full md:w-64",children:d.jsxs(is,{value:y,onChange:E=>x(E.target.value),children:[d.jsx("option",{value:"all",children:t("products.all_categories")}),l.map(E=>d.jsx("option",{value:E.id,children:E.name},E.id))]})})]}),emptyLabel:t("products.empty"),emptyIcon:yk,children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:[_.map(E=>d.jsx(TF,{product:E,onEdit:()=>e(Dt.ProudctEdit(E.id)),onToggleAvailability:M=>{k({title:t("confirm_modal.update_status"),message:t("confirm_modal.update_status_description"),variant:"warning",confirmText:t("confirm_modal.confirm"),onConfirm:async()=>{L(M,E.id)}})},onViewDetails:()=>f(E.id),isLoading:b===E.id},E.id)),d.jsx(AF,{isOpen:h,onClose:()=>f(null),product:j,onEdit:()=>e(Dt.ProudctEdit(j?.id??"")),onToggleOptionStatus:async(E,M)=>{f(null),k({title:t("confirm_modal.update_status"),message:t("confirm_modal.update_status_description"),variant:"warning",confirmText:t("confirm_modal.confirm"),onConfirm:async()=>{O(E,M)}})}})]})})},_E={success:Yi,error:ba,info:$h,warning:Zu,custom:$h},PF={success:"bg-white border-l-4 border-green-500 text-gray-800",error:"bg-white border-l-4 border-red-500 text-gray-800",info:"bg-white border-l-4 border-blue-500 text-gray-800",warning:"bg-white border-l-4 border-orange-500 text-gray-800",custom:""},CE={success:"text-green-500",error:"text-red-500",info:"text-blue-500",warning:"text-orange-500",custom:"text-gray-500"},IF=({toast:t})=>{const e=Ct(l=>l.removeToast),n=_E[t.type]||_E.info,[s,i]=w.useState(!1);w.useEffect(()=>{requestAnimationFrame(()=>i(!0))},[]);const a=()=>{i(!1),setTimeout(()=>e(t.id),300)};return t.type==="custom"&&t.content?d.jsx("div",{className:`transition-all duration-500 transform ${s?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"}`,children:t.content}):d.jsxs("div",{className:`
        flex items-start gap-3 p-4 rounded-lg shadow-lg border border-gray-100 min-w-[320px] max-w-md relative overflow-hidden transition-all duration-300 transform pointer-events-auto
        ${PF[t.type]}
        ${s?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"}
      `,children:[d.jsx(n,{className:`w-5 h-5 mt-0.5 shrink-0 ${CE[t.type]}`}),d.jsx("div",{className:"flex-1 pr-6",children:d.jsx(H.Body,{className:"font-medium text-sm",children:t.message})}),d.jsx("button",{onClick:a,className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:d.jsx(rs,{className:"w-4 h-4"})}),t.duration&&t.duration>0&&d.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 ${CE[t.type].replace("text-","bg-")}`,style:{width:"100%",animation:`shrink ${t.duration}ms linear forwards`}}),d.jsx("style",{children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},BF=()=>{const t=Ct(e=>e.toasts);return d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:t.map(e=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(IF,{toast:e})},e.id))})},UF="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3",zF=()=>{const{connect:t,disconnect:e}=aO(),{activeRestaurant:n}=Tt(),s=as(),{isAuthenticated:i}=$t(),a=w.useRef(null);return w.useEffect(()=>{if(n?.id&&i)return t(n.id,l=>{console.log(" Socket Update: Modifying cache directly for order",l.id);const c=["orders",n.id,"all"];s.setQueryData(c,f=>f?f.find(m=>m.id===l.id)?f.map(m=>m.id===l.id?l:m):[l,...f]:[l])}),()=>{e()}},[t,e,n?.id,i,s]),w.useEffect(()=>{const l=()=>{a.current&&(a.current.currentTime=0,a.current.play().catch(c=>console.warn("Audio play blocked:",c)))};return window.addEventListener("play-order-sound",l),()=>window.removeEventListener("play-order-sound",l)},[]),d.jsx("audio",{ref:a,src:UF,hidden:!0})},FF=({restaurant:t,onEnterDashboard:e,onEdit:n,onViewDetail:s})=>{const{t:i}=Ve(),a=g=>({inexpensive:"$",moderate:"$$",expensive:"$$$",very_expensive:"$$$$"})[g]||"$$",{user:l}=$t(g=>g),[c,f]=w.useState(!1),h=Vs(l)||t.userId===l?.id,m=Vs(l);return d.jsxs("div",{className:"bg-background-card rounded-3xl overflow-hidden shadow-sm border border-border hover:shadow-md transition-all group relative flex flex-col h-full cursor-pointer",children:[d.jsxs("div",{onClick:s,className:"h-32 w-full bg-gray-100 dark:bg-gray-800 relative",children:[t.heroImageUrl?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t.heroImageUrl,alt:"Cover",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 transition-opacity duration-300 group-hover:opacity-50"})]}):d.jsx("div",{className:"w-full h-full bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center opacity-50",children:d.jsx(xa,{className:"w-8 h-8 text-text-muted"})}),d.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[d.jsx(Bt,{variant:`${t.status==Is.active?"success":"error"}`,children:t.status}),d.jsx(Bt,{variant:`${t.isOpen?"primary":"error"}`,children:t.isOpen?i("common.open"):i("common.closed")})]})]}),d.jsxs("div",{className:"p-5 pt-0 flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-end -mt-8 mb-3 relative z-10",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl rounded-full overflow-hidden bg-background-card border border-background-card shadow-sm",children:t.logoUrl?d.jsx("img",{src:t.logoUrl,alt:"Logo",className:"w-full h-full object-cover circle"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-text-muted",children:d.jsx(xa,{className:"w-6 h-6"})})}),d.jsx("div",{className:"mb-1 mt-2",children:d.jsx(H.Label,{className:"px-2 py-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-border",children:a(t.priceRange)})})]}),d.jsxs("div",{className:"mb-4 space-y-1",children:[d.jsx(H.H3,{className:"line-clamp-1",title:t.name,children:t.name}),d.jsxs("div",{className:"flex items-start text-text-muted mt-1",children:[d.jsx(mo,{className:"w-4 h-4 mr-1.5 mt-0.5 shrink-0"}),d.jsxs(H.Small,{className:"line-clamp-2 leading-relaxed",children:[t.streetAddress,", ",t.city]})]})]}),t.user&&d.jsxs("div",{className:"mb-5 p-2.5 rounded-xl bg-gray-50 dark:bg-gray-900/50 border border-border flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-background-card flex items-center justify-center shadow-sm border border-border overflow-hidden shrink-0",children:t.user.profileImageUrl?d.jsx("img",{src:t.user.profileImageUrl,alt:t.user.firstName,className:"w-full h-full object-cover"}):d.jsx(Lr,{className:"w-4 h-4 text-text-muted"})}),d.jsxs("div",{className:"min-w-0 flex flex-col",children:[d.jsx(H.Label,{className:"text-[10px] leading-none mb-0.5",children:i("restaurants.owner")}),d.jsxs(H.Body,{className:"text-xs font-bold !text-text-main truncate leading-tight",children:[t.user.firstName," ",t.user.lastName]})]})]}),d.jsx(Tr,{secondary:{label:i("common.edit"),icon:qs,onClick:n},primary:{label:i("common.details"),icon:Yl,onClick:e},tertiary:h?{label:"Config",icon:mk,variant:"ghost",onClick:()=>f(!0)}:void 0,reverse:!0})]}),c&&d.jsx(nL,{isOpen:c,onClose:()=>f(!1),restaurant:t,isAdminMode:m,onSuccess:()=>{console.log("Settings updated!")}})]})},HF=({restaurant:t,isOpen:e,onClose:n})=>{if(!e||!t)return null;const{t:s}=Ve(),{navigateTo:i}=en(),a=Tt(f=>f.setActiveRestaurant),l=f=>({inexpensive:"$",moderate:"$$",expensive:"$$$",very_expensive:"$$$$"})[f]||"$$",c=f=>{a(f),i("/"),n()};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:f=>f.target===f.currentTarget&&n(),children:d.jsxs("div",{className:"bg-background-card rounded-3xl shadow-2xl w-full max-w-5xl overflow-hidden flex flex-col max-h-[90vh] border border-border",children:[d.jsxs("div",{className:"relative h-48 bg-gray-100 dark:bg-gray-800",children:[t.heroImageUrl&&d.jsx("img",{src:t.heroImageUrl,alt:"Cover",className:"w-full h-full object-cover opacity-80"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),d.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full backdrop-blur-md transition-colors",children:d.jsx(rs,{className:"w-6 h-6"})}),d.jsxs("div",{className:"absolute bottom-6 left-8 flex items-end gap-6",children:[d.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white p-1 shadow-lg border border-gray-100 shrink-0",children:t.logoUrl?d.jsx("img",{src:t.logoUrl,alt:"Logo",className:"w-full h-full object-cover rounded-xl"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-50 rounded-xl",children:d.jsx(Wu,{className:"w-8 h-8 text-gray-300"})})}),d.jsxs("div",{className:"pb-1",children:[d.jsx(H.H1,{className:"text-3xl !text-white drop-shadow-md",children:t.name}),d.jsxs(H.Small,{className:"!text-gray-200 flex items-center gap-2 mt-1",children:[d.jsx(mo,{className:"w-4 h-4"})," ",t.streetAddress,", ",t.city]})]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-border",children:[d.jsx(H.Label,{children:s("common.status")}),d.jsx(H.H3,{className:`capitalize ${t.status===Is.active?"!text-green-600":"!text-red-500"}`,children:t.status})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-border",children:[d.jsx(H.Label,{children:s("common.open")}),d.jsx(H.H3,{className:t.isOpen?"!text-blue-600":"!text-gray-500",children:t.isOpen?"Open":"Closed"})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-border",children:[d.jsx(H.Label,{children:s("restaurants.commission_rate")}),d.jsxs(H.H3,{children:[t.commissionType?.toString(),"%"]})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-border",children:[d.jsx(H.Label,{children:s("restaurants.preparation_time")}),d.jsxs(H.H3,{children:[t.averagePrepTimeMin," min"]})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-border",children:[d.jsx(H.Label,{children:s("common.price")}),d.jsx(H.H3,{className:"!text-primary",children:l(t.priceRange)})]})]}),d.jsxs("div",{children:[d.jsx(H.H3,{className:"mb-2",children:s("common.about")}),d.jsx(H.Body,{children:t.description||s("common.empty_description")})]}),t.user&&d.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 p-5 rounded-2xl border border-primary/10 flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-background-card flex items-center justify-center shadow-sm border border-border overflow-hidden shrink-0",children:t.user.profileImageUrl?d.jsx("img",{src:t.user.profileImageUrl,alt:t.user.firstName,className:"w-full h-full object-cover"}):d.jsx(Lr,{className:"w-5 h-5 text-primary"})}),d.jsxs("div",{children:[d.jsx(H.Label,{className:"!text-primary",children:s("restaurants.managed_by")}),d.jsxs(H.H3,{children:[t.user.firstName," ",t.user.lastName]}),d.jsx(H.Small,{className:"block",children:t.user.email}),t.user.phone&&d.jsxs(H.Small,{className:"flex items-center gap-1 mt-1",children:[d.jsx(mi,{className:"w-3 h-3"})," ",t.user.phone]})]})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-3xl border border-border space-y-4",children:[d.jsx(H.H3,{className:"text-base",children:s("restaurants.legal_contact")}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(mi,{className:"w-4 h-4 text-text-muted mt-0.5"}),d.jsxs("div",{children:[d.jsx(H.Body,{className:"font-medium !text-text-main",children:s("restaurants.public_phone")}),d.jsx(H.Small,{children:t.publicPhone||"N/A"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(uk,{className:"w-4 h-4 text-text-muted mt-0.5"}),d.jsxs("div",{children:[d.jsx(H.Body,{className:"font-medium !text-text-main",children:s("restaurants.rfc")}),d.jsx(H.Small,{children:t.rfc||"N/A"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wu,{className:"w-4 h-4 text-text-muted mt-0.5"}),d.jsxs("div",{children:[d.jsx(H.Body,{className:"font-medium !text-text-main",children:s("restaurants.legal_name")}),d.jsx(H.Small,{children:t.legalName||"N/A"})]})]})]})]})})]})}),d.jsxs("div",{className:"p-6 border-t border-border bg-background-card flex justify-end gap-3 z-10",children:[d.jsxs(Fe,{variant:"secondary",onClick:()=>{i(Dt.RestaurantEdit(t.id)),n()},children:[d.jsx(qs,{className:"w-4 h-4 mr-2"}),s("common.edit")]}),d.jsxs(Fe,{onClick:()=>c(t),children:[s("common.dashboard"),d.jsx(Yl,{className:"w-4 h-4 ml-2"})]})]})]})})},$F=()=>{const{t}=Ve(),{isLoading:e,restaurants:n}=tc(),[s,i]=w.useState(""),[a,l]=w.useState(!1),[c,f]=w.useState(),{navigateTo:h}=en(),m=Tt(b=>b.setActiveRestaurant),g=(n||[]).filter(b=>b.name.toLowerCase().includes(s.toLowerCase())),y=b=>{m(b),h(Dt.Dashboard)},x=b=>{f(b),l(!0)};return d.jsxs(Vt,{title:t("restaurants.restaurants"),subtitle:t("restaurants.description"),headerActions:d.jsxs(Fe,{onClick:()=>h(Dt.RestaurantAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("restaurants.add")]}),isLoading:e,isEmpty:g.length===0,renderControls:d.jsx(d.Fragment,{children:d.jsx("div",{className:"w-full md:flex-1",children:d.jsx(er,{placeholder:t("common.search"),value:s,onChange:b=>i(b.target.value)})})}),emptyLabel:t("restaurants.empty"),emptyIcon:xa,children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-10",children:g.map(b=>d.jsx(FF,{restaurant:b,onEnterDashboard:()=>y(b),onEdit:()=>h(Dt.RestaurantEdit(b.id)),onViewDetail:()=>x(b)},b.id))}),d.jsx(HF,{isOpen:a,restaurant:c,onClose:()=>l(!1)})]})},EE=({allowedRoles:t})=>{const{user:e,isAuthenticated:n}=$t();return!n||!e?d.jsx(pa,{to:"/login",replace:!0}):t.includes(e.role.name)?d.jsx(sx,{}):d.jsx(pa,{to:"/unauthorized",replace:!0})},VF=()=>{const{user:t,isAuthenticated:e}=$t();if(!e||!t)return d.jsx(pa,{to:"/login",replace:!0});const n=t.role.name,s=Kp[n];return s?d.jsx(pa,{to:s.defaultRoute,replace:!0}):d.jsx(pa,{to:"/unauthorized",replace:!0})},qF=()=>{const{isAuthenticated:t,user:e}=$t();if(t&&e){const n=e.role.name,s=Kp[n];return s?d.jsx(pa,{to:s.defaultRoute,replace:!0}):d.jsx(pa,{to:"/unauthorized",replace:!0})}return d.jsx(sx,{})},GF=()=>{const t=Cs(),{user:e,logout:n}=$t(),s=()=>{if(e){const a=e.role.name,l=Kp[a]?.defaultRoute||"/";t(l,{replace:!0})}else t("/login")},i=()=>{n(),t("/login")};return d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4 text-center",children:[d.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6 animate-in zoom-in duration-300",children:d.jsx(r4,{className:"w-12 h-12 text-red-600"})}),d.jsx(H.H1,{className:"mb-2",children:"Access Denied"}),d.jsx(H.Body,{className:"text-gray-500 max-w-md mb-8",children:"You do not have permission to view this page. If you believe this is an error, please contact your administrator."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx(Fe,{onClick:i,variant:"secondary",children:"Log Out"}),d.jsxs(Fe,{onClick:s,children:[d.jsx(Ub,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})},mu={async getSchedules(t){return(await Le.get(`/restaurants/${t}/schedules`)).data||[]},async saveSchedules(t,e){const n={schedules:e};return(await Le.put(`/restaurants/${t}/schedules`,n)).data},async getOverrides(t){return(await Le.get(`/restaurants/${t}/schedules/overrides`)).data||[]},async createOverride(t,e){return(await Le.post(`/restaurants/${t}/schedules/overrides`,e)).data},async deleteOverride(t,e){await Le.delete(`/restaurants/${t}/schedules/overrides/${e}`)}},NE=()=>{const t={};for(let e=0;e<=6;e++)t[e]=[];return t},bL=()=>{const t=as(),{activeRestaurant:e}=Tt(),{handleError:n}=Hn(),s=Ct(E=>E.addToast),[i,a]=w.useState(NE()),[l,c]=w.useState(!1),f=["schedules",e?.id],h=["schedules-overrides",e?.id],{data:m,isLoading:g}=Nn({queryKey:f,queryFn:()=>e?.id?mu.getSchedules(e.id):[],enabled:!!e?.id});w.useEffect(()=>{if(m){const E=NE();[...m].sort((T,I)=>T.openTime.localeCompare(I.openTime)).forEach(T=>{const I={id:T.id,dayOfWeek:T.dayOfWeek,openTime:T.openTime,closeTime:T.closeTime};E[T.dayOfWeek]&&E[T.dayOfWeek].push(I)}),a(E),c(!1)}},[m]);const y=tt({mutationFn:async()=>{if(!e?.id)throw new Error("No restaurant selected");const E=Object.values(i).flat();return mu.saveSchedules(e.id,E)},onSuccess:()=>{s("Horarios actualizados correctamente","success"),t.invalidateQueries({queryKey:f}),c(!1)},onError:n}),{data:x=[],isLoading:b}=Nn({queryKey:h,queryFn:()=>(console.log(" Fetching overrides for restaurant:",e?.id),e?.id?mu.getOverrides(e.id):[]),enabled:!!e?.id}),C=tt({mutationFn:E=>{if(!e?.id)throw new Error("No restaurant");return mu.createOverride(e.id,E)},onSuccess:()=>{t.invalidateQueries({queryKey:h}),s("Exception added successfully","success")},onError:n}),_=tt({mutationFn:E=>{if(!e?.id)throw new Error("No restaurant");return mu.deleteOverride(e.id,E)},onSuccess:()=>{t.invalidateQueries({queryKey:h}),s("Exception removed","success")},onError:n}),k=w.useCallback(E=>{a(M=>{const T=M[E]||[],I={dayOfWeek:E,openTime:"09:00",closeTime:"17:00"};return{...M,[E]:[...T,I]}}),c(!0)},[]),j=w.useCallback((E,M)=>{a(T=>{const I=[...T[E]];return I.splice(M,1),{...T,[E]:I}}),c(!0)},[]),L=w.useCallback((E,M,T,I)=>{a(P=>{const z=[...P[E]];return z[M]={...z[M],[T]:I},{...P,[E]:z}}),c(!0)},[]),O=w.useCallback(E=>{a(M=>{const T=M[E],I={...M};for(let P=0;P<=6;P++)P!==E&&(I[P]=T.map(z=>({dayOfWeek:P,openTime:z.openTime,closeTime:z.closeTime,id:void 0})));return I}),c(!0)},[]);return{groupedSchedules:i,isLoading:g,isSaving:y.isPending,isDirty:l,overrides:x,isLoadingOverrides:b,createOverride:C.mutateAsync,deleteOverride:_.mutateAsync,isCreatingOverride:C.isPending,addSlot:k,removeSlot:j,updateSlot:L,copyDayToAll:O,saveChanges:y.mutateAsync,days:[0,1,2,3,4,5,6]}},YF=({isOpen:t,onClose:e,onSave:n,initialDate:s})=>{const{t:i}=Ve(),[a,l]=w.useState(!1),c=()=>{const P=new Date,z=P.getFullYear(),G=String(P.getMonth()+1).padStart(2,"0"),q=String(P.getDate()).padStart(2,"0");return`${z}-${G}-${q}`},f=()=>{const P=new Date,z=String(P.getHours()).padStart(2,"0"),G=String(P.getMinutes()).padStart(2,"0");return`${z}:${G}`},h=c(),m=f(),{addToast:g}=Ct(),{register:y,handleSubmit:x,watch:b,setValue:C,reset:_}=Lx({defaultValues:{date:s||h,isClosed:!0,reason:"",openTime:"",closeTime:""}}),k=b("isClosed"),j=b("date"),L=b("openTime"),O=b("closeTime"),E=w.useMemo(()=>j?j<h:!1,[j,h]),M=w.useMemo(()=>k||!L||!j?!1:j===h?L<m:!1,[k,L,j,h,m]),T=w.useMemo(()=>k||!L||!O?!1:L>=O,[k,L,O]);w.useEffect(()=>{t&&_({date:s||h,isClosed:!0,reason:"",openTime:"",closeTime:""})},[t,s,_,h]);const I=async P=>{if(E||M||T){g(i("schedules.validate_fields"),"error");return}l(!0);try{const z={...P};z.isClosed&&(delete z.openTime,delete z.closeTime),await n(z),e()}catch(z){console.error(z)}finally{l(!1)}};return t?d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),d.jsxs("form",{onSubmit:x(I),className:"relative bg-white dark:bg-gray-900 w-full max-w-md rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"p-6 border-b border-border bg-gray-50/50 dark:bg-gray-800/20 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(H.H3,{className:"mb-1",children:i("schedules.special_schedule")}),d.jsx(H.Small,{className:"text-text-muted",children:i("schedules.setup_events")})]}),d.jsx("button",{type:"button",onClick:e,className:"text-text-muted hover:text-text-main",children:d.jsx(rs,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6 space-y-5",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(ze,{label:i("common.date"),type:"date",min:h,icon:d.jsx(hi,{className:"w-4 h-4 text-text-muted"}),...y("date",{required:!0})}),E&&d.jsxs("div",{className:"flex items-center gap-2 mt-2 text-red-500 text-xs font-medium animate-in slide-in-from-top-1",children:[d.jsx(ba,{className:"w-3.5 h-3.5"}),i("schedules.validation_past_date")]})]}),d.jsxs("div",{children:[d.jsx(H.Label,{className:"mb-1.5 block",children:i("common.status")}),d.jsx("div",{className:"dark:bg-gray-900/50 p-1 rounded-xl",children:d.jsx(Ld,{value:k?"true":"false",onChange:P=>C("isClosed",P==="true"),options:[{value:"true",label:i("schedules.close_all_day"),icon:d.jsx(rs,{className:"w-3.5 h-3.5"})},{value:"false",label:i("schedules.special_hours"),icon:d.jsx(Ki,{className:"w-3.5 h-3.5"})}]})})]})]}),d.jsx(ze,{label:i("schedules.reason"),placeholder:"e.g. Christmas Day, Super Bowl Final...",...y("reason",{required:!0}),required:!0}),!k&&d.jsxs("div",{className:"animate-in slide-in-from-top-2 fade-in duration-200 bg-blue-50/50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-800/30 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1",children:[d.jsx(ba,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:i("schedules.set_new_hours")})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx(ze,{label:"Open",type:"time",min:j===h?m:void 0,...y("openTime",{required:!k})}),M&&d.jsxs("span",{className:"text-[10px] text-red-500 font-medium block mt-1",children:[i("schedules.validation_hours_later")," (",m,")"]})]}),d.jsxs("div",{children:[d.jsx(ze,{label:"Close",type:"time",...y("closeTime",{required:!k})}),T&&!M&&d.jsx("span",{className:"text-[10px] text-red-500 font-medium block mt-1",children:i("schedules.validation_hours_after")})]})]})]})]}),d.jsxs("div",{className:"p-4 sm:p-6 border-t border-border bg-gray-50 dark:bg-gray-900 flex gap-3",children:[d.jsx(Fe,{type:"button",variant:"secondary",onClick:e,fullWidth:!0,children:i("common.cancel")}),d.jsx(Fe,{type:"submit",isLoading:a,disabled:E||M||T||a,fullWidth:!0,children:i("common.save")})]})]})]}):null},WF=({override:t,onDelete:e})=>{const{t:n}=Ve(),s=i=>i?.slice(0,5)||"";return d.jsxs("div",{className:`
          relative p-5 rounded-2xl border flex flex-col gap-3 transition-shadow hover:shadow-md
          ${t.isClosed?"bg-red-50/50 border-red-100 dark:bg-red-900/10 dark:border-red-900/30":"bg-blue-50/50 border-blue-100 dark:bg-blue-900/10 dark:border-blue-900/30"}
       `,children:[d.jsxs("div",{className:"flex justify-between items-start pr-8",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hi,{className:"w-4 h-4 text-text-muted"}),d.jsx("span",{className:"font-bold text-text-main",children:_a(uF(t.date),"EEEE, MMMM do, yyyy")})]}),d.jsx(Bt,{variant:t.isClosed?"error":"primary",children:t.isClosed?n("schedules.close_all_day"):n("schedules.special_hours")})]}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-sm text-text-main mb-1",children:t.reason}),!t.isClosed&&d.jsxs("div",{className:"flex items-center text-sm text-text-muted bg-white dark:bg-gray-800 w-fit px-2 py-1 rounded-lg border border-border/50",children:[d.jsx(Ki,{className:"w-3.5 h-3.5 mr-2"}),s(t.openTime)," - ",s(t.closeTime)]})]}),d.jsx("button",{onClick:()=>e(t.id),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors p-1",title:"Remove Exception",children:d.jsx(jr,{className:"w-4 h-4"})})]})},QF=({groupedSchedules:t,todayIndex:e,displayDays:n})=>{const{t:s}=Ve();return d.jsx("div",{className:"divide-y divide-border",children:n.map(i=>{const a=t[i]||[],l=i===e,c=a.length===0;return d.jsxs("div",{className:`
               p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 transition-colors
               ${l?"bg-primary/5":"hover:bg-gray-50 dark:hover:bg-gray-800/30"}
            `,children:[d.jsxs("div",{className:"flex items-center gap-3 w-40 shrink-0",children:[l&&d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),d.jsx("span",{className:`font-bold ${l?"text-primary":"text-text-main"}`,children:s(`schedules.days.${i}`)}),l&&d.jsx(Bt,{className:"ml-2",children:s("common.today")})]}),d.jsx("div",{className:"flex-1",children:c?d.jsxs("span",{className:"text-text-muted italic flex items-center text-sm",children:[d.jsx(Ku,{className:"w-3.5 h-3.5 mr-1.5 opacity-50"}),s("common.closed")]}):d.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((f,h)=>d.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 border border-border px-3 py-1.5 rounded-lg shadow-sm",children:[d.jsx(Ki,{className:"w-3.5 h-3.5 mr-2 text-text-muted"}),d.jsxs("span",{className:"text-sm font-medium text-text-main",children:[f.openTime?.slice(0,5)," - ",f.closeTime?.slice(0,5)]})]},h))})})]},i)})})},KF=[1,2,3,4,5,6,0],XF=()=>{const{t}=Ve(),{navigateTo:e}=en(),{groupedSchedules:n,overrides:s,createOverride:i,deleteOverride:a,isLoading:l}=bL(),c=new Date,[f,h]=w.useState(!1),m=f8(new Date),g=w.useMemo(()=>{const b=n[m]||[];if(b.length===0)return{isOpen:!1,text:t("schedules.currently_closed")||"Closed Today"};const C=new Date,_=j=>j.slice(0,5);if(b.some(j=>{const L=ah(_(j.openTime),"HH:mm",C);let O=ah(_(j.closeTime),"HH:mm",C);return(_(j.closeTime)==="00:00"||O<=L)&&(O=new Date(C.getFullYear(),C.getMonth(),C.getDate(),23,59,59)),wE(C,{start:L,end:O})})){const j=b.find(E=>{const M=ah(_(E.openTime),"HH:mm",C);let T=ah(_(E.closeTime),"HH:mm",C);return(_(E.closeTime)==="00:00"||T<=M)&&(T=new Date(C.getFullYear(),C.getMonth(),C.getDate(),23,59,59)),wE(C,{start:M,end:T})}),L=j?_(j.closeTime):"",O=L==="00:00"?"24:00":L;return{isOpen:!0,text:`${t("schedules.open_until")} ${O}`}}return{isOpen:!1,text:t("schedules.currently_closed")||"Currently Closed"}},[n,m,t]),y=async b=>{await i(b)},x=async b=>{confirm("Are you sure you want to remove this exception?")&&await a(b)};return d.jsx(Vt,{title:t("schedules.title"),subtitle:"Overview of operating hours",isLoading:l,headerActions:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Fe,{variant:"secondary",onClick:()=>h(!0),children:[d.jsx(hi,{className:"w-4 h-4 mr-2"})," ",t("schedules.add_exception")]}),d.jsxs(Fe,{onClick:()=>e(Dt.ScheduleAddOrEdit),children:[d.jsx(qs,{className:"w-4 h-4 mr-2"})," ",t("common.edit")]})]}),children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl border border-border shadow-sm flex flex-col sm:flex-row items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${g.isOpen?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:g.isOpen?d.jsx(Yi,{className:"w-6 h-6"}):d.jsx(Ku,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx(H.Label,{className:"mb-0.5 uppercase tracking-wider",children:t("common.status")}),d.jsx(H.H3,{className:g.isOpen?"text-green-600":"text-red-500",children:g.text})]})]}),d.jsxs("div",{className:"text-right hidden sm:block",children:[d.jsx("div",{className:"text-3xl font-bold text-text-main font-mono",children:_a(c,"HH:mm")}),d.jsx("div",{className:"text-text-muted text-sm",children:_a(c,"EEEE, MMMM do")})]})]}),d.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2",children:[d.jsx(hi,{className:"w-5 h-5 text-red-500"}),d.jsx(H.H3,{className:"mb-0",children:t("schedules.special_dates_and_holidays")})]}),s.length===0?d.jsx("div",{className:"text-center p-8 bg-gray-50 dark:bg-gray-900/30 rounded-3xl border border-dashed border-border",children:d.jsx(H.Small,{className:"text-text-muted",children:t("schedules.special_dates_and_holidays_empty")})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(b=>d.jsx(WF,{override:b,onDelete:x},b.id))})]}),d.jsxs("div",{className:"bg-background-card rounded-3xl border border-border shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-border bg-gray-50/50 dark:bg-gray-900/20",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hi,{className:"w-5 h-5 text-primary"}),d.jsx(H.H3,{className:"mb-0",children:t("schedules.weakly_hours")})]})}),d.jsx(QF,{groupedSchedules:n,todayIndex:m,displayDays:KF})]}),d.jsx(YF,{isOpen:f,onClose:()=>h(!1),onSave:y})]})})},ZF=()=>{const{theme:t}=$O();return w.useEffect(()=>{const e=window.document.documentElement;e.classList.remove("light","dark"),e.classList.add(t),e.style.colorScheme=t},[t]),null},tm=({onFileSelect:t,initialPreview:e=null,label:n="Image",maxSizeMB:s=5,allowedTypes:i=["image/jpeg","image/png","image/webp"]})=>{const a=Ct(h=>h.addToast),[l,c]=w.useState(e);w.useEffect(()=>{c(e)},[e]);const f=h=>{const m=h.target.files?.[0];if(!m)return;const g=s*1024*1024;if(m.size>g){a(`Image is too large ${s}MB.`,"error"),h.target.value="";return}if(!i.includes(m.type)){a(`Invalid format : ${i.map(x=>x.split("/")[1]).join(", ")}`,"error"),h.target.value="";return}const y=URL.createObjectURL(m);c(y),t(m)};return d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border flex flex-col items-center text-center sticky top-6",children:[d.jsx("h3",{className:"mb-6 font-semibold text-lg",children:n}),d.jsxs("div",{className:"relative group mb-6",children:[d.jsxs("div",{className:"w-40 h-40 rounded-full border-4 border-background shadow-inner overflow-hidden relative bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:[l?d.jsx("img",{src:l,alt:"Preview",className:"w-full h-full object-cover"}):d.jsx(Lr,{className:"w-16 h-16 text-gray-400"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:d.jsx(TR,{className:"w-8 h-8 text-white"})})]}),d.jsx("input",{type:"file",accept:i.join(","),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer rounded-full z-10",onChange:f})]}),d.jsxs("p",{className:"text-gray-500 text-sm px-4",children:["Sube una foto profesional. MAX ",s,"MB.",d.jsx("br",{}),"Formatos: ",i.map(h=>h.split("/")[1].toUpperCase()).join(", ")]})]})},JF={async upload(t,e){const n=new FormData;return n.append("file",t),n.append("path",e),(await Le.post("/images/upload/file",n,{headers:{"Content-Type":"multipart/form-data"}})).data.url}},zl={RestaurantUsers:t=>`restaurants/${t}/users`,RestaurantsLogo:"general/restaurants/images/logo",RestaurantsBanner:"general/restaurants/images/banners",Products:t=>`restaurants/${t}/products`,RestaurantCoupons:t=>`restaurants/${t}/coupons`,Drivers:t=>`restaurants/${t}/drivers`},Md=()=>{const[t,e]=w.useState(!1),{handleError:n}=Hn();return{uploadFile:async(i,a)=>{e(!0);try{return await JF.upload(i,a)}catch(l){return n(l),null}finally{e(!1)}},isUploading:t}},gb=t=>{if(!t)return"";const e=t.replace(/[\s\-()]/g,"");return e.startsWith("+52")?e:`+52${e}`},xL=t=>t?t.startsWith("+52")?t.slice(3):t:"",ch=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{createUser:i,updateUser:a,getUserById:l,isCreating:c,isUpdating:f,isLoading:h}=Px(),{restaurants:m,isLoading:g}=tc(),{uploadFile:y,isUploading:x}=Md(),b=Ct(ve=>ve.addToast),[C,_]=w.useState(""),[k,j]=w.useState(""),[L,O]=w.useState(""),[E,M]=w.useState(""),[T,I]=w.useState(""),[P,z]=w.useState(""),[G,q]=w.useState(),[K,re]=w.useState("active"),[ce,B]=w.useState(null),[Q,se]=w.useState(null),oe=$t(ve=>ve.user),{activeRestaurant:pe}=Tt(ve=>ve),[A,R]=w.useState(pe?.id||""),[V,ee]=w.useState(!1),Y=w.useRef(!1);w.useEffect(()=>{Y.current=!1},[n]),w.useEffect(()=>{s&&n&&!Y.current&&(async()=>{try{const Me=await l(n);Me&&(_(Me.firstName),j(Me.lastName),O(Me.username),M(Me.email||""),I(xL(Me.phone)),q(Me.role?.id),re(Me.status||"active"),se(Me.profileImageUrl||null),Me.profileImageUrl&&ee(!0),R(Me.restaurantId||""),Y.current=!0)}catch{e()}})()},[s,n,l]);const je=async()=>{if(!C||!k||!T||!L){b(t("users.fields_validation"),"error");return}if(G===void 0){b(t("users.validation_role"),"error");return}if(T.length<10){b(t("users.validation_phone"),"error");return}if((!s||s&&P.length>0)&&!/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/.test(P)){b(t("users.validation_password"),"error");return}let ve=Q||"";if(ce&&ce.size>0&&!V){const Me=await y(ce,zl.RestaurantUsers(A));Me&&(ve=Me,se(ve),ee(!0))}else!ve&&!s&&(ve=`https://ui-avatars.com/api/?name=${C}+${k}&background=random`);try{if(s&&n){const Me={firstName:C,lastName:k,username:L,email:E,phone:gb(T),roleId:G,status:K,profileImageUrl:ve,restaurantId:A};P&&(Me.password=P),console.log("User updated",Me),await a({id:n,data:Me})}else{const Me={firstName:C,lastName:k,username:L,email:E,phone:gb(T),password:P,roleId:G,profileImageUrl:ve,restaurantId:A};console.log("User saved",Me),await i(Me)}e()}catch(Me){console.error("Error saving user:",Me)}},Te=t(s?"users.edit":"users.add"),Ae=s?`${t("users.update_details_for")} ${C} ${k}`:t("users.create_account"),Be=c||x||f||h;return d.jsx(Vt,{title:Te,subtitle:Ae,showNavBack:!0,headerActions:d.jsx("div",{className:"flex gap-3",children:d.jsx(Fe,{onClick:je,disabled:Be,children:t(Be?"common.loading":s?"common.update":"common.save")})}),isLoading:Be,children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Lr,{className:"w-5 h-5 text-text-muted"}),d.jsx(H.H3,{className:"mb-0",children:t("users.personal_information")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(ze,{label:t("users.first_name"),placeholder:"e.g. Juan",value:C,onChange:ve=>_(ve.target.value),required:!0}),d.jsx(ze,{label:t("users.last_name"),placeholder:"e.g. Prez",value:k,onChange:ve=>j(ve.target.value),required:!0}),d.jsx(ze,{label:t("forms.username"),placeholder:"e.g. juan.perez",value:L,onChange:ve=>O(ve.target.value),icon:d.jsx(lk,{className:"w-4 h-4 text-text-muted"}),required:!0}),d.jsx(ze,{label:t("users.phone_number"),prefix:"+52",placeholder:"55 1234 5678",value:T,onChange:ve=>I(ve.target.value),icon:d.jsx(mi,{className:"w-4 h-4 text-text-muted"}),required:!0,maxLength:15}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(So,{className:"w-4 h-4 text-text-muted"}),d.jsx(H.Label,{className:"mb-0",children:t("users.email_address")})]}),d.jsx(ze,{type:"email",placeholder:"juan@email.com",value:E,onChange:ve=>M(ve.target.value)})]})]})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Rp,{className:"w-5 h-5 text-text-muted"}),d.jsx(H.H3,{className:"mb-0",children:t("users.role_and_security")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Vs(oe)&&d.jsxs("div",{className:"space-y-4 mt-6 md:col-span-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xa,{className:"w-5 h-5 text-text-muted"}),d.jsx("h3",{className:"font-semibold",children:t("users.assigne_restaurant")})]}),g?d.jsx("p",{className:"text-sm text-gray-500",children:t("loading")}):d.jsxs(is,{className:"w-full p-3 border rounded-lg bg-background",value:A,onChange:ve=>R(ve.target.value),children:[d.jsxs("option",{value:"",children:["-- ",t("users.select_restaurant")," --"]}),m.map(ve=>d.jsxs("option",{value:ve.id,children:[ve.name," - ",ve.city]},ve.id))]}),d.jsx("p",{className:"text-xs text-gray-500",children:t("users.role_description")})]}),d.jsx("div",{children:d.jsx(yL,{label:t("users.assigne_role"),value:G||"",onChange:ve=>q(Number(ve.target.value)),showAllOption:!1,valueMode:"id",required:!0})}),s&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(gR,{className:"w-4 h-4 text-text-muted"}),d.jsx(H.Label,{className:"mb-0",children:t("common.status")})]}),d.jsxs(is,{value:K,onChange:ve=>re(ve.target.value),children:[d.jsx("option",{value:"active",children:t("common.status_active")}),d.jsx("option",{value:"inactive",children:t("common.status_inactive")}),d.jsx("option",{value:"suspended",children:t("common.status_suspended")})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Tp,{className:"w-4 h-4 text-text-muted"}),d.jsx(H.Label,{className:"mb-0",children:t(s?"forms.change_password":"forms.password")})]}),d.jsx(yx,{placeholder:s?t("forms.password_description"):"Pass1234!",value:P,onChange:ve=>z(ve.target.value),required:!s}),!s&&d.jsx(H.Small,{className:"text-xs text-text-muted mt-1 block",children:t("users.validation_password")})]})]})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsx(tm,{onFileSelect:ve=>{B(ve),ee(!1)},initialPreview:Q})})]})})};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function eH(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(sd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tH(t){var e=eH(t,"string");return sd(e)=="symbol"?e:e+""}function ue(t,e,n){return(e=tH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var av,jE;function nH(){if(jE)return av;jE=1;var t=function(n,s,i,a,l,c,f,h){if(!n){var m;if(s===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[i,a,l,c,f,h],y=0;m=new Error(s.replace(/%s/g,function(){return g[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return av=t,av}var sH=nH(),On=wL(sH),st=w.createContext(null);function iH(){On(!!w.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=w.useContext(st);return On(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function rH(t,e,n){return Object.keys(t).reduce(function(i,a){return e(i,t[a],a)},n)}function aH(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function oH(t,e,n,s){var i={},a=(l,c)=>{var f=n[c];f!==e[c]&&(i[c]=f,l(s,f))};return aH(t,a),i}function lH(t,e,n){var s=rH(n,function(a,l,c){return typeof t[c]=="function"&&a.push(google.maps.event.addListener(e,l,t[c])),a},[]);return s}function cH(t){google.maps.event.removeListener(t)}function dt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(cH)}function ot(t){var{updaterMap:e,eventMap:n,prevProps:s,nextProps:i,instance:a}=t,l=lH(i,a,n);return oH(e,s,i,a),l}var kE={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},OE={extraMapTypes(t,e){e.forEach(function(s,i){t.mapTypes.set(String(i),s)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function uH(t){var{children:e,options:n,id:s,mapContainerStyle:i,mapContainerClassName:a,center:l,onClick:c,onDblClick:f,onDrag:h,onDragEnd:m,onDragStart:g,onMouseMove:y,onMouseOut:x,onMouseOver:b,onMouseDown:C,onMouseUp:_,onRightClick:k,onCenterChanged:j,onLoad:L,onUnmount:O}=t,[E,M]=w.useState(null),T=w.useRef(null),[I,P]=w.useState(null),[z,G]=w.useState(null),[q,K]=w.useState(null),[re,ce]=w.useState(null),[B,Q]=w.useState(null),[se,oe]=w.useState(null),[pe,A]=w.useState(null),[R,V]=w.useState(null),[ee,Y]=w.useState(null),[je,Te]=w.useState(null),[Ae,Be]=w.useState(null),[ve,Me]=w.useState(null);return w.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),w.useEffect(()=>{E!==null&&typeof l<"u"&&E.setCenter(l)},[E,l]),w.useEffect(()=>{E&&f&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(E,"dblclick",f)))},[f]),w.useEffect(()=>{E&&m&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(E,"dragend",m)))},[m]),w.useEffect(()=>{E&&g&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(E,"dragstart",g)))},[g]),w.useEffect(()=>{E&&C&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(E,"mousedown",C)))},[C]),w.useEffect(()=>{E&&y&&(se!==null&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(E,"mousemove",y)))},[y]),w.useEffect(()=>{E&&x&&(pe!==null&&google.maps.event.removeListener(pe),A(google.maps.event.addListener(E,"mouseout",x)))},[x]),w.useEffect(()=>{E&&b&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(E,"mouseover",b)))},[b]),w.useEffect(()=>{E&&_&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(E,"mouseup",_)))},[_]),w.useEffect(()=>{E&&k&&(je!==null&&google.maps.event.removeListener(je),Te(google.maps.event.addListener(E,"rightclick",k)))},[k]),w.useEffect(()=>{E&&c&&(Ae!==null&&google.maps.event.removeListener(Ae),Be(google.maps.event.addListener(E,"click",c)))},[c]),w.useEffect(()=>{E&&h&&(ve!==null&&google.maps.event.removeListener(ve),Me(google.maps.event.addListener(E,"drag",h)))},[h]),w.useEffect(()=>{E&&j&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(E,"center_changed",j)))},[c]),w.useEffect(()=>{var at=T.current===null?null:new google.maps.Map(T.current,n);return M(at),at!==null&&L&&L(at),()=>{at!==null&&O&&O(at)}},[]),d.jsx("div",{id:s,ref:T,style:i,className:a,children:d.jsx(st.Provider,{value:E,children:E!==null?e:null})})}w.memo(uH);class dH extends w.PureComponent{constructor(){super(...arguments),ue(this,"state",{map:null}),ue(this,"registeredEvents",[]),ue(this,"mapRef",null),ue(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ue(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ue(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ue(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ot({updaterMap:OE,eventMap:kE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:OE,eventMap:kE,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),dt(this.registeredEvents))}render(){return d.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:d.jsx(st.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function LE(t,e,n,s,i,a,l){try{var c=t[a](l),f=c.value}catch(h){return void n(h)}c.done?e(f):Promise.resolve(f).then(s,i)}function SL(t){return function(){var e=this,n=arguments;return new Promise(function(s,i){var a=t.apply(e,n);function l(f){LE(a,s,i,l,c,"next",f)}function c(f){LE(a,s,i,l,c,"throw",f)}l(void 0)})}}function _L(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:s="weekly",language:i,region:a,libraries:l,channel:c,mapIds:f,authReferrerPolicy:h,apiUrl:m="https://maps.googleapis.com"}=t,g=[];return On(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?g.push("key=".concat(e)):n&&g.push("client=".concat(n)),s&&g.push("v=".concat(s)),i&&g.push("language=".concat(i)),a&&g.push("region=".concat(a)),l&&l.length&&g.push("libraries=".concat(l.sort().join(","))),c&&g.push("channel=".concat(c)),f&&f.length&&g.push("map_ids=".concat(f.join(","))),h&&g.push("auth_referrer_policy=".concat(h)),g.push("loading=async"),g.push("callback=initMap"),"".concat(m,"/maps/api/js?").concat(g.join("&"))}var ca=typeof document<"u";function CL(t){var{url:e,id:n,nonce:s}=t;return ca?new Promise(function(a,l){var c=document.getElementById(n),f=window;if(c){var h=c.getAttribute("data-state");if(c.src===e&&h!=="error"){if(h==="ready")return a(n);var m=f.initMap,g=c.onerror;f.initMap=function(){m&&m(),a(n)},c.onerror=function(x){g&&g(x),l(x)};return}else c.remove()}var y=document.createElement("script");y.type="text/javascript",y.src=e,y.id=n,y.async=!0,y.nonce=s||"",y.onerror=function(b){y.setAttribute("data-state","error"),l(b)},f.initMap=function(){y.setAttribute("data-state","ready"),a(n)},document.head.appendChild(y)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function ME(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Ix(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,a){return ME(i)||Reflect.apply(e,t,[i,a]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return ME(i)||Reflect.apply(n,t,[i]),i}}}var gu=!1;function EL(){return d.jsx("div",{children:"Loading..."})}var id={id:"script-loader",version:"weekly"};class fH extends w.PureComponent{constructor(){super(...arguments),ue(this,"check",null),ue(this,"state",{loaded:!1}),ue(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ue(this,"isCleaningUp",SL(function*(){function e(n){if(!gu)n();else if(ca)var s=window.setInterval(function(){gu||(window.clearInterval(s),n())},1)}return new Promise(e)})),ue(this,"cleanup",()=>{gu=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),ue(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Ix(),On(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:_L(this.props)};CL(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ue(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ca){if(window.google&&window.google.maps&&!gu){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ca&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ca){this.cleanup();var e=()=>{this.check||(delete window.google,gu=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||d.jsx(EL,{})]})}}ue(fH,"defaultProps",id);function hH(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function Bx(t,e){if(t==null)return{};var n,s,i=hH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var DE;function pH(t){var{id:e=id.id,version:n=id.version,nonce:s,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:c,libraries:f,preventGoogleFontsLoading:h,channel:m,mapIds:g,authReferrerPolicy:y,apiUrl:x="https://maps.googleapis.com"}=t,b=w.useRef(!1),[C,_]=w.useState(!1),[k,j]=w.useState(void 0);w.useEffect(function(){return b.current=!0,()=>{b.current=!1}},[]),w.useEffect(function(){ca&&h&&Ix()},[h]),w.useEffect(function(){C&&On(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[C]);var L=_L({version:n,googleMapsApiKey:i,googleMapsClientId:a,language:l,region:c,libraries:f,channel:m,mapIds:g,authReferrerPolicy:y,apiUrl:x});w.useEffect(function(){if(!ca)return;function M(){b.current&&(_(!0),DE=L)}if(window.google&&window.google.maps&&DE===L){M();return}CL({id:e,url:L,nonce:s}).then(M).catch(function(I){b.current&&j(I),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(I)})},[e,L,s]);var O=w.useRef(void 0);return w.useEffect(function(){O.current&&f!==O.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),O.current=f},[f]),{isLoaded:C,loadError:k,url:L}}var mH=["loadingElement","onLoad","onError","onUnmount","children"],gH=d.jsx(EL,{});function yH(t){var{loadingElement:e,onLoad:n,onError:s,onUnmount:i,children:a}=t,l=Bx(t,mH),{isLoaded:c,loadError:f}=pH(l);return w.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),w.useEffect(function(){f&&typeof s=="function"&&s(f)},[f,s]),w.useEffect(function(){return()=>{i&&i()}},[i]),c?a:e||gH}w.memo(yH);function vH(t,e,n,s){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function f(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?a(m.value):i(m.value).then(c,f)}h((s=s.apply(t,[])).next())})}function bH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xH=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var l=a[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n},wH=bH(xH),TE="__googleMapsScriptId",jl;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(jl||(jl={}));class ao{constructor(e){var{apiKey:n,authReferrerPolicy:s,channel:i,client:a,id:l=TE,language:c,libraries:f=[],mapIds:h,nonce:m,region:g,retries:y=3,url:x="https://maps.googleapis.com/maps/api/js",version:b}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=s,this.channel=i,this.client=a,this.id=l||TE,this.language=c,this.libraries=f,this.mapIds=h,this.nonce=m,this.region=g,this.retries=y,this.url=x,this.version=b,ao.instance){if(!wH(this.options,ao.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(ao.instance.options)));return ao.instance}ao.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?jl.FAILURE:this.done?jl.SUCCESS:this.loading?jl.LOADING:jl.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(a=>!s[a]&&delete s[a]),!((n=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(a=>{var l,c,f,h="The Google Maps JavaScript API",m="google",g="importLibrary",y="__ib__",x=document,b=window;b=b[m]||(b[m]={});var C=b.maps||(b.maps={}),_=new Set,k=new URLSearchParams,j=()=>l||(l=new Promise((L,O)=>vH(this,void 0,void 0,function*(){var E;yield c=x.createElement("script"),c.id=this.id,k.set("libraries",[..._]+"");for(f in a)k.set(f.replace(/[A-Z]/g,M=>"_"+M[0].toLowerCase()),a[f]);k.set("callback",m+".maps."+y),c.src=this.url+"?"+k,C[y]=L,c.onerror=()=>l=O(Error(h+" could not load.")),c.nonce=this.nonce||((E=x.querySelector("script[nonce]"))===null||E===void 0?void 0:E.nonce)||"",x.head.append(c)})));C[g]?console.warn(h+" only loads once. Ignoring:",a):C[g]=function(L){for(var O=arguments.length,E=new Array(O>1?O-1:0),M=1;M<O;M++)E[M-1]=arguments[M];return _.add(L)&&j().then(()=>C[g](L,...E))}})(s);var i=this.libraries.map(a=>this.importLibrary(a));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),a=>{var l=new ErrorEvent("error",{error:a});this.loadErrorCallback(l)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var SH=["maps"];function _H(t){var{id:e=id.id,version:n=id.version,nonce:s,googleMapsApiKey:i,language:a,region:l,libraries:c=SH,preventGoogleFontsLoading:f,mapIds:h,authReferrerPolicy:m}=t,g=w.useRef(!1),[y,x]=w.useState(!1),[b,C]=w.useState(void 0);w.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]);var _=w.useMemo(()=>new ao({id:e,apiKey:i,version:n,libraries:c,language:a||"en",region:l||"US",mapIds:h||[],nonce:s||"",authReferrerPolicy:m||"origin"}),[e,i,n,c,a,l,h,s,m]);w.useEffect(function(){y||_.load().then(()=>{g.current&&x(!0)}).catch(L=>{C(L)})},[]),w.useEffect(()=>{ca&&f&&Ix()},[f]);var k=w.useRef();return w.useEffect(()=>{k.current&&c!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=c},[c]),{isLoaded:y,loadError:b}}function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var RE={},PE={options(t,e){t.setOptions(e)}};function CH(t){var{options:e,onLoad:n,onUnmount:s}=t,i=w.useContext(st),[a,l]=w.useState(null);return w.useEffect(()=>{a!==null&&a.setMap(i)},[i]),w.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),w.useEffect(()=>{var c=new google.maps.TrafficLayer(ap(ap({},e),{},{map:i}));return l(c),n&&n(c),()=>{a!==null&&(s&&s(a),a.setMap(null))}},[]),null}w.memo(CH);class EH extends w.PureComponent{constructor(){super(...arguments),ue(this,"state",{trafficLayer:null}),ue(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ue(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(ap(ap({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:PE,eventMap:RE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:PE,eventMap:RE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),dt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ue(EH,"contextType",st);function NH(t){var{onLoad:e,onUnmount:n}=t,s=w.useContext(st),[i,a]=w.useState(null);return w.useEffect(()=>{i!==null&&i.setMap(s)},[s]),w.useEffect(()=>{var l=new google.maps.BicyclingLayer;return a(l),l.setMap(s),e&&e(l),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}w.memo(NH);class jH extends w.PureComponent{constructor(){super(...arguments),ue(this,"state",{bicyclingLayer:null}),ue(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ue(jH,"contextType",st);function kH(t){var{onLoad:e,onUnmount:n}=t,s=w.useContext(st),[i,a]=w.useState(null);return w.useEffect(()=>{i!==null&&i.setMap(s)},[s]),w.useEffect(()=>{var l=new google.maps.TransitLayer;return a(l),l.setMap(s),e&&e(l),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}w.memo(kH);class OH extends w.PureComponent{constructor(){super(...arguments),ue(this,"state",{transitLayer:null}),ue(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ue(OH,"contextType",st);function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var BE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},UE={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function LH(t){var{options:e,drawingMode:n,onCircleComplete:s,onMarkerComplete:i,onOverlayComplete:a,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:f,onLoad:h,onUnmount:m}=t,g=w.useContext(st),[y,x]=w.useState(null),[b,C]=w.useState(null),[_,k]=w.useState(null),[j,L]=w.useState(null),[O,E]=w.useState(null),[M,T]=w.useState(null),[I,P]=w.useState(null);return w.useEffect(()=>{y!==null&&y.setMap(g)},[g]),w.useEffect(()=>{e&&y!==null&&y.setOptions(e)},[y,e]),w.useEffect(()=>{y!==null&&y.setDrawingMode(n??null)},[y,n]),w.useEffect(()=>{y&&s&&(b!==null&&google.maps.event.removeListener(b),C(google.maps.event.addListener(y,"circlecomplete",s)))},[y,s]),w.useEffect(()=>{y&&i&&(_!==null&&google.maps.event.removeListener(_),k(google.maps.event.addListener(y,"markercomplete",i)))},[y,i]),w.useEffect(()=>{y&&a&&(j!==null&&google.maps.event.removeListener(j),L(google.maps.event.addListener(y,"overlaycomplete",a)))},[y,a]),w.useEffect(()=>{y&&l&&(O!==null&&google.maps.event.removeListener(O),E(google.maps.event.addListener(y,"polygoncomplete",l)))},[y,l]),w.useEffect(()=>{y&&c&&(M!==null&&google.maps.event.removeListener(M),T(google.maps.event.addListener(y,"polylinecomplete",c)))},[y,c]),w.useEffect(()=>{y&&f&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(y,"rectanglecomplete",f)))},[y,f]),w.useEffect(()=>{On(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var z=new google.maps.drawing.DrawingManager(op(op({},e),{},{map:g}));return n&&z.setDrawingMode(n),s&&C(google.maps.event.addListener(z,"circlecomplete",s)),i&&k(google.maps.event.addListener(z,"markercomplete",i)),a&&L(google.maps.event.addListener(z,"overlaycomplete",a)),l&&E(google.maps.event.addListener(z,"polygoncomplete",l)),c&&T(google.maps.event.addListener(z,"polylinecomplete",c)),f&&P(google.maps.event.addListener(z,"rectanglecomplete",f)),x(z),h&&h(z),()=>{y!==null&&(b&&google.maps.event.removeListener(b),_&&google.maps.event.removeListener(_),j&&google.maps.event.removeListener(j),O&&google.maps.event.removeListener(O),M&&google.maps.event.removeListener(M),I&&google.maps.event.removeListener(I),m&&m(y),y.setMap(null))}},[]),null}w.memo(LH);class MH extends w.PureComponent{constructor(e){super(e),ue(this,"registeredEvents",[]),ue(this,"state",{drawingManager:null}),ue(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),On(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(op(op({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:UE,eventMap:BE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:UE,eventMap:BE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),dt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ue(MH,"contextType",st);function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var FE={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},HE={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},lp={};function DH(t){var{position:e,options:n,clusterer:s,noClustererRedraw:i,children:a,draggable:l,visible:c,animation:f,clickable:h,cursor:m,icon:g,label:y,opacity:x,shape:b,title:C,zIndex:_,onClick:k,onDblClick:j,onDrag:L,onDragEnd:O,onDragStart:E,onMouseOut:M,onMouseOver:T,onMouseUp:I,onMouseDown:P,onRightClick:z,onClickableChanged:G,onCursorChanged:q,onAnimationChanged:K,onDraggableChanged:re,onFlatChanged:ce,onIconChanged:B,onPositionChanged:Q,onShapeChanged:se,onTitleChanged:oe,onVisibleChanged:pe,onZindexChanged:A,onLoad:R,onUnmount:V}=t,ee=w.useContext(st),[Y,je]=w.useState(null),[Te,Ae]=w.useState(null),[Be,ve]=w.useState(null),[Me,at]=w.useState(null),[ft,pn]=w.useState(null),[it,ls]=w.useState(null),[cs,Ys]=w.useState(null),[$n,Vn]=w.useState(null),[F,X]=w.useState(null),[ae,Ee]=w.useState(null),[ke,Se]=w.useState(null),[Pe,Ze]=w.useState(null),[rt,Ut]=w.useState(null),[_e,le]=w.useState(null),[be,Ce]=w.useState(null),[He,xt]=w.useState(null),[qt,on]=w.useState(null),[Kt,Rn]=w.useState(null),[Kn,Es]=w.useState(null),[Ws,ja]=w.useState(null),[Mi,Rd]=w.useState(null),[ka,jo]=w.useState(null);w.useEffect(()=>{Y!==null&&Y.setMap(ee)},[ee]),w.useEffect(()=>{typeof n<"u"&&Y!==null&&Y.setOptions(n)},[Y,n]),w.useEffect(()=>{typeof l<"u"&&Y!==null&&Y.setDraggable(l)},[Y,l]),w.useEffect(()=>{e&&Y!==null&&Y.setPosition(e)},[Y,e]),w.useEffect(()=>{typeof c<"u"&&Y!==null&&Y.setVisible(c)},[Y,c]),w.useEffect(()=>{Y?.setAnimation(f)},[Y,f]),w.useEffect(()=>{Y&&h!==void 0&&Y.setClickable(h)},[Y,h]),w.useEffect(()=>{Y&&m!==void 0&&Y.setCursor(m)},[Y,m]),w.useEffect(()=>{Y&&g!==void 0&&Y.setIcon(g)},[Y,g]),w.useEffect(()=>{Y&&y!==void 0&&Y.setLabel(y)},[Y,y]),w.useEffect(()=>{Y&&x!==void 0&&Y.setOpacity(x)},[Y,x]),w.useEffect(()=>{Y&&b!==void 0&&Y.setShape(b)},[Y,b]),w.useEffect(()=>{Y&&C!==void 0&&Y.setTitle(C)},[Y,C]),w.useEffect(()=>{Y&&_!==void 0&&Y.setZIndex(_)},[Y,_]),w.useEffect(()=>{Y&&j&&(Te!==null&&google.maps.event.removeListener(Te),Ae(google.maps.event.addListener(Y,"dblclick",j)))},[j]),w.useEffect(()=>{Y&&O&&(Be!==null&&google.maps.event.removeListener(Be),ve(google.maps.event.addListener(Y,"dragend",O)))},[O]),w.useEffect(()=>{Y&&E&&(Me!==null&&google.maps.event.removeListener(Me),at(google.maps.event.addListener(Y,"dragstart",E)))},[E]),w.useEffect(()=>{Y&&P&&(ft!==null&&google.maps.event.removeListener(ft),pn(google.maps.event.addListener(Y,"mousedown",P)))},[P]),w.useEffect(()=>{Y&&M&&(it!==null&&google.maps.event.removeListener(it),ls(google.maps.event.addListener(Y,"mouseout",M)))},[M]),w.useEffect(()=>{Y&&T&&(cs!==null&&google.maps.event.removeListener(cs),Ys(google.maps.event.addListener(Y,"mouseover",T)))},[T]),w.useEffect(()=>{Y&&I&&($n!==null&&google.maps.event.removeListener($n),Vn(google.maps.event.addListener(Y,"mouseup",I)))},[I]),w.useEffect(()=>{Y&&z&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(Y,"rightclick",z)))},[z]),w.useEffect(()=>{Y&&k&&(ae!==null&&google.maps.event.removeListener(ae),Ee(google.maps.event.addListener(Y,"click",k)))},[k]),w.useEffect(()=>{Y&&L&&(ke!==null&&google.maps.event.removeListener(ke),Se(google.maps.event.addListener(Y,"drag",L)))},[L]),w.useEffect(()=>{Y&&G&&(Pe!==null&&google.maps.event.removeListener(Pe),Ze(google.maps.event.addListener(Y,"clickable_changed",G)))},[G]),w.useEffect(()=>{Y&&q&&(rt!==null&&google.maps.event.removeListener(rt),Ut(google.maps.event.addListener(Y,"cursor_changed",q)))},[q]),w.useEffect(()=>{Y&&K&&(_e!==null&&google.maps.event.removeListener(_e),le(google.maps.event.addListener(Y,"animation_changed",K)))},[K]),w.useEffect(()=>{Y&&re&&(be!==null&&google.maps.event.removeListener(be),Ce(google.maps.event.addListener(Y,"draggable_changed",re)))},[re]),w.useEffect(()=>{Y&&ce&&(He!==null&&google.maps.event.removeListener(He),xt(google.maps.event.addListener(Y,"flat_changed",ce)))},[ce]),w.useEffect(()=>{Y&&B&&(qt!==null&&google.maps.event.removeListener(qt),on(google.maps.event.addListener(Y,"icon_changed",B)))},[B]),w.useEffect(()=>{Y&&Q&&(Kt!==null&&google.maps.event.removeListener(Kt),Rn(google.maps.event.addListener(Y,"position_changed",Q)))},[Q]),w.useEffect(()=>{Y&&se&&(Kn!==null&&google.maps.event.removeListener(Kn),Es(google.maps.event.addListener(Y,"shape_changed",se)))},[se]),w.useEffect(()=>{Y&&oe&&(Ws!==null&&google.maps.event.removeListener(Ws),ja(google.maps.event.addListener(Y,"title_changed",oe)))},[oe]),w.useEffect(()=>{Y&&pe&&(Mi!==null&&google.maps.event.removeListener(Mi),Rd(google.maps.event.addListener(Y,"visible_changed",pe)))},[pe]),w.useEffect(()=>{Y&&A&&(ka!==null&&google.maps.event.removeListener(ka),jo(google.maps.event.addListener(Y,"zindex_changed",A)))},[A]),w.useEffect(()=>{var La=Ll(Ll(Ll({},n||lp),s?lp:{map:ee}),{},{position:e}),Qe=new google.maps.Marker(La);return s?s.addMarker(Qe,!!i):Qe.setMap(ee),e&&Qe.setPosition(e),typeof c<"u"&&Qe.setVisible(c),typeof l<"u"&&Qe.setDraggable(l),typeof h<"u"&&Qe.setClickable(h),typeof m=="string"&&Qe.setCursor(m),g&&Qe.setIcon(g),typeof y<"u"&&Qe.setLabel(y),typeof x<"u"&&Qe.setOpacity(x),b&&Qe.setShape(b),typeof C=="string"&&Qe.setTitle(C),typeof _=="number"&&Qe.setZIndex(_),j&&Ae(google.maps.event.addListener(Qe,"dblclick",j)),O&&ve(google.maps.event.addListener(Qe,"dragend",O)),E&&at(google.maps.event.addListener(Qe,"dragstart",E)),P&&pn(google.maps.event.addListener(Qe,"mousedown",P)),M&&ls(google.maps.event.addListener(Qe,"mouseout",M)),T&&Ys(google.maps.event.addListener(Qe,"mouseover",T)),I&&Vn(google.maps.event.addListener(Qe,"mouseup",I)),z&&X(google.maps.event.addListener(Qe,"rightclick",z)),k&&Ee(google.maps.event.addListener(Qe,"click",k)),L&&Se(google.maps.event.addListener(Qe,"drag",L)),G&&Ze(google.maps.event.addListener(Qe,"clickable_changed",G)),q&&Ut(google.maps.event.addListener(Qe,"cursor_changed",q)),K&&le(google.maps.event.addListener(Qe,"animation_changed",K)),re&&Ce(google.maps.event.addListener(Qe,"draggable_changed",re)),ce&&xt(google.maps.event.addListener(Qe,"flat_changed",ce)),B&&on(google.maps.event.addListener(Qe,"icon_changed",B)),Q&&Rn(google.maps.event.addListener(Qe,"position_changed",Q)),se&&Es(google.maps.event.addListener(Qe,"shape_changed",se)),oe&&ja(google.maps.event.addListener(Qe,"title_changed",oe)),pe&&Rd(google.maps.event.addListener(Qe,"visible_changed",pe)),A&&jo(google.maps.event.addListener(Qe,"zindex_changed",A)),je(Qe),R&&R(Qe),()=>{Te!==null&&google.maps.event.removeListener(Te),Be!==null&&google.maps.event.removeListener(Be),Me!==null&&google.maps.event.removeListener(Me),ft!==null&&google.maps.event.removeListener(ft),it!==null&&google.maps.event.removeListener(it),cs!==null&&google.maps.event.removeListener(cs),$n!==null&&google.maps.event.removeListener($n),F!==null&&google.maps.event.removeListener(F),ae!==null&&google.maps.event.removeListener(ae),Pe!==null&&google.maps.event.removeListener(Pe),rt!==null&&google.maps.event.removeListener(rt),_e!==null&&google.maps.event.removeListener(_e),be!==null&&google.maps.event.removeListener(be),He!==null&&google.maps.event.removeListener(He),qt!==null&&google.maps.event.removeListener(qt),Kt!==null&&google.maps.event.removeListener(Kt),Ws!==null&&google.maps.event.removeListener(Ws),Mi!==null&&google.maps.event.removeListener(Mi),ka!==null&&google.maps.event.removeListener(ka),V&&V(Qe),s?s.removeMarker(Qe,!!i):Qe&&Qe.setMap(null)}},[]);var Oa=w.useMemo(()=>a?w.Children.map(a,La=>{if(!w.isValidElement(La))return La;var Qe=La;return w.cloneElement(Qe,{anchor:Y})}):null,[a,Y]);return d.jsx(d.Fragment,{children:Oa})||null}var TH=w.memo(DH);class AH extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[])}componentDidMount(){var e=this;return SL(function*(){var n=Ll(Ll(Ll({},e.props.options||lp),e.props.clusterer?lp:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ot({updaterMap:HE,eventMap:FE,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:HE,eventMap:FE,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),dt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?w.Children.map(this.props.children,n=>{if(!w.isValidElement(n))return n;var s=n;return w.cloneElement(s,{anchor:this.marker})}):null;return e||null}}ue(AH,"contextType",st);var RH=(function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),i=this.cluster.getBounds(),a=n.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(i),this.timeOut=window.setTimeout(function(){var l=n.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(i);var c=l.getZoom()||0;s!==null&&c>s&&l.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,s,i,a,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,f=this.backgroundPosition.split(" "),h=parseInt(((e=f[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),m=parseInt(((n=f[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var y=document.createElement("img");y.alt=c,y.src=this.url,y.width=this.width,y.height=this.height,y.setAttribute("style","position: absolute; top: ".concat(m,"px; left: ").concat(h,"px")),this.cluster.getClusterer().enableRetinaIcons||(y.style.clip="rect(-".concat(m,"px, -").concat(h+this.width,"px, -").concat(m+this.height,", -").concat(h,")"));var x=document.createElement("div");x.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(x.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(x.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(y),this.div.appendChild(x),this.div.title=c,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t})(),PH=(function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new RH(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,i=n;s<i.length;s++){var a=i[s],l=a.getPosition();l&&e.extend(l)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+s.lat())/i,(this.center.lng()*(i-1)+s.lng())/i),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(l!==null&&typeof c<"u"&&c>l)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var f=0,h=this.markers;f<h.length;f++){var m=h[f];m.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof i<"u"&&i>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t})();function IH(t,e){var n=t.length,s=n.toString().length,i=Math.min(s,e);return{text:n.toString(),index:i,title:""}}var BH=2e3,UH=500,zH="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",FH="png",HH=[53,56,66,78,90],$H="cluster",NL=(function(){function t(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||zH,this.imageExtension=s.imageExtension||FH,this.imageSizes=s.imageSizes||HH,this.calculator=s.calculator||IH,this.batchSize=s.batchSize||BH,this.batchSizeIE=s.batchSizeIE||UH,this.clusterClass=s.clusterClass||$H,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var s=n[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var i=0,a=this.clusters;i<a.length;i++){var l=a[i];l.remove()}this.clusters=[];for(var c=0,f=this.listeners;c<f.length;c++){var h=f[c];google.maps.event.removeListener(h)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,i=e;s<i.length;s++){var a=i[s],l=a.getPosition();l&&n.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=e[s];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,n){for(var s=!1,i=0,a=e;i<a.length;i++){var l=a[i];s=s||this.removeMarker_(l)}return!n&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,i=e;s<i.length;s++){var a=i[s];a.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}if(i!==null){var l=n.fromDivPixelToLatLng(i);l!==null&&e.extend(l)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,s=this.clusters;n<s.length;n++){var i=s[n];i.remove()}this.clusters=[];for(var a=0,l=this.markers;a<l.length;a++){var c=l[a];c.isAdded=!1,e&&c.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var s=6371,i=(n.lat()-e.lat())*Math.PI/180,a=(n.lng()-e.lng())*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return s*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},t.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var n,s=4e4,i=null,a=0,l=this.clusters;a<l.length;a++){var c=l[a];n=c;var f=n.getCenter(),h=e.getPosition();if(f&&h){var m=this.distanceBetweenPoints(f,h);m<s&&(s=m,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new PH(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),i=s!==null&&("getBounds"in s)?s.getBounds():null,a=s?.getZoom()||0,l=a>3?new google.maps.LatLngBounds(i?.getSouthWest(),i?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),f=Math.min(e+this.batchSize,this.markers.length),h=e;h<f;h++){var m=this.markers[h];m&&!m.isAdded&&this.isMarkerInBounds(m,c)&&(!this.ignoreHidden||this.ignoreHidden&&m.getVisible())&&this.addToClosestCluster(m)}if(f<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(f)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,y=this.clusters;g<y.length;g++){var x=y[g];x.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var a in i.prototype){var l=a;this.prototype[l]=i.prototype[l]}return this}).apply(e,[n])},t})();function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function VH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var oi={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},_t={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},qH={};function GH(t){var{children:e,options:n,averageCenter:s,batchSizeIE:i,calculator:a,clusterClass:l,enableRetinaIcons:c,gridSize:f,ignoreHidden:h,imageExtension:m,imagePath:g,imageSizes:y,maxZoom:x,minimumClusterSize:b,styles:C,title:_,zoomOnClick:k,onClick:j,onClusteringBegin:L,onClusteringEnd:O,onMouseOver:E,onMouseOut:M,onLoad:T,onUnmount:I}=t,[P,z]=w.useState(null),G=w.useContext(st),[q,K]=w.useState(null),[re,ce]=w.useState(null),[B,Q]=w.useState(null),[se,oe]=w.useState(null),[pe,A]=w.useState(null);return w.useEffect(()=>{P&&M&&(se!==null&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(P,oi.onMouseOut,M)))},[M]),w.useEffect(()=>{P&&E&&(pe!==null&&google.maps.event.removeListener(pe),A(google.maps.event.addListener(P,oi.onMouseOver,E)))},[E]),w.useEffect(()=>{P&&j&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(P,oi.onClick,j)))},[j]),w.useEffect(()=>{P&&L&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(P,oi.onClusteringBegin,L)))},[L]),w.useEffect(()=>{P&&O&&(B!==null&&google.maps.event.removeListener(B),ce(google.maps.event.addListener(P,oi.onClusteringEnd,O)))},[O]),w.useEffect(()=>{typeof s<"u"&&P!==null&&_t.averageCenter(P,s)},[P,s]),w.useEffect(()=>{typeof i<"u"&&P!==null&&_t.batchSizeIE(P,i)},[P,i]),w.useEffect(()=>{typeof a<"u"&&P!==null&&_t.calculator(P,a)},[P,a]),w.useEffect(()=>{typeof l<"u"&&P!==null&&_t.clusterClass(P,l)},[P,l]),w.useEffect(()=>{typeof c<"u"&&P!==null&&_t.enableRetinaIcons(P,c)},[P,c]),w.useEffect(()=>{typeof f<"u"&&P!==null&&_t.gridSize(P,f)},[P,f]),w.useEffect(()=>{typeof h<"u"&&P!==null&&_t.ignoreHidden(P,h)},[P,h]),w.useEffect(()=>{typeof m<"u"&&P!==null&&_t.imageExtension(P,m)},[P,m]),w.useEffect(()=>{typeof g<"u"&&P!==null&&_t.imagePath(P,g)},[P,g]),w.useEffect(()=>{typeof y<"u"&&P!==null&&_t.imageSizes(P,y)},[P,y]),w.useEffect(()=>{typeof x<"u"&&P!==null&&_t.maxZoom(P,x)},[P,x]),w.useEffect(()=>{typeof b<"u"&&P!==null&&_t.minimumClusterSize(P,b)},[P,b]),w.useEffect(()=>{typeof C<"u"&&P!==null&&_t.styles(P,C)},[P,C]),w.useEffect(()=>{typeof _<"u"&&P!==null&&_t.title(P,_)},[P,_]),w.useEffect(()=>{typeof k<"u"&&P!==null&&_t.zoomOnClick(P,k)},[P,k]),w.useEffect(()=>{if(G){var R=VH({},n||qH),V=new NL(G,[],R);return s&&_t.averageCenter(V,s),i&&_t.batchSizeIE(V,i),a&&_t.calculator(V,a),l&&_t.clusterClass(V,l),c&&_t.enableRetinaIcons(V,c),f&&_t.gridSize(V,f),h&&_t.ignoreHidden(V,h),m&&_t.imageExtension(V,m),g&&_t.imagePath(V,g),y&&_t.imageSizes(V,y),x&&_t.maxZoom(V,x),b&&_t.minimumClusterSize(V,b),C&&_t.styles(V,C),_&&_t.title(V,_),k&&_t.zoomOnClick(V,k),M&&oe(google.maps.event.addListener(V,oi.onMouseOut,M)),E&&A(google.maps.event.addListener(V,oi.onMouseOver,E)),j&&K(google.maps.event.addListener(V,oi.onClick,j)),L&&ce(google.maps.event.addListener(V,oi.onClusteringBegin,L)),O&&Q(google.maps.event.addListener(V,oi.onClusteringEnd,O)),z(V),T&&T(V),()=>{se!==null&&google.maps.event.removeListener(se),pe!==null&&google.maps.event.removeListener(pe),q!==null&&google.maps.event.removeListener(q),re!==null&&google.maps.event.removeListener(re),B!==null&&google.maps.event.removeListener(B),I&&I(V)}}},[]),P!==null&&e(P)||null}w.memo(GH);class YH extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{markerClusterer:null}),ue(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new NL(this.context,[],this.props.options);this.registeredEvents=ot({updaterMap:_t,eventMap:oi,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:_t,eventMap:oi,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),dt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ue(YH,"contextType",st);function VE(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var jL=(function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(m){m.returnValue=!1,m.preventDefault&&m.preventDefault(),e.enableEventPropagation||VE(m)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=a;l<c.length;l++){var f=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,f,VE))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,i=0,a=n.getBounds();a&&!a.contains(this.position)&&n.setCenter(this.position);var l=n.getDiv(),c=l.offsetWidth,f=l.offsetHeight,h=this.pixelOffset.width,m=this.pixelOffset.height,g=this.div.offsetWidth,y=this.div.offsetHeight,x=this.infoBoxClearance.width,b=this.infoBoxClearance.height,C=this.getProjection(),_=C.fromLatLngToContainerPixel(this.position);_!==null&&(_.x<-h+x?s=_.x+h-x:_.x+g+h+x>c&&(s=_.x+g+h+x-c),this.alignBottom?_.y<-m+b+y?i=_.y+m-b-y:_.y+m+b>f&&(i=_.y+m+b-f):_.y<-m+b?i=_.y+m-b:_.y+y+m+b>f&&(i=_.y+y+m+b-f)),s===0&&i===0||n.panBy(s,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();s.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var s=n[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var a in i.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=i.prototype[a]);return this}).apply(e,[n])},t})(),WH=["position"],QH=["position"];function qE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var GE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},YE={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},KH={};function XH(t){var{children:e,anchor:n,options:s,position:i,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:f,onPositionChanged:h,onZindexChanged:m,onLoad:g,onUnmount:y}=t,x=w.useContext(st),[b,C]=w.useState(null),[_,k]=w.useState(null),[j,L]=w.useState(null),[O,E]=w.useState(null),[M,T]=w.useState(null),[I,P]=w.useState(null),z=w.useRef(null);return w.useEffect(()=>{x&&b!==null&&(b.close(),n?b.open(x,n):b.getPosition()&&b.open(x))},[x,b,n]),w.useEffect(()=>{s&&b!==null&&b.setOptions(s)},[b,s]),w.useEffect(()=>{if(i&&b!==null){var G=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);b.setPosition(G)}},[i]),w.useEffect(()=>{typeof a=="number"&&b!==null&&b.setZIndex(a)},[a]),w.useEffect(()=>{b&&l&&(_!==null&&google.maps.event.removeListener(_),k(google.maps.event.addListener(b,"closeclick",l)))},[l]),w.useEffect(()=>{b&&c&&(j!==null&&google.maps.event.removeListener(j),L(google.maps.event.addListener(b,"domready",c)))},[c]),w.useEffect(()=>{b&&f&&(O!==null&&google.maps.event.removeListener(O),E(google.maps.event.addListener(b,"content_changed",f)))},[f]),w.useEffect(()=>{b&&h&&(M!==null&&google.maps.event.removeListener(M),T(google.maps.event.addListener(b,"position_changed",h)))},[h]),w.useEffect(()=>{b&&m&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(b,"zindex_changed",m)))},[m]),w.useEffect(()=>{if(x){var G=s||KH,{position:q}=G,K=Bx(G,WH),re;q&&!(q instanceof google.maps.LatLng)&&(re=new google.maps.LatLng(q.lat,q.lng));var ce=new jL(cp(cp({},K),re?{position:re}:{}));z.current=document.createElement("div"),C(ce),l&&k(google.maps.event.addListener(ce,"closeclick",l)),c&&L(google.maps.event.addListener(ce,"domready",c)),f&&E(google.maps.event.addListener(ce,"content_changed",f)),h&&T(google.maps.event.addListener(ce,"position_changed",h)),m&&P(google.maps.event.addListener(ce,"zindex_changed",m)),ce.setContent(z.current),n?ce.open(x,n):ce.getPosition()?ce.open(x):On(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(ce)}return()=>{b!==null&&(_&&google.maps.event.removeListener(_),O&&google.maps.event.removeListener(O),j&&google.maps.event.removeListener(j),M&&google.maps.event.removeListener(M),I&&google.maps.event.removeListener(I),y&&y(b),b.close())}},[]),z.current?Dr.createPortal(w.Children.only(e),z.current):null}w.memo(XH);class ZH extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"containerElement",null),ue(this,"state",{infoBox:null}),ue(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):On(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ue(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,s=Bx(e,QH),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var a=new jL(cp(cp({},s),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ot({updaterMap:YE,eventMap:GE,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:YE,eventMap:GE,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),dt(this.registeredEvents),n.close())}render(){return this.containerElement?Dr.createPortal(w.Children.only(this.props.children),this.containerElement):null}}ue(ZH,"contextType",st);var ov,WE;function JH(){return WE||(WE=1,ov=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var l=a[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),ov}var e$=JH(),QE=wL(e$),KE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],lv=1,yu=8;class Ux{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=s>>4;if(i!==lv)throw new Error("Got v".concat(i," data when expected v").concat(lv,"."));var a=KE[s&15];if(!a)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new Ux(c,l,a,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=KE.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-c%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,yu,e),this.coords=new this.ArrayType(this.data,yu+c+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(yu+l+c+f),this.ids=new this.IndexArrayType(this.data,yu,e),this.coords=new this.ArrayType(this.data,yu+c+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(lv<<4)+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=n,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return yb(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,s,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,f=[0,a.length-1,0],h=[];f.length;){var m=f.pop()||0,g=f.pop()||0,y=f.pop()||0;if(g-y<=c){for(var x=y;x<=g;x++){var b=l[2*x],C=l[2*x+1];b>=e&&b<=s&&C>=n&&C<=i&&h.push(a[x])}continue}var _=y+g>>1,k=l[2*_],j=l[2*_+1];k>=e&&k<=s&&j>=n&&j<=i&&h.push(a[_]),(m===0?e<=k:n<=j)&&(f.push(y),f.push(_-1),f.push(1-m)),(m===0?s>=k:i>=j)&&(f.push(_+1),f.push(g),f.push(1-m))}return h}within(e,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],f=[],h=s*s;c.length;){var m=c.pop()||0,g=c.pop()||0,y=c.pop()||0;if(g-y<=l){for(var x=y;x<=g;x++)XE(a[2*x],a[2*x+1],e,n)<=h&&f.push(i[x]);continue}var b=y+g>>1,C=a[2*b],_=a[2*b+1];XE(C,_,e,n)<=h&&f.push(i[b]),(m===0?e-s<=C:n-s<=_)&&(c.push(y),c.push(b-1),c.push(1-m)),(m===0?e+s>=C:n+s>=_)&&(c.push(b+1),c.push(g),c.push(1-m))}return f}}function yb(t,e,n,s,i,a){if(!(i-s<=n)){var l=s+i>>1;kL(t,e,l,s,i,a),yb(t,e,n,s,l-1,1-a),yb(t,e,n,l+1,i,1-a)}}function kL(t,e,n,s,i,a){for(;i>s;){if(i-s>600){var l=i-s+1,c=n-s+1,f=Math.log(l),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(l-h)/l)*(c-l/2<0?-1:1),g=Math.max(s,Math.floor(n-c*h/l+m)),y=Math.min(i,Math.floor(n+(l-c)*h/l+m));kL(t,e,n,g,y,a)}var x=e[2*n+a],b=s,C=i;for(vu(t,e,s,n),e[2*i+a]>x&&vu(t,e,s,i);b<C;){for(vu(t,e,b,C),b++,C--;e[2*b+a]<x;)b++;for(;e[2*C+a]>x;)C--}e[2*s+a]===x?vu(t,e,s,C):(C++,vu(t,e,C,i)),C<=n&&(s=C+1),n<=C&&(i=C-1)}}function vu(t,e,n,s){cv(t,n,s),cv(e,2*n,2*s),cv(e,2*n+1,2*s+1)}function cv(t,e,n){var s=t[e];t[e]=t[n],t[n]=s}function XE(t,e,n,s){var i=t-n,a=e-s;return i*i+a*a}var t$={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},ZE=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Qa=2,oa=3,uv=4,aa=5,OL=6;class n${constructor(e){this.options=Object.assign(Object.create(t$),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:s,maxZoom:i}=this.options;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var l=[],c=0;c<e.length;c++){var f=e[c];if(f.geometry){var[h,m]=f.geometry.coordinates,g=ZE(uh(h)),y=ZE(dh(m));l.push(g,y,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var x=this.trees[i+1]=this._createTree(l);n&&console.timeEnd(a);for(var b=i;b>=s;b--){var C=+Date.now();x=this.trees[b]=this._createTree(this._cluster(x,b)),n&&console.log("z%d: %d clusters in %dms",b,x.numItems,+Date.now()-C)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var s=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,a=180;else if(s>a){var c=this.getClusters([s,i,180,l],n),f=this.getClusters([-180,i,a,l],n);return c.concat(f)}var h=this.trees[this._limitZoom(n)],m=h.range(uh(s),dh(l),uh(a),dh(i)),g=h.data,y=[];for(var x of m){var b=this.stride*x;y.push(g[b+aa]>1?JE(g,b,this.clusterProps):this.points[g[b+oa]])}return y}getChildren(e){var n=this._getOriginId(e),s=this._getOriginZoom(e),i="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(i);var l=a.data;if(n*this.stride>=l.length)throw new Error(i);var c=this.options.radius/(this.options.extent*Math.pow(2,s-1)),f=l[n*this.stride],h=l[n*this.stride+1],m=a.within(f,h,c),g=[];for(var y of m){var x=y*this.stride;l[x+uv]===e&&g.push(l[x+aa]>1?JE(l,x,this.clusterProps):this.points[l[x+oa]])}if(g.length===0)throw new Error(i);return g}getLeaves(e,n,s){n=n||10,s=s||0;var i=[];return this._appendLeaves(i,e,n,s,0),i}getTile(e,n,s){var i=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:l,radius:c}=this.options,f=c/l,h=(s-f)/a,m=(s+1+f)/a,g={features:[]};return this._addTileFeatures(i.range((n-f)/a,h,(n+1+f)/a,m),i.data,n,s,a,g),n===0&&this._addTileFeatures(i.range(1-f/a,h,1,m),i.data,a,s,a,g),n===a-1&&this._addTileFeatures(i.range(0,h,f/a,m),i.data,-1,s,a,g),g.features.length?g:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,i,a){var l=this.getChildren(n);for(var c of l){var f=c.properties;if(f&&f.cluster?a+f.point_count<=i?a+=f.point_count:a=this._appendLeaves(e,f.cluster_id,s,i,a):a<i?a++:e.push(c),e.length===s)break}return a}_createTree(e){for(var n=new Ux(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)n.add(e[s],e[s+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,s,i,a,l){for(var c of e){var f=c*this.stride,h=n[f+aa]>1,m=void 0,g=void 0,y=void 0;if(h)m=LL(n,f,this.clusterProps),g=n[f],y=n[f+1];else{var x=this.points[n[f+oa]];m=x.properties;var[b,C]=x.geometry.coordinates;g=uh(b),y=dh(C)}var _={type:1,geometry:[[Math.round(this.options.extent*(g*a-s)),Math.round(this.options.extent*(y*a-i))]],tags:m},k=void 0;h||this.options.generateId?k=n[f+oa]:k=this.points[n[f+oa]].id,k!==void 0&&(_.id=k),l.features.push(_)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:s,extent:i,reduce:a,minPoints:l}=this.options,c=s/(i*Math.pow(2,n)),f=e.data,h=[],m=this.stride,g=0;g<f.length;g+=m)if(!(f[g+Qa]<=n)){f[g+Qa]=n;var y=f[g],x=f[g+1],b=e.within(f[g],f[g+1],c),C=f[g+aa],_=C;for(var k of b){var j=k*m;f[j+Qa]>n&&(_+=f[j+aa])}if(_>C&&_>=l){var L=y*C,O=x*C,E=void 0,M=-1,T=((g/m|0)<<5)+(n+1)+this.points.length;for(var I of b){var P=I*m;if(!(f[P+Qa]<=n)){f[P+Qa]=n;var z=f[P+aa];L+=f[P]*z,O+=f[P+1]*z,f[P+uv]=T,a&&(E||(E=this._map(f,g,!0),M=this.clusterProps.length,this.clusterProps.push(E)),a(E,this._map(f,P)))}}f[g+uv]=T,h.push(L/_,O/_,1/0,T,-1,_),a&&h.push(M)}else{for(var G=0;G<m;G++)h.push(f[g+G]);if(_>1)for(var q of b){var K=q*m;if(!(f[K+Qa]<=n)){f[K+Qa]=n;for(var re=0;re<m;re++)h.push(f[K+re])}}}}return h}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,s){if(e[n+aa]>1){var i=this.clusterProps[e[n+OL]];return s?Object.assign({},i):i}var a=this.points[e[n+oa]].properties,l=this.options.map(a);return s&&l===a?Object.assign({},l):l}}function JE(t,e,n){return{type:"Feature",id:t[e+oa],properties:LL(t,e,n),geometry:{type:"Point",coordinates:[s$(t[e]),i$(t[e+1])]}}}function LL(t,e,n){var s=t[e+aa],i=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,a=t[e+OL],l=a===-1?{}:Object.assign({},n[a]);return Object.assign(l,{cluster:!0,cluster_id:t[e+oa],point_count:s,point_count_abbreviated:i})}function uh(t){return t/360+.5}function dh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function s$(t){return(t-.5)*360}function i$(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function r$(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}class Rs{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class vb{constructor(e){var{markers:n,position:s}=e;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Rs.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Rs.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Rs.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class a${constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return o$(n)}}var o$=t=>{var e=t.map(n=>new vb({position:Rs.getPosition(n),markers:[n]}));return e};class l$ extends a${constructor(e){var{maxZoom:n,radius:s=60}=e,i=r$(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new n$(Object.assign({maxZoom:this.maxZoom,radius:s},i))}calculate(e){var n=!1,s={zoom:e.map.getZoom()};if(!QE(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(a=>{var l=Rs.getPosition(a),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:a}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!QE(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[n,s]},properties:i}=e;if(i.cluster)return new vb({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:s,lng:n}});var a=i.marker;return new vb({markers:[a],position:Rs.getPosition(a)})}}class c${constructor(e,n){this.markers={sum:e.length};var s=n.map(a=>a.count),i=s.reduce((a,l)=>a+l,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...s),max:Math.max(...s)}}}}class u${render(e,n,s){var{count:i,position:a}=e,l=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),f="Cluster of ".concat(i," markers"),h=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Rs.isAdvancedMarkerAvailable(s)){var m=new DOMParser,g=m.parseFromString(c,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");var y={map:s,position:a,zIndex:h,title:f,content:g};return new google.maps.marker.AdvancedMarkerElement(y)}var x={position:a,zIndex:h,title:f,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(x)}}function d$(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class zx{constructor(){d$(zx,google.maps.OverlayView)}}var zu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(zu||(zu={}));var f$=(t,e,n)=>{n.fitBounds(e.bounds)};class h$ extends zx{constructor(e){var{map:n,markers:s=[],algorithmOptions:i={},algorithm:a=new l$(i),renderer:l=new u$,onClusterClick:c=f$}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=l,this.onClusterClick=c,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){var s=this.markers.indexOf(e);return s===-1?!1:(Rs.setMap(e,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){var s=!1;return e.forEach(i=>{s=this.removeMarker(i,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,zu.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var i=new Set;for(var a of n)a.markers.length==1&&i.add(a.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?i.has(c.marker)||Rs.setMap(c.marker,null):l.push(c.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>l.forEach(f=>Rs.setMap(f,null)))}google.maps.event.trigger(this,zu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Rs.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new c$(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,n),s.markers.forEach(i=>Rs.setMap(i,null)),this.onClusterClick&&s.marker.addListener("click",i=>{google.maps.event.trigger(this,zu.CLUSTER_CLICK,s),this.onClusterClick(i,s,n)})),Rs.setMap(s.marker,n)})}}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function tN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function p$(t){var e=iH(),[n,s]=w.useState(null);return w.useEffect(()=>{if(e&&n===null){var i=new h$(tN(tN({},t),{},{map:e}));s(i)}},[e]),n}function m$(t){var{children:e,options:n}=t,s=p$(n);return s!==null?e(s):null}w.memo(m$);var nN={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},sN={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function g$(t){var{children:e,anchor:n,options:s,position:i,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:f,onPositionChanged:h,onZindexChanged:m,onLoad:g,onUnmount:y}=t,x=w.useContext(st),[b,C]=w.useState(null),[_,k]=w.useState(null),[j,L]=w.useState(null),[O,E]=w.useState(null),[M,T]=w.useState(null),[I,P]=w.useState(null),z=w.useRef(null);return w.useEffect(()=>{b!==null&&(b.close(),n?b.open(x,n):b.getPosition()&&b.open(x))},[x,b,n]),w.useEffect(()=>{s&&b!==null&&b.setOptions(s)},[b,s]),w.useEffect(()=>{i&&b!==null&&b.setPosition(i)},[i]),w.useEffect(()=>{typeof a=="number"&&b!==null&&b.setZIndex(a)},[a]),w.useEffect(()=>{b&&l&&(_!==null&&google.maps.event.removeListener(_),k(google.maps.event.addListener(b,"closeclick",l)))},[l]),w.useEffect(()=>{b&&c&&(j!==null&&google.maps.event.removeListener(j),L(google.maps.event.addListener(b,"domready",c)))},[c]),w.useEffect(()=>{b&&f&&(O!==null&&google.maps.event.removeListener(O),E(google.maps.event.addListener(b,"content_changed",f)))},[f]),w.useEffect(()=>{b&&h&&(M!==null&&google.maps.event.removeListener(M),T(google.maps.event.addListener(b,"position_changed",h)))},[h]),w.useEffect(()=>{b&&m&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(b,"zindex_changed",m)))},[m]),w.useEffect(()=>{var G=new google.maps.InfoWindow(s);return C(G),z.current=document.createElement("div"),l&&k(google.maps.event.addListener(G,"closeclick",l)),c&&L(google.maps.event.addListener(G,"domready",c)),f&&E(google.maps.event.addListener(G,"content_changed",f)),h&&T(google.maps.event.addListener(G,"position_changed",h)),m&&P(google.maps.event.addListener(G,"zindex_changed",m)),G.setContent(z.current),i&&G.setPosition(i),a&&G.setZIndex(a),n?G.open(x,n):G.getPosition()?G.open(x):On(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(G),()=>{_&&google.maps.event.removeListener(_),O&&google.maps.event.removeListener(O),j&&google.maps.event.removeListener(j),M&&google.maps.event.removeListener(M),I&&google.maps.event.removeListener(I),y&&y(G),G.close()}},[]),z.current?Dr.createPortal(w.Children.only(e),z.current):null}w.memo(g$);class y$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"containerElement",null),ue(this,"state",{infoWindow:null}),ue(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):On(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ue(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ot({updaterMap:sN,eventMap:nN,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:sN,eventMap:nN,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(dt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Dr.createPortal(w.Children.only(this.props.children),this.containerElement):null}}ue(y$,"contextType",st);function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var rN={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},aN={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},v$={};function b$(t){var{options:e,draggable:n,editable:s,visible:i,path:a,onDblClick:l,onDragEnd:c,onDragStart:f,onMouseDown:h,onMouseMove:m,onMouseOut:g,onMouseOver:y,onMouseUp:x,onRightClick:b,onClick:C,onDrag:_,onLoad:k,onUnmount:j}=t,L=w.useContext(st),[O,E]=w.useState(null),[M,T]=w.useState(null),[I,P]=w.useState(null),[z,G]=w.useState(null),[q,K]=w.useState(null),[re,ce]=w.useState(null),[B,Q]=w.useState(null),[se,oe]=w.useState(null),[pe,A]=w.useState(null),[R,V]=w.useState(null),[ee,Y]=w.useState(null),[je,Te]=w.useState(null);return w.useEffect(()=>{O!==null&&O.setMap(L)},[L]),w.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),w.useEffect(()=>{typeof n<"u"&&O!==null&&O.setDraggable(n)},[O,n]),w.useEffect(()=>{typeof s<"u"&&O!==null&&O.setEditable(s)},[O,s]),w.useEffect(()=>{typeof i<"u"&&O!==null&&O.setVisible(i)},[O,i]),w.useEffect(()=>{typeof a<"u"&&O!==null&&O.setPath(a)},[O,a]),w.useEffect(()=>{O&&l&&(M!==null&&google.maps.event.removeListener(M),T(google.maps.event.addListener(O,"dblclick",l)))},[l]),w.useEffect(()=>{O&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(O,"dragend",c)))},[c]),w.useEffect(()=>{O&&f&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(O,"dragstart",f)))},[f]),w.useEffect(()=>{O&&h&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(O,"mousedown",h)))},[h]),w.useEffect(()=>{O&&m&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(O,"mousemove",m)))},[m]),w.useEffect(()=>{O&&g&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(O,"mouseout",g)))},[g]),w.useEffect(()=>{O&&y&&(se!==null&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(O,"mouseover",y)))},[y]),w.useEffect(()=>{O&&x&&(pe!==null&&google.maps.event.removeListener(pe),A(google.maps.event.addListener(O,"mouseup",x)))},[x]),w.useEffect(()=>{O&&b&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(O,"rightclick",b)))},[b]),w.useEffect(()=>{O&&C&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(O,"click",C)))},[C]),w.useEffect(()=>{O&&_&&(je!==null&&google.maps.event.removeListener(je),Te(google.maps.event.addListener(O,"drag",_)))},[_]),w.useEffect(()=>{var Ae=new google.maps.Polyline(up(up({},e||v$),{},{map:L}));return a&&Ae.setPath(a),typeof i<"u"&&Ae.setVisible(i),typeof s<"u"&&Ae.setEditable(s),typeof n<"u"&&Ae.setDraggable(n),l&&T(google.maps.event.addListener(Ae,"dblclick",l)),c&&P(google.maps.event.addListener(Ae,"dragend",c)),f&&G(google.maps.event.addListener(Ae,"dragstart",f)),h&&K(google.maps.event.addListener(Ae,"mousedown",h)),m&&ce(google.maps.event.addListener(Ae,"mousemove",m)),g&&Q(google.maps.event.addListener(Ae,"mouseout",g)),y&&oe(google.maps.event.addListener(Ae,"mouseover",y)),x&&A(google.maps.event.addListener(Ae,"mouseup",x)),b&&V(google.maps.event.addListener(Ae,"rightclick",b)),C&&Y(google.maps.event.addListener(Ae,"click",C)),_&&Te(google.maps.event.addListener(Ae,"drag",_)),E(Ae),k&&k(Ae),()=>{M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),q!==null&&google.maps.event.removeListener(q),re!==null&&google.maps.event.removeListener(re),B!==null&&google.maps.event.removeListener(B),se!==null&&google.maps.event.removeListener(se),pe!==null&&google.maps.event.removeListener(pe),R!==null&&google.maps.event.removeListener(R),ee!==null&&google.maps.event.removeListener(ee),j&&j(Ae),Ae.setMap(null)}},[]),null}w.memo(b$);class x$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{polyline:null}),ue(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(up(up({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:aN,eventMap:rN,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:aN,eventMap:rN,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),dt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ue(x$,"contextType",st);function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var cN={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},uN={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function w$(t){var{options:e,draggable:n,editable:s,visible:i,path:a,paths:l,onDblClick:c,onDragEnd:f,onDragStart:h,onMouseDown:m,onMouseMove:g,onMouseOut:y,onMouseOver:x,onMouseUp:b,onRightClick:C,onClick:_,onDrag:k,onLoad:j,onUnmount:L,onEdit:O}=t,E=w.useContext(st),[M,T]=w.useState(null),[I,P]=w.useState(null),[z,G]=w.useState(null),[q,K]=w.useState(null),[re,ce]=w.useState(null),[B,Q]=w.useState(null),[se,oe]=w.useState(null),[pe,A]=w.useState(null),[R,V]=w.useState(null),[ee,Y]=w.useState(null),[je,Te]=w.useState(null),[Ae,Be]=w.useState(null);return w.useEffect(()=>{M!==null&&M.setMap(E)},[E]),w.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),w.useEffect(()=>{typeof n<"u"&&M!==null&&M.setDraggable(n)},[M,n]),w.useEffect(()=>{typeof s<"u"&&M!==null&&M.setEditable(s)},[M,s]),w.useEffect(()=>{typeof i<"u"&&M!==null&&M.setVisible(i)},[M,i]),w.useEffect(()=>{typeof a<"u"&&M!==null&&M.setPath(a)},[M,a]),w.useEffect(()=>{typeof l<"u"&&M!==null&&M.setPaths(l)},[M,l]),w.useEffect(()=>{M&&typeof c=="function"&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(M,"dblclick",c)))},[c]),w.useEffect(()=>{M&&(google.maps.event.addListener(M.getPath(),"insert_at",()=>{O?.(M)}),google.maps.event.addListener(M.getPath(),"set_at",()=>{O?.(M)}),google.maps.event.addListener(M.getPath(),"remove_at",()=>{O?.(M)}))},[M,O]),w.useEffect(()=>{M&&typeof f=="function"&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(M,"dragend",f)))},[f]),w.useEffect(()=>{M&&typeof h=="function"&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(M,"dragstart",h)))},[h]),w.useEffect(()=>{M&&typeof m=="function"&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(M,"mousedown",m)))},[m]),w.useEffect(()=>{M&&typeof g=="function"&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(M,"mousemove",g)))},[g]),w.useEffect(()=>{M&&typeof y=="function"&&(se!==null&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(M,"mouseout",y)))},[y]),w.useEffect(()=>{M&&typeof x=="function"&&(pe!==null&&google.maps.event.removeListener(pe),A(google.maps.event.addListener(M,"mouseover",x)))},[x]),w.useEffect(()=>{M&&typeof b=="function"&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(M,"mouseup",b)))},[b]),w.useEffect(()=>{M&&typeof C=="function"&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(M,"rightclick",C)))},[C]),w.useEffect(()=>{M&&typeof _=="function"&&(je!==null&&google.maps.event.removeListener(je),Te(google.maps.event.addListener(M,"click",_)))},[_]),w.useEffect(()=>{M&&typeof k=="function"&&(Ae!==null&&google.maps.event.removeListener(Ae),Be(google.maps.event.addListener(M,"drag",k)))},[k]),w.useEffect(()=>{var ve=new google.maps.Polygon(lN(lN({},e),{},{map:E}));return a&&ve.setPath(a),l&&ve.setPaths(l),typeof i<"u"&&ve.setVisible(i),typeof s<"u"&&ve.setEditable(s),typeof n<"u"&&ve.setDraggable(n),c&&P(google.maps.event.addListener(ve,"dblclick",c)),f&&G(google.maps.event.addListener(ve,"dragend",f)),h&&K(google.maps.event.addListener(ve,"dragstart",h)),m&&ce(google.maps.event.addListener(ve,"mousedown",m)),g&&Q(google.maps.event.addListener(ve,"mousemove",g)),y&&oe(google.maps.event.addListener(ve,"mouseout",y)),x&&A(google.maps.event.addListener(ve,"mouseover",x)),b&&V(google.maps.event.addListener(ve,"mouseup",b)),C&&Y(google.maps.event.addListener(ve,"rightclick",C)),_&&Te(google.maps.event.addListener(ve,"click",_)),k&&Be(google.maps.event.addListener(ve,"drag",k)),T(ve),j&&j(ve),()=>{I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),q!==null&&google.maps.event.removeListener(q),re!==null&&google.maps.event.removeListener(re),B!==null&&google.maps.event.removeListener(B),se!==null&&google.maps.event.removeListener(se),pe!==null&&google.maps.event.removeListener(pe),R!==null&&google.maps.event.removeListener(R),ee!==null&&google.maps.event.removeListener(ee),je!==null&&google.maps.event.removeListener(je),L&&L(ve),ve.setMap(null)}},[]),null}w.memo(w$);class S$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ot({updaterMap:uN,eventMap:cN,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:uN,eventMap:cN,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),dt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ue(S$,"contextType",st);function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var fN={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},hN={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function _$(t){var{options:e,bounds:n,draggable:s,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:f,onMouseDown:h,onMouseMove:m,onMouseOut:g,onMouseOver:y,onMouseUp:x,onRightClick:b,onClick:C,onDrag:_,onBoundsChanged:k,onLoad:j,onUnmount:L}=t,O=w.useContext(st),[E,M]=w.useState(null),[T,I]=w.useState(null),[P,z]=w.useState(null),[G,q]=w.useState(null),[K,re]=w.useState(null),[ce,B]=w.useState(null),[Q,se]=w.useState(null),[oe,pe]=w.useState(null),[A,R]=w.useState(null),[V,ee]=w.useState(null),[Y,je]=w.useState(null),[Te,Ae]=w.useState(null),[Be,ve]=w.useState(null);return w.useEffect(()=>{E!==null&&E.setMap(O)},[O]),w.useEffect(()=>{typeof e<"u"&&E!==null&&E.setOptions(e)},[E,e]),w.useEffect(()=>{typeof s<"u"&&E!==null&&E.setDraggable(s)},[E,s]),w.useEffect(()=>{typeof i<"u"&&E!==null&&E.setEditable(i)},[E,i]),w.useEffect(()=>{typeof a<"u"&&E!==null&&E.setVisible(a)},[E,a]),w.useEffect(()=>{typeof n<"u"&&E!==null&&E.setBounds(n)},[E,n]),w.useEffect(()=>{E&&l&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(E,"dblclick",l)))},[l]),w.useEffect(()=>{E&&c&&(P!==null&&google.maps.event.removeListener(P),z(google.maps.event.addListener(E,"dragend",c)))},[c]),w.useEffect(()=>{E&&f&&(G!==null&&google.maps.event.removeListener(G),q(google.maps.event.addListener(E,"dragstart",f)))},[f]),w.useEffect(()=>{E&&h&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(E,"mousedown",h)))},[h]),w.useEffect(()=>{E&&m&&(ce!==null&&google.maps.event.removeListener(ce),B(google.maps.event.addListener(E,"mousemove",m)))},[m]),w.useEffect(()=>{E&&g&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(E,"mouseout",g)))},[g]),w.useEffect(()=>{E&&y&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(E,"mouseover",y)))},[y]),w.useEffect(()=>{E&&x&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(E,"mouseup",x)))},[x]),w.useEffect(()=>{E&&b&&(V!==null&&google.maps.event.removeListener(V),ee(google.maps.event.addListener(E,"rightclick",b)))},[b]),w.useEffect(()=>{E&&C&&(Y!==null&&google.maps.event.removeListener(Y),je(google.maps.event.addListener(E,"click",C)))},[C]),w.useEffect(()=>{E&&_&&(Te!==null&&google.maps.event.removeListener(Te),Ae(google.maps.event.addListener(E,"drag",_)))},[_]),w.useEffect(()=>{E&&k&&(Be!==null&&google.maps.event.removeListener(Be),ve(google.maps.event.addListener(E,"bounds_changed",k)))},[k]),w.useEffect(()=>{var Me=new google.maps.Rectangle(dp(dp({},e),{},{map:O}));return typeof a<"u"&&Me.setVisible(a),typeof i<"u"&&Me.setEditable(i),typeof s<"u"&&Me.setDraggable(s),typeof n<"u"&&Me.setBounds(n),l&&I(google.maps.event.addListener(Me,"dblclick",l)),c&&z(google.maps.event.addListener(Me,"dragend",c)),f&&q(google.maps.event.addListener(Me,"dragstart",f)),h&&re(google.maps.event.addListener(Me,"mousedown",h)),m&&B(google.maps.event.addListener(Me,"mousemove",m)),g&&se(google.maps.event.addListener(Me,"mouseout",g)),y&&pe(google.maps.event.addListener(Me,"mouseover",y)),x&&R(google.maps.event.addListener(Me,"mouseup",x)),b&&ee(google.maps.event.addListener(Me,"rightclick",b)),C&&je(google.maps.event.addListener(Me,"click",C)),_&&Ae(google.maps.event.addListener(Me,"drag",_)),k&&ve(google.maps.event.addListener(Me,"bounds_changed",k)),M(Me),j&&j(Me),()=>{T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),ce!==null&&google.maps.event.removeListener(ce),Q!==null&&google.maps.event.removeListener(Q),oe!==null&&google.maps.event.removeListener(oe),A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),Y!==null&&google.maps.event.removeListener(Y),Te!==null&&google.maps.event.removeListener(Te),Be!==null&&google.maps.event.removeListener(Be),L&&L(Me),Me.setMap(null)}},[]),null}w.memo(_$);class C$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{rectangle:null}),ue(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(dp(dp({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:hN,eventMap:fN,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:hN,eventMap:fN,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),dt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ue(C$,"contextType",st);function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var mN={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},gN={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},E$={};function N$(t){var{options:e,center:n,radius:s,draggable:i,editable:a,visible:l,onDblClick:c,onDragEnd:f,onDragStart:h,onMouseDown:m,onMouseMove:g,onMouseOut:y,onMouseOver:x,onMouseUp:b,onRightClick:C,onClick:_,onDrag:k,onCenterChanged:j,onRadiusChanged:L,onLoad:O,onUnmount:E}=t,M=w.useContext(st),[T,I]=w.useState(null),[P,z]=w.useState(null),[G,q]=w.useState(null),[K,re]=w.useState(null),[ce,B]=w.useState(null),[Q,se]=w.useState(null),[oe,pe]=w.useState(null),[A,R]=w.useState(null),[V,ee]=w.useState(null),[Y,je]=w.useState(null),[Te,Ae]=w.useState(null),[Be,ve]=w.useState(null),[Me,at]=w.useState(null),[ft,pn]=w.useState(null);return w.useEffect(()=>{T!==null&&T.setMap(M)},[M]),w.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),w.useEffect(()=>{typeof i<"u"&&T!==null&&T.setDraggable(i)},[T,i]),w.useEffect(()=>{typeof a<"u"&&T!==null&&T.setEditable(a)},[T,a]),w.useEffect(()=>{typeof l<"u"&&T!==null&&T.setVisible(l)},[T,l]),w.useEffect(()=>{typeof s=="number"&&T!==null&&T.setRadius(s)},[T,s]),w.useEffect(()=>{typeof n<"u"&&T!==null&&T.setCenter(n)},[T,n]),w.useEffect(()=>{T&&c&&(P!==null&&google.maps.event.removeListener(P),z(google.maps.event.addListener(T,"dblclick",c)))},[c]),w.useEffect(()=>{T&&f&&(G!==null&&google.maps.event.removeListener(G),q(google.maps.event.addListener(T,"dragend",f)))},[f]),w.useEffect(()=>{T&&h&&(K!==null&&google.maps.event.removeListener(K),re(google.maps.event.addListener(T,"dragstart",h)))},[h]),w.useEffect(()=>{T&&m&&(ce!==null&&google.maps.event.removeListener(ce),B(google.maps.event.addListener(T,"mousedown",m)))},[m]),w.useEffect(()=>{T&&g&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(T,"mousemove",g)))},[g]),w.useEffect(()=>{T&&y&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(T,"mouseout",y)))},[y]),w.useEffect(()=>{T&&x&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(T,"mouseover",x)))},[x]),w.useEffect(()=>{T&&b&&(V!==null&&google.maps.event.removeListener(V),ee(google.maps.event.addListener(T,"mouseup",b)))},[b]),w.useEffect(()=>{T&&C&&(Y!==null&&google.maps.event.removeListener(Y),je(google.maps.event.addListener(T,"rightclick",C)))},[C]),w.useEffect(()=>{T&&_&&(Te!==null&&google.maps.event.removeListener(Te),Ae(google.maps.event.addListener(T,"click",_)))},[_]),w.useEffect(()=>{T&&k&&(Be!==null&&google.maps.event.removeListener(Be),ve(google.maps.event.addListener(T,"drag",k)))},[k]),w.useEffect(()=>{T&&j&&(Me!==null&&google.maps.event.removeListener(Me),at(google.maps.event.addListener(T,"center_changed",j)))},[_]),w.useEffect(()=>{T&&L&&(ft!==null&&google.maps.event.removeListener(ft),pn(google.maps.event.addListener(T,"radius_changed",L)))},[L]),w.useEffect(()=>{var it=new google.maps.Circle(fp(fp({},e||E$),{},{map:M}));return typeof s=="number"&&it.setRadius(s),typeof n<"u"&&it.setCenter(n),typeof s=="number"&&it.setRadius(s),typeof l<"u"&&it.setVisible(l),typeof a<"u"&&it.setEditable(a),typeof i<"u"&&it.setDraggable(i),c&&z(google.maps.event.addListener(it,"dblclick",c)),f&&q(google.maps.event.addListener(it,"dragend",f)),h&&re(google.maps.event.addListener(it,"dragstart",h)),m&&B(google.maps.event.addListener(it,"mousedown",m)),g&&se(google.maps.event.addListener(it,"mousemove",g)),y&&pe(google.maps.event.addListener(it,"mouseout",y)),x&&R(google.maps.event.addListener(it,"mouseover",x)),b&&ee(google.maps.event.addListener(it,"mouseup",b)),C&&je(google.maps.event.addListener(it,"rightclick",C)),_&&Ae(google.maps.event.addListener(it,"click",_)),k&&ve(google.maps.event.addListener(it,"drag",k)),j&&at(google.maps.event.addListener(it,"center_changed",j)),L&&pn(google.maps.event.addListener(it,"radius_changed",L)),I(it),O&&O(it),()=>{P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),ce!==null&&google.maps.event.removeListener(ce),Q!==null&&google.maps.event.removeListener(Q),oe!==null&&google.maps.event.removeListener(oe),A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),Y!==null&&google.maps.event.removeListener(Y),Te!==null&&google.maps.event.removeListener(Te),Me!==null&&google.maps.event.removeListener(Me),ft!==null&&google.maps.event.removeListener(ft),E&&E(it),it.setMap(null)}},[]),null}w.memo(N$);class j$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{circle:null}),ue(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(fp(fp({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:gN,eventMap:mN,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:gN,eventMap:mN,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),dt(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ue(j$,"contextType",st);function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var vN={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},bN={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,s){t.loadGeoJson(e,n,s)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function k$(t){var{options:e,onClick:n,onDblClick:s,onMouseDown:i,onMouseMove:a,onMouseOut:l,onMouseOver:c,onMouseUp:f,onRightClick:h,onAddFeature:m,onRemoveFeature:g,onRemoveProperty:y,onSetGeometry:x,onSetProperty:b,onLoad:C,onUnmount:_}=t,k=w.useContext(st),[j,L]=w.useState(null),[O,E]=w.useState(null),[M,T]=w.useState(null),[I,P]=w.useState(null),[z,G]=w.useState(null),[q,K]=w.useState(null),[re,ce]=w.useState(null),[B,Q]=w.useState(null),[se,oe]=w.useState(null),[pe,A]=w.useState(null),[R,V]=w.useState(null),[ee,Y]=w.useState(null),[je,Te]=w.useState(null),[Ae,Be]=w.useState(null);return w.useEffect(()=>{j!==null&&j.setMap(k)},[k]),w.useEffect(()=>{j&&s&&(O!==null&&google.maps.event.removeListener(O),E(google.maps.event.addListener(j,"dblclick",s)))},[s]),w.useEffect(()=>{j&&i&&(M!==null&&google.maps.event.removeListener(M),T(google.maps.event.addListener(j,"mousedown",i)))},[i]),w.useEffect(()=>{j&&a&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(j,"mousemove",a)))},[a]),w.useEffect(()=>{j&&l&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(j,"mouseout",l)))},[l]),w.useEffect(()=>{j&&c&&(q!==null&&google.maps.event.removeListener(q),K(google.maps.event.addListener(j,"mouseover",c)))},[c]),w.useEffect(()=>{j&&f&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(j,"mouseup",f)))},[f]),w.useEffect(()=>{j&&h&&(B!==null&&google.maps.event.removeListener(B),Q(google.maps.event.addListener(j,"rightclick",h)))},[h]),w.useEffect(()=>{j&&n&&(se!==null&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(j,"click",n)))},[n]),w.useEffect(()=>{j&&m&&(pe!==null&&google.maps.event.removeListener(pe),A(google.maps.event.addListener(j,"addfeature",m)))},[m]),w.useEffect(()=>{j&&g&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(j,"removefeature",g)))},[g]),w.useEffect(()=>{j&&y&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(j,"removeproperty",y)))},[y]),w.useEffect(()=>{j&&x&&(je!==null&&google.maps.event.removeListener(je),Te(google.maps.event.addListener(j,"setgeometry",x)))},[x]),w.useEffect(()=>{j&&b&&(Ae!==null&&google.maps.event.removeListener(Ae),Be(google.maps.event.addListener(j,"setproperty",b)))},[b]),w.useEffect(()=>{if(k!==null){var ve=new google.maps.Data(hp(hp({},e),{},{map:k}));s&&E(google.maps.event.addListener(ve,"dblclick",s)),i&&T(google.maps.event.addListener(ve,"mousedown",i)),a&&P(google.maps.event.addListener(ve,"mousemove",a)),l&&G(google.maps.event.addListener(ve,"mouseout",l)),c&&K(google.maps.event.addListener(ve,"mouseover",c)),f&&ce(google.maps.event.addListener(ve,"mouseup",f)),h&&Q(google.maps.event.addListener(ve,"rightclick",h)),n&&oe(google.maps.event.addListener(ve,"click",n)),m&&A(google.maps.event.addListener(ve,"addfeature",m)),g&&V(google.maps.event.addListener(ve,"removefeature",g)),y&&Y(google.maps.event.addListener(ve,"removeproperty",y)),x&&Te(google.maps.event.addListener(ve,"setgeometry",x)),b&&Be(google.maps.event.addListener(ve,"setproperty",b)),L(ve),C&&C(ve)}return()=>{j&&(O!==null&&google.maps.event.removeListener(O),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),q!==null&&google.maps.event.removeListener(q),re!==null&&google.maps.event.removeListener(re),B!==null&&google.maps.event.removeListener(B),se!==null&&google.maps.event.removeListener(se),pe!==null&&google.maps.event.removeListener(pe),R!==null&&google.maps.event.removeListener(R),ee!==null&&google.maps.event.removeListener(ee),je!==null&&google.maps.event.removeListener(je),Ae!==null&&google.maps.event.removeListener(Ae),_&&_(j),j.setMap(null))}},[]),null}w.memo(k$);class O$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{data:null}),ue(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(hp(hp({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:bN,eventMap:vN,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:bN,eventMap:vN,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),dt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ue(O$,"contextType",st);function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function wN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var SN={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},_N={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class L$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{kmlLayer:null}),ue(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(wN(wN({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:_N,eventMap:SN,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:_N,eventMap:SN,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),dt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ue(L$,"contextType",st);function ML(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function M$(t,e){return new e(t.lat,t.lng)}function D$(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function T$(t,e,n){return t instanceof e?t:n(t,e)}function A$(t,e,n){return t instanceof e?t:n(t,e)}function R$(t,e,n){var s=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return s&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-i.x-e.x,"px"),height:"".concat(i.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function P$(t,e,n){var s=t&&t.fromLatLngToDivPixel(n);if(s){var{x:i,y:a}=s;return{left:"".concat(i+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function DL(t,e,n,s){return n!==void 0?R$(t,e,A$(n,google.maps.LatLngBounds,D$)):P$(t,e,T$(s,google.maps.LatLng,M$))}function I$(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function B$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function U$(t,e,n,s,i){class a extends google.maps.OverlayView{constructor(c,f,h,m){super(),this.container=c,this.pane=f,this.position=h,this.bounds=m}onAdd(){var c,f=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];f?.appendChild(this.container)}draw(){var c=this.getProjection(),f=B$({},this.container?ML(this.container,i):{x:0,y:0}),h=DL(c,f,this.bounds,this.position);for(var[m,g]of Object.entries(h))this.container.style[m]=g}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(t,e,n,s)}function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function z$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function NN(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function jN(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function F$(t){var{position:e,bounds:n,mapPaneName:s,zIndex:i,onLoad:a,onUnmount:l,getPixelPositionOffset:c,children:f}=t,h=w.useContext(st),m=w.useMemo(()=>{var y=document.createElement("div");return y.style.position="absolute",y},[]),g=w.useMemo(()=>U$(m,s,e,n,c),[m,s,e,n]);return w.useEffect(()=>(a?.(g),g?.setMap(h),()=>{l?.(g),g?.setMap(null)}),[h,g]),w.useEffect(()=>{m.style.zIndex="".concat(i)},[i,m]),Dr.createPortal(f,m)}w.memo(F$);class sc extends w.PureComponent{constructor(e){super(e),ue(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ue(this,"updatePane",()=>{var s=this.props.mapPaneName,i=this.overlayView.getPanes();On(!!s,"OverlayView requires props.mapPaneName but got %s",s),i?this.setState({paneEl:i[s]}):this.setState({paneEl:null})}),ue(this,"onAdd",()=>{var s,i;this.updatePane(),(s=(i=this.props).onLoad)===null||s===void 0||s.call(i,this.overlayView)}),ue(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),i=z$({x:0,y:0},this.containerRef.current?ML(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=DL(s,i,this.props.bounds,this.props.position);if(!I$(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,f,h;this.setState({containerStyle:{top:(l=a.top)!==null&&l!==void 0?l:0,left:(c=a.left)!==null&&c!==void 0?c:0,width:(f=a.width)!==null&&f!==void 0?f:0,height:(h=a.height)!==null&&h!==void 0?h:0,position:"absolute"}})}}),ue(this,"draw",()=>{this.onPositionElement()}),ue(this,"onRemove",()=>{var s,i;this.setState(()=>({paneEl:null})),(s=(i=this.props).onUnmount)===null||s===void 0||s.call(i,this.overlayView)}),this.containerRef=w.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=NN(e.position),s=NN(this.props.position),i=jN(e.bounds),a=jN(this.props.bounds);(n!==s||i!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Dr.createPortal(d.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:w.Children.only(this.props.children)}),e):null}}ue(sc,"FLOAT_PANE","floatPane");ue(sc,"MAP_PANE","mapPane");ue(sc,"MARKER_LAYER","markerLayer");ue(sc,"OVERLAY_LAYER","overlayLayer");ue(sc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ue(sc,"contextType",st);function H$(){}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var LN={onDblClick:"dblclick",onClick:"click"},MN={opacity(t,e){t.setOpacity(e)}};function $$(t){var{url:e,bounds:n,options:s,visible:i}=t,a=w.useContext(st),l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),c=w.useMemo(()=>new google.maps.GroundOverlay(e,l,s),[]);return w.useEffect(()=>{c!==null&&c.setMap(a)},[a]),w.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(a))},[c,e]),w.useEffect(()=>{typeof i<"u"&&c!==null&&c.setOpacity(i?1:0)},[c,i]),w.useEffect(()=>{var f=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&c!==null&&(c.set("bounds",f),c.setMap(a))},[c,n]),null}w.memo($$);class TL extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{groundOverlay:null}),ue(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){On(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ON(ON({},this.props.options),{},{map:this.context}));this.registeredEvents=ot({updaterMap:MN,eventMap:LN,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:MN,eventMap:LN,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ue(TL,"defaultProps",{onLoad:H$});ue(TL,"contextType",st);function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(s){ue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var TN={},AN={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function V$(t){var{data:e,onLoad:n,onUnmount:s,options:i}=t,a=w.useContext(st),[l,c]=w.useState(null);return w.useEffect(()=>{google.maps.visualization||On(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),w.useEffect(()=>{On(!!e,"data property is required in HeatmapLayer %s",e)},[e]),w.useEffect(()=>{l!==null&&l.setMap(a)},[a]),w.useEffect(()=>{i&&l!==null&&l.setOptions(i)},[l,i]),w.useEffect(()=>{var f=new google.maps.visualization.HeatmapLayer(pp(pp({},i),{},{data:e,map:a}));return c(f),n&&n(f),()=>{l!==null&&(s&&s(l),l.setMap(null))}},[]),null}w.memo(V$);class q$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{heatmapLayer:null}),ue(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){On(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),On(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(pp(pp({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ot({updaterMap:AN,eventMap:TN,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:AN,eventMap:TN,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),dt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ue(q$,"contextType",st);var RN={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},PN={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class G$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{streetViewPanorama:null}),ue(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,s=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ot({updaterMap:PN,eventMap:RN,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:PN,eventMap:RN,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),dt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ue(G$,"contextType",st);class Y$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"state",{streetViewService:null}),ue(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ue(Y$,"contextType",st);var IN={onDirectionsChanged:"directions_changed"},BN={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class W$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"state",{directionsRenderer:null}),ue(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ot({updaterMap:BN,eventMap:IN,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:BN,eventMap:IN,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),dt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ue(W$,"contextType",st);var UN={onPlacesChanged:"places_changed"},zN={bounds(t,e){t.setBounds(e)}};class Q$ extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"containerElement",w.createRef()),ue(this,"state",{searchBox:null}),ue(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(On(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ot({updaterMap:zN,eventMap:UN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:zN,eventMap:UN,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),dt(this.registeredEvents))}render(){return d.jsx("div",{ref:this.containerElement,children:w.Children.only(this.props.children)})}}ue(Q$,"contextType",st);var FN={onPlaceChanged:"place_changed"},HN={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class Fx extends w.PureComponent{constructor(){super(...arguments),ue(this,"registeredEvents",[]),ue(this,"containerElement",w.createRef()),ue(this,"state",{autocomplete:null}),ue(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;On(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=ot({updaterMap:HN,eventMap:FN,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){dt(this.registeredEvents),this.registeredEvents=ot({updaterMap:HN,eventMap:FN,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&dt(this.registeredEvents)}render(){return d.jsx("div",{ref:this.containerElement,className:this.props.className,children:w.Children.only(this.props.children)})}}ue(Fx,"defaultProps",{className:""});ue(Fx,"contextType",st);const K$=t=>{let e="",n="",s="",i="",a="",l="";return t.address_components.forEach(c=>{const f=c.types;f.includes("street_number")&&(n=c.long_name),f.includes("route")&&(e=c.long_name),(f.includes("sublocality")||f.includes("neighborhood"))&&(s=c.long_name),f.includes("locality")&&(i=c.long_name),!i&&f.includes("administrative_area_level_2")&&(i=c.long_name),f.includes("administrative_area_level_1")&&(a=c.long_name),f.includes("postal_code")&&(l=c.long_name)}),{streetAddress:`${e} ${n}`.trim(),colony:s,city:i,state:a,zipCode:l,lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}},X$=["places"],Z$=({initialLat:t,initialLng:e,onLocationSelect:n,apiKey:s})=>{const{isLoaded:i}=_H({googleMapsApiKey:s,libraries:X$}),a={lat:18.9213584,lng:-99.244986},[l,c]=w.useState(a),[f,h]=w.useState(a),m=w.useRef(null),g=w.useRef(null);w.useEffect(()=>{if(t&&e&&t!==0){const _={lat:Number(t),lng:Number(e)};c(_),h(_);return}navigator.geolocation&&navigator.geolocation.getCurrentPosition(_=>{const k={lat:_.coords.latitude,lng:_.coords.longitude};c(k),h(k)},()=>{console.log("Geolocation permission denied or failed. Using default center.")})},[t,e]);const y=(_,k)=>{new google.maps.Geocoder().geocode({location:{lat:_,lng:k}},(L,O)=>{if(O==="OK"&&L&&L[0]){const E=K$(L[0]);n(E)}})},x=w.useCallback(async _=>{if(!_.latLng)return;const k=_.latLng.lat(),j=_.latLng.lng();h({lat:k,lng:j}),y(k,j)},[n]),b=()=>{if(g.current){const _=g.current.getPlace();if(_.geometry&&_.geometry.location){const k=_.geometry.location.lat(),j=_.geometry.location.lng();c({lat:k,lng:j}),h({lat:k,lng:j}),m.current?.panTo({lat:k,lng:j}),m.current?.setZoom(17),y(k,j)}}},C=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(_=>{const k={lat:_.coords.latitude,lng:_.coords.longitude};c(k),h(k),m.current?.panTo(k),m.current?.setZoom(16)})};return i?d.jsxs("div",{className:"relative w-full h-[600px] rounded-3xl overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsxs(dH,{center:l,zoom:15,mapContainerStyle:{width:"100%",height:"100%"},onLoad:_=>{m.current=_},options:{streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1,zoomControl:!0},children:[d.jsx("div",{className:"absolute top-4 left-4 right-4 z-10 max-w-md mx-auto",children:d.jsx(Fx,{onLoad:_=>g.current=_,onPlaceChanged:b,children:d.jsxs("div",{className:"relative shadow-xl rounded-full bg-white dark:bg-gray-800 ring-1 ring-gray-200 dark:ring-gray-700 group focus-within:ring-2 focus-within:ring-primary transition-all",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(xd,{className:"h-5 w-5 text-gray-400 group-focus-within:text-primary"})}),d.jsx("input",{type:"text",placeholder:"Search address (e.g. Reforma 222)...",className:`
                            w-full py-3.5 pl-12 pr-12 rounded-full border-none 
                            bg-transparent 
                            text-sm font-medium text-gray-900 dark:text-white 
                            placeholder-gray-400 dark:placeholder-gray-500
                            focus:outline-none focus:ring-0
                        `})]})})}),d.jsx("button",{onClick:C,className:"absolute bottom-20 right-3 z-10 bg-white dark:bg-gray-800 p-2.5 rounded-full shadow-lg border border-gray-100 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:text-primary transition-colors",title:"My Location",type:"button",children:d.jsx(tP,{className:"w-6 h-6"})}),d.jsx(TH,{position:f,draggable:!0,onDragEnd:x,animation:google.maps.Animation.DROP})]}),d.jsxs("div",{className:"absolute bottom-4 left-4 right-14 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md p-3 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-800 flex items-start gap-3 text-xs",children:[d.jsx("div",{className:"p-1.5 bg-primary/10 rounded-full text-primary shrink-0",children:d.jsx(mo,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx(H.Label,{className:"text-primary mb-0.5",children:"Como usar"}),d.jsxs("p",{className:"text-gray-600 dark:text-gray-400 leading-snug",children:["Arrastra el ",d.jsx("span",{className:"text-red-500 font-bold",children:"Pin Rojo"})," al lugar, la informacin se cargara automaticamente."]})]})]})]}):d.jsx("div",{className:"w-full h-80 bg-gray-100 dark:bg-gray-800 flex items-center justify-center rounded-2xl border border-gray-200 dark:border-gray-700",children:d.jsx(bd,{className:"w-8 h-8 animate-spin text-gray-400"})})},$N=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{createRestaurant:i,updateRestaurant:a,getRestaurantById:l,isLoading:c,isCreating:f,isUpdating:h}=tc(),{users:m,isLoading:g}=Px(),{uploadFile:y,isUploading:x}=Md(),b=Ct(le=>le.addToast),C=m.filter(le=>le.role.name==Us.ADMIN),[_,k]=w.useState(""),[j,L]=w.useState(""),[O,E]=w.useState(""),[M,T]=w.useState("moderate"),[I,P]=w.useState(25),[z,G]=w.useState(""),[q,K]=w.useState(""),[re,ce]=w.useState(""),[B,Q]=w.useState(""),[se,oe]=w.useState(""),[pe,A]=w.useState(""),[R,V]=w.useState(""),[ee,Y]=w.useState(""),[je,Te]=w.useState(""),[Ae,Be]=w.useState(""),[ve,Me]=w.useState(0),[at,ft]=w.useState(0),[pn,it]=w.useState("active"),[ls,cs]=w.useState(!1),[Ys,$n]=w.useState(!1),[Vn,F]=w.useState(null),[X,ae]=w.useState(null),[Ee,ke]=w.useState(null),[Se,Pe]=w.useState(null),Ze=w.useRef(!1);w.useEffect(()=>{Ze.current=!1},[n]),w.useEffect(()=>{s&&n&&!Ze.current&&(async()=>{const be=await l(n);be&&(k(be.userId),L(be.name),E(be.description||""),T(be.priceRange),P(be.averagePrepTimeMin),G(be.rfc||""),K(be.legalName||""),ce(be.publicPhone||""),Q(be.privatePhone||""),oe(be.streetAddress),A(be.colony),V(be.city),Te(be.state),Be(be.zipCode),Me(Number(be.lat)),ft(Number(be.lng)),it(be.status),Y(be.email||""),be.logoUrl&&(ae(be.logoUrl),cs(!0)),be.heroImageUrl&&(Pe(be.heroImageUrl||null),$n(!0)),Ze.current=!0)})()},[s,n,l]);const rt=le=>{oe(le.streetAddress),A(le.colony),V(le.city),Te(le.state),Be(le.zipCode),Me(le.lat),ft(le.lng)},Ut=async()=>{if(!j||!_||!se||!Ae||!R||!O||!ee){b(t("restaurants.fields_validation"),"error");return}if(ve===0&&at===0){b(t("restaurants.validation_select_location"),"warning");return}if(z==""||z==null||z.length<10){b(t("restaurants.validation_rfc"),"error");return}let le=X||"",be=Se||"";if(Vn!=null&&!ls){const Ce=await y(Vn,zl.RestaurantsLogo);console.log("URL LOGO",Ce),Ce&&(le=Ce,ae(Ce),cs(!0))}if(Ee!=null&&!Ys){const Ce=await y(Ee,zl.RestaurantsBanner);console.log("URL BANNER",Ce),Ce&&(be=Ce,Pe(Ce),$n(!0))}console.log("Hero File",Vn&&!ls),console.log("Banner File",Ee&&!Ys);try{const Ce={userId:_,name:j,description:O,priceRange:M,averagePrepTimeMin:Number(I),streetAddress:se,colony:pe,city:R,state:je,zipCode:Ae,lat:Number(ve),lng:Number(at),publicPhone:re,privatePhone:B,rfc:z,legalName:q,logoUrl:le,heroImageUrl:be,isOpen:!0,email:ee};if(s&&n){const He={...Ce,status:pn};console.log("Payload",He),await a({id:n,data:He})}else{if(le==null||le==""||be==null||be==""){b(t("images.required_image"),"error");return}const He=Ce;console.log("Payload",He),await i(He)}e()}catch(Ce){console.error(Ce)}},_e=c||x||g||f||h;return d.jsx(Vt,{title:t(s?"restaurants.edit":"restaurants.new"),subtitle:s?`${t("restaurants.managing")} ${j}`:t("restaurants.onboard_new"),showNavBack:!0,headerActions:d.jsx("div",{className:"flex gap-3",children:d.jsx(Fe,{onClick:Ut,disabled:_e,children:_e?t("common.loading"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",t("common.save")]})})}),isLoading:_e,children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-20",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-border",children:[d.jsx(Wu,{className:"w-5 h-5 text-primary"}),d.jsx(H.H3,{className:"mb-0",children:t("restaurants.general_information")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{className:"md:col-span-2",children:d.jsx(ze,{label:t("restaurants.field_name"),value:j,onChange:le=>L(le.target.value),placeholder:"e.g. Burger King",required:!0})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs(is,{label:t("restaurants.field_owner"),value:_,onChange:le=>k(le.target.value),children:[d.jsx("option",{value:"",children:t("restaurants.select_owner")}),C?.map(le=>d.jsxs("option",{value:le.id,children:[le.firstName," ",le.lastName," ",` - @${le.username}`]},le.id))]}),d.jsxs(H.Small,{className:"text-xs text-text-muted mt-1 block",children:["* ",t("restaurants.field_owner_help"),"."]})]}),d.jsxs(is,{label:t("restaurants.price_range"),value:M,onChange:le=>T(le.target.value),children:[d.jsx("option",{value:"$",children:"Inexpensive ($)"}),d.jsx("option",{value:"$$",children:"Moderate ($$)"}),d.jsx("option",{value:"$$$",children:"Expensive ($$$)"}),d.jsx("option",{value:"$$$$",children:"Very Expensive ($$$$)"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsx(ze,{label:t("common.description"),value:O,onChange:le=>E(le.target.value),placeholder:"Best burgers in town..."})}),d.jsx(ze,{label:t("restaurants.time_preparation"),value:I,type:"number",onChange:le=>P(Number(le.target.value)),placeholder:"30"})]})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-border",children:[d.jsx(mo,{className:"w-5 h-5 text-primary"}),d.jsx(H.H3,{className:"mb-0",children:t("restaurants.location_and_coordinates")})]}),d.jsx("div",{className:"mb-6",children:d.jsx(Z$,{apiKey:"AIzaSyBvoi16HNFzhfIMwgAQbr1ovM1XEV--_Wg",initialLat:ve,initialLng:at,onLocationSelect:rt})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{className:"md:col-span-2",children:d.jsx(ze,{label:t("common.street_address"),value:se,onChange:le=>oe(le.target.value),required:!0})}),d.jsx(ze,{label:t("common.colony"),value:pe,onChange:le=>A(le.target.value)}),d.jsx(ze,{label:t("common.zip_code"),value:Ae,onChange:le=>Be(le.target.value),required:!0}),d.jsx(ze,{label:t("common.city"),value:R,onChange:le=>V(le.target.value),required:!0}),d.jsx(ze,{label:t("common.state"),value:je,onChange:le=>Te(le.target.value),required:!0}),d.jsx("div",{className:"opacity-80",children:d.jsx(ze,{label:t("common.latitude"),value:ve,disabled:!0,readOnly:!0,icon:d.jsx(Hh,{className:"w-4 h-4 text-text-muted"})})}),d.jsx("div",{className:"opacity-80",children:d.jsx(ze,{label:t("common.longitude"),value:at,readOnly:!0,disabled:!0,icon:d.jsx(Hh,{className:"w-4 h-4 text-text-muted"})})})]})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-border",children:[d.jsx(uk,{className:"w-5 h-5 text-primary"}),d.jsx(H.H3,{className:"mb-0",children:t("restaurants.legal_contact")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(ze,{label:t("restaurants.rfc"),value:z,onChange:le=>G(le.target.value),placeholder:"XAXX010101000",minLength:10,maxLength:15}),d.jsx(ze,{label:t("restaurants.legal_name"),value:q,onChange:le=>K(le.target.value)}),d.jsx(ze,{label:t("restaurants.public_phone"),value:re,onChange:le=>ce(le.target.value),icon:d.jsx(mi,{className:"w-4 h-4"})}),d.jsx(ze,{label:t("restaurants.private_phone"),value:B,onChange:le=>Q(le.target.value),icon:d.jsx(mi,{className:"w-4 h-4"})}),d.jsx(ze,{label:t("restaurants.email"),value:ee,onChange:le=>Y(le.target.value),placeholder:"example@example.com",icon:d.jsx(So,{className:"w-4 h-4"})})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border flex flex-col items-center text-center",children:[d.jsx(H.H3,{className:"mb-2",children:t("common.logo")}),d.jsxs("div",{className:"relative group mb-4",children:[d.jsxs("div",{className:"w-40 h-40 rounded-full border-4 border-border shadow-inner overflow-hidden relative bg-gray-50 dark:bg-gray-800 flex items-center justify-center",children:[X?d.jsx("img",{src:X,alt:"Logo",className:"w-full h-full object-cover"}):d.jsxs("div",{className:"text-center text-text-muted",children:[d.jsx(Ru,{className:"w-8 h-8 mx-auto mb-1"}),d.jsx("span",{className:"text-xs",children:t("images.upload_logo")})]}),d.jsx("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-full cursor-pointer",children:d.jsx(Ru,{className:"w-8 h-8 text-white mb-2"})})]}),d.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:le=>{const be=le.target.files?.[0];be&&(F(be),ae(URL.createObjectURL(be)),cs(!1))}})]})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border",children:[d.jsx(H.H3,{className:"mb-4",children:t("images.cover_image")}),d.jsxs("div",{className:"w-full h-32 rounded-xl border-2 border-dashed border-border flex items-center justify-center relative overflow-hidden bg-gray-50 dark:bg-gray-800",children:[Se?d.jsx("img",{src:Se,alt:"Cover",className:"w-full h-full object-cover"}):d.jsxs("div",{className:"text-center text-text-muted",children:[d.jsx(Ru,{className:"w-8 h-8 mx-auto mb-1"}),d.jsx("span",{className:"text-xs",children:t("images.upload_cover")})]}),d.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:le=>{const be=le.target.files?.[0];be&&(ke(be),Pe(URL.createObjectURL(be)),$n(!1))}})]})]}),s&&d.jsx("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border",children:d.jsxs(is,{label:t("common.status"),value:pn,onChange:le=>it(le.target.value),children:[d.jsx("option",{value:"active",children:t("common.status_active")}),d.jsx("option",{value:"inactive",children:t("common.status_inactive")}),d.jsx("option",{value:"suspended",children:t("common.status_suspended")})]})})]})]})})},J$=({section:t,onEdit:e,onStatusChange:n})=>{const{t:s}=Ve();return d.jsxs("div",{className:"bg-background-card rounded-3xl p-5 border border-border shadow-sm hover:shadow-md transition-all group flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary shrink-0",children:d.jsx(FP,{className:"w-6 h-6"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx(H.H3,{className:"text-base mb-1 truncate",title:t.name,children:t.name}),d.jsxs(Bt,{variant:"default",children:[d.jsx(ok,{className:"w-3 h-3 mr-1"}),s("order.order"),": ",t.sortOrder]})]})]}),d.jsxs("div",{className:"mt-auto space-y-4",children:[d.jsx("div",{className:"pt-4 border-t border-border",children:d.jsxs(is,{label:s("menuSections.visibility_status"),value:t.status,onChange:i=>n(i.target.value),className:"mb-0",children:[d.jsx("option",{value:"active",children:s("common.status_active")}),d.jsx("option",{value:"inactive",children:s("common.status_inactive")}),d.jsx("option",{value:"suspended",children:s("common.status_suspended")})]})}),d.jsx(Tr,{secondary:{label:s("common.edit"),icon:qs,onClick:e}})]})]})},e9=()=>{const{t}=Ve(),{sections:e,isLoading:n,updateStatus:s}=Zp(),{navigateTo:i}=en(),[a,l]=w.useState(""),{confirm:c}=Co(),f=e.filter(m=>m.name.toLowerCase().includes(a.toLowerCase())),h=async(m,g)=>{c({title:t("confirm_modal.update_status"),message:t("confirm_modal.update_status_description"),variant:"warning",confirmText:t("confirm_modal.confirm"),onConfirm:async()=>{await s({id:m,data:{status:g}})}})};return d.jsx(Vt,{title:t("menuSections.menuSections"),subtitle:t("menuSections.description"),headerActions:d.jsxs(Fe,{onClick:()=>i(Dt.MenuSectionsAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("menuSections.add")]}),isLoading:n,isEmpty:f.length===0,renderControls:d.jsx("div",{className:"w-full",children:d.jsx(er,{value:a,onChange:m=>l(m.target.value),placeholder:t("common.search")})}),emptyLabel:t("menuSections.empty"),emptyIcon:fP,children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:f.map(m=>d.jsx(J$,{section:m,onEdit:()=>i(Dt.MenuSectionsEdit(m.id)),onStatusChange:g=>h(m.id,g)},m.id))})})},VN=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{activeRestaurant:i}=Tt(),{createSection:a,updateSection:l,getSectionById:c,isCreating:f,isUpdating:h,isLoading:m}=Zp(),g=Ct(L=>L.addToast),[y,x]=w.useState(""),[b,C]=w.useState(0),_=w.useRef(!1);w.useEffect(()=>{s&&n&&!_.current&&(async()=>{try{const O=await c(n);O&&(x(O.name),C(O.sortOrder||0),_.current=!0)}catch{e()}})()},[s,n,c,e]);const k=async()=>{if(!y.trim()){g(t("menuSections.validation_name"),"error");return}if(!i?.id){g(t("errors.no_active_restaurant"),"error");return}try{if(s&&n)await l({id:n,data:{name:y,sortOrder:Number(b)}});else{const L={restaurantId:i.id,name:y,sortOrder:Number(b)};await a(L)}e()}catch(L){console.error(L)}},j=f||h||m;return d.jsx(Vt,{title:t(s?"menuSections.edit":"menuSections.add"),subtitle:s?`${t("common.editing")} "${y}"`:t("menuSections.add_description"),showNavBack:!0,headerActions:d.jsx("div",{className:"flex gap-3",children:d.jsx(Fe,{onClick:k,disabled:j,children:j?t("common.loading"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",t("common.save")]})})}),children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[!i&&d.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[d.jsx(ba,{className:"w-5 h-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx(H.H3,{className:"!text-red-700 text-sm",children:t("errors.error")}),d.jsx(H.Body,{className:"!text-red-600 text-xs",children:t("errors.no_active_restaurant_description")})]})]}),d.jsx("div",{className:"bg-background-card p-8 rounded-3xl shadow-sm border border-border space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsx(ze,{label:t("menuSections.section_name"),placeholder:"e.g. Starters, Breakfast, Drinks",value:y,onChange:L=>x(L.target.value),required:!0,disabled:!i}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[d.jsx(ze,{label:t("menuSections.sort_order"),type:"number",value:b,onChange:L=>C(Number(L.target.value)),icon:d.jsx(ok,{className:"w-4 h-4 text-text-muted"}),min:0,disabled:!i}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-xl border border-border",children:[d.jsx(H.Label,{className:"mb-1 block",children:t("common.pro_tips")}),d.jsx(H.Small,{className:"leading-relaxed",children:t("menuSections.sort_tips")})]})]})]})})]})})};function Jn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var t9=typeof Symbol=="function"&&Symbol.observable||"@@observable",qN=t9,GN=()=>Math.random().toString(36).substring(7).split("").join("."),n9={INIT:`@@redux/INIT${GN()}`,REPLACE:`@@redux/REPLACE${GN()}`},YN=n9;function s9(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function AL(t,e,n){if(typeof t!="function")throw new Error(Jn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jn(1));return n(AL)(t,e)}let s=t,i=e,a=new Map,l=a,c=0,f=!1;function h(){l===a&&(l=new Map,a.forEach((_,k)=>{l.set(k,_)}))}function m(){if(f)throw new Error(Jn(3));return i}function g(_){if(typeof _!="function")throw new Error(Jn(4));if(f)throw new Error(Jn(5));let k=!0;h();const j=c++;return l.set(j,_),function(){if(k){if(f)throw new Error(Jn(6));k=!1,h(),l.delete(j),a=null}}}function y(_){if(!s9(_))throw new Error(Jn(7));if(typeof _.type>"u")throw new Error(Jn(8));if(typeof _.type!="string")throw new Error(Jn(17));if(f)throw new Error(Jn(9));try{f=!0,i=s(i,_)}finally{f=!1}return(a=l).forEach(j=>{j()}),_}function x(_){if(typeof _!="function")throw new Error(Jn(10));s=_,y({type:YN.REPLACE})}function b(){const _=g;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Jn(11));function j(){const O=k;O.next&&O.next(m())}return j(),{unsubscribe:_(j)}},[qN](){return this}}}return y({type:YN.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:x,[qN]:b}}function WN(t,e){return function(...n){return e(t.apply(this,n))}}function QN(t,e){if(typeof t=="function")return WN(t,e);if(typeof t!="object"||t===null)throw new Error(Jn(16));const n={};for(const s in t){const i=t[s];typeof i=="function"&&(n[s]=WN(i,e))}return n}function RL(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function i9(...t){return e=>(n,s)=>{const i=e(n,s);let a=()=>{throw new Error(Jn(15))};const l={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},c=t.map(f=>f(l));return a=RL(...c)(i.dispatch),{...i,dispatch:a}}}var dv={exports:{}},fv={};var KN;function r9(){if(KN)return fv;KN=1;var t=vd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return fv.useSyncExternalStoreWithSelector=function(f,h,m,g,y){var x=i(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function _(E){if(!k){if(k=!0,j=E,E=g(E),y!==void 0&&b.hasValue){var M=b.value;if(y(M,E))return L=M}return L=E}if(M=L,n(j,E))return M;var T=g(E);return y!==void 0&&y(M,T)?(j=E,M):(j=E,L=T)}var k=!1,j,L,O=m===void 0?null:m;return[function(){return _(h())},O===null?void 0:function(){return _(O())}]},[h,m,g,y]);var C=s(f,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=C},[C]),c(C),C},fv}var XN;function a9(){return XN||(XN=1,dv.exports=r9()),dv.exports}a9();var o9=w.version.startsWith("19"),l9=Symbol.for(o9?"react.transitional.element":"react.element"),c9=Symbol.for("react.portal"),u9=Symbol.for("react.fragment"),d9=Symbol.for("react.strict_mode"),f9=Symbol.for("react.profiler"),h9=Symbol.for("react.consumer"),p9=Symbol.for("react.context"),PL=Symbol.for("react.forward_ref"),m9=Symbol.for("react.suspense"),g9=Symbol.for("react.suspense_list"),Hx=Symbol.for("react.memo"),y9=Symbol.for("react.lazy"),v9=PL,b9=Hx;function x9(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case l9:switch(t=t.type,t){case u9:case f9:case d9:case m9:case g9:return t;default:switch(t=t&&t.$$typeof,t){case p9:case PL:case y9:case Hx:return t;case h9:return t;default:return e}}case c9:return e}}}function w9(t){return x9(t)===Hx}function S9(t,e,n,s,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:l}){let c=!1,f,h,m,g,y;function x(j,L){return f=j,h=L,m=t(f,h),g=e(s,h),y=n(m,g,h),c=!0,y}function b(){return m=t(f,h),e.dependsOnOwnProps&&(g=e(s,h)),y=n(m,g,h),y}function C(){return t.dependsOnOwnProps&&(m=t(f,h)),e.dependsOnOwnProps&&(g=e(s,h)),y=n(m,g,h),y}function _(){const j=t(f,h),L=!l(j,m);return m=j,L&&(y=n(m,g,h)),y}function k(j,L){const O=!a(L,h),E=!i(j,f,L,h);return f=j,h=L,O&&E?b():O?C():E?_():y}return function(L,O){return c?k(L,O):x(L,O)}}function _9(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:s,...i}){const a=e(t,i),l=n(t,i),c=s(t,i);return S9(a,l,c,t,i)}function C9(t,e){const n={};for(const s in t){const i=t[s];typeof i=="function"&&(n[s]=(...a)=>e(i(...a)))}return n}function bb(t){return function(n){const s=t(n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function ZN(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function IL(t,e){return function(s,{displayName:i}){const a=function(c,f){return a.dependsOnOwnProps?a.mapToProps(c,f):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,f){a.mapToProps=t,a.dependsOnOwnProps=ZN(t);let h=a(c,f);return typeof h=="function"&&(a.mapToProps=h,a.dependsOnOwnProps=ZN(h),h=a(c,f)),h},a}}function $x(t,e){return(n,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${s.wrappedComponentName}.`)}}function E9(t){return t&&typeof t=="object"?bb(e=>C9(t,e)):t?typeof t=="function"?IL(t):$x(t,"mapDispatchToProps"):bb(e=>({dispatch:e}))}function N9(t){return t?typeof t=="function"?IL(t):$x(t,"mapStateToProps"):bb(()=>({}))}function j9(t,e,n){return{...n,...t,...e}}function k9(t){return function(n,{displayName:s,areMergedPropsEqual:i}){let a=!1,l;return function(f,h,m){const g=t(f,h,m);return a?i(g,l)||(l=g):(a=!0,l=g),l}}}function O9(t){return t?typeof t=="function"?k9(t):$x(t,"mergeProps"):()=>j9}function L9(t){t()}function M9(){let t=null,e=null;return{clear(){t=null,e=null},notify(){L9(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var JN={notify(){},get:()=>[]};function BL(t,e){let n,s=JN,i=0,a=!1;function l(C){m();const _=s.subscribe(C);let k=!1;return()=>{k||(k=!0,_(),g())}}function c(){s.notify()}function f(){b.onStateChange&&b.onStateChange()}function h(){return a}function m(){i++,n||(n=e?e.addNestedSub(f):t.subscribe(f),s=M9())}function g(){i--,n&&i===0&&(n(),n=void 0,s.clear(),s=JN)}function y(){a||(a=!0,m())}function x(){a&&(a=!1,g())}const b={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>s};return b}var D9=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T9=D9(),A9=()=>typeof navigator<"u"&&navigator.product==="ReactNative",R9=A9(),P9=()=>T9||R9?w.useLayoutEffect:w.useEffect,mp=P9();function e2(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function hv(t,e){if(e2(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!e2(t[n[i]],e[n[i]]))return!1;return!0}var I9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},UL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},z9={[v9]:U9,[b9]:UL};function t2(t){return w9(t)?UL:z9[t.$$typeof]||I9}var F9=Object.defineProperty,H9=Object.getOwnPropertyNames,n2=Object.getOwnPropertySymbols,$9=Object.getOwnPropertyDescriptor,V9=Object.getPrototypeOf,s2=Object.prototype;function xb(t,e){if(typeof e!="string"){if(s2){const a=V9(e);a&&a!==s2&&xb(t,a)}let n=H9(e);n2&&(n=n.concat(n2(e)));const s=t2(t),i=t2(e);for(let a=0;a<n.length;++a){const l=n[a];if(!B9[l]&&!(i&&i[l])&&!(s&&s[l])){const c=$9(e,l);try{F9(t,l,c)}catch{}}}}return t}var q9=Symbol.for("react-redux-context"),G9=typeof globalThis<"u"?globalThis:{};function Y9(){if(!w.createContext)return{};const t=G9[q9]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var zL=Y9(),W9=[null,null];function Q9(t,e,n){mp(()=>t(...e),n)}function K9(t,e,n,s,i,a){t.current=s,n.current=!1,i.current&&(i.current=null,a())}function X9(t,e,n,s,i,a,l,c,f,h,m){if(!t)return()=>{};let g=!1,y=null;const x=()=>{if(g||!c.current)return;const C=e.getState();let _,k;try{_=s(C,i.current)}catch(j){k=j,y=j}k||(y=null),_===a.current?l.current||h():(a.current=_,f.current=_,l.current=!0,m())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(g=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function Z9(t,e){return t===e}function J9(t,e,n,{pure:s,areStatesEqual:i=Z9,areOwnPropsEqual:a=hv,areStatePropsEqual:l=hv,areMergedPropsEqual:c=hv,forwardRef:f=!1,context:h=zL}={}){const m=h,g=N9(t),y=E9(e),x=O9(n),b=!!t;return _=>{const k=_.displayName||_.name||"Component",j=`Connect(${k})`,L={shouldHandleStateChanges:b,displayName:j,wrappedComponentName:k,WrappedComponent:_,initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:x,areStatesEqual:i,areStatePropsEqual:l,areOwnPropsEqual:a,areMergedPropsEqual:c};function O(T){const[I,P,z]=w.useMemo(()=>{const{reactReduxForwardedRef:at,...ft}=T;return[T.context,at,ft]},[T]),G=w.useMemo(()=>{let at=m;return I?.Consumer,at},[I,m]),q=w.useContext(G),K=!!T.store&&!!T.store.getState&&!!T.store.dispatch,re=!!q&&!!q.store,ce=K?T.store:q.store,B=re?q.getServerState:ce.getState,Q=w.useMemo(()=>_9(ce.dispatch,L),[ce]),[se,oe]=w.useMemo(()=>{if(!b)return W9;const at=BL(ce,K?void 0:q.subscription),ft=at.notifyNestedSubs.bind(at);return[at,ft]},[ce,K,q]),pe=w.useMemo(()=>K?q:{...q,subscription:se},[K,q,se]),A=w.useRef(void 0),R=w.useRef(z),V=w.useRef(void 0),ee=w.useRef(!1),Y=w.useRef(!1),je=w.useRef(void 0);mp(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const Te=w.useMemo(()=>()=>V.current&&z===R.current?V.current:Q(ce.getState(),z),[ce,z]),Ae=w.useMemo(()=>ft=>se?X9(b,ce,se,Q,R,A,ee,Y,V,oe,ft):()=>{},[se]);Q9(K9,[R,A,ee,z,V,oe]);let Be;try{Be=w.useSyncExternalStore(Ae,Te,B?()=>Q(B(),z):Te)}catch(at){throw je.current&&(at.message+=`
The error may be correlated with this previous error:
${je.current.stack}

`),at}mp(()=>{je.current=void 0,V.current=void 0,A.current=Be});const ve=w.useMemo(()=>w.createElement(_,{...Be,ref:P}),[P,_,Be]);return w.useMemo(()=>b?w.createElement(G.Provider,{value:pe},ve):ve,[G,ve,pe])}const M=w.memo(O);if(M.WrappedComponent=_,M.displayName=O.displayName=j,f){const I=w.forwardRef(function(z,G){return w.createElement(M,{...z,reactReduxForwardedRef:G})});return I.displayName=j,I.WrappedComponent=_,xb(I,_)}return xb(M,_)}}var FL=J9;function eV(t){const{children:e,context:n,serverState:s,store:i}=t,a=w.useMemo(()=>{const f=BL(i);return{store:i,subscription:f,getServerState:s?()=>s:void 0}},[i,s]),l=w.useMemo(()=>i.getState(),[i]);mp(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const c=n||zL;return w.createElement(c.Provider,{value:a},e)}var tV=eV,nV="Invariant failed";function sV(t,e){throw new Error(nV)}var ji=function(e){var n=e.top,s=e.right,i=e.bottom,a=e.left,l=s-a,c=i-n,f={top:n,right:s,bottom:i,left:a,width:l,height:c,x:a,y:n,center:{x:(s+a)/2,y:(i+n)/2}};return f},Vx=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},i2=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},iV=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},pv={top:0,right:0,bottom:0,left:0},qx=function(e){var n=e.borderBox,s=e.margin,i=s===void 0?pv:s,a=e.border,l=a===void 0?pv:a,c=e.padding,f=c===void 0?pv:c,h=ji(Vx(n,i)),m=ji(i2(n,l)),g=ji(i2(m,f));return{marginBox:h,borderBox:ji(n),paddingBox:m,contentBox:g,margin:i,border:l,padding:f}},ri=function(e){var n=e.slice(0,-2),s=e.slice(-2);if(s!=="px")return 0;var i=Number(n);return isNaN(i)&&sV(),i},rV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},gp=function(e,n){var s=e.borderBox,i=e.border,a=e.margin,l=e.padding,c=iV(s,n);return qx({borderBox:c,border:i,margin:a,padding:l})},yp=function(e,n){return n===void 0&&(n=rV()),gp(e,n)},HL=function(e,n){var s={top:ri(n.marginTop),right:ri(n.marginRight),bottom:ri(n.marginBottom),left:ri(n.marginLeft)},i={top:ri(n.paddingTop),right:ri(n.paddingRight),bottom:ri(n.paddingBottom),left:ri(n.paddingLeft)},a={top:ri(n.borderTopWidth),right:ri(n.borderRightWidth),bottom:ri(n.borderBottomWidth),left:ri(n.borderLeftWidth)};return qx({borderBox:e,margin:s,padding:i,border:a})},$L=function(e){var n=e.getBoundingClientRect(),s=window.getComputedStyle(e);return HL(n,s)},rd=function(e){var n=[],s=null,i=function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];n=c,!s&&(s=requestAnimationFrame(function(){s=null,e.apply(void 0,n)}))};return i.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},i};function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vp.apply(null,arguments)}function VL(t,e){}VL.bind(null,"warn");VL.bind(null,"error");function ga(){}function aV(t,e){return{...t,...e}}function ui(t,e,n){const s=e.map(i=>{const a=aV(n,i.options);return t.addEventListener(i.eventName,i.fn,a),function(){t.removeEventListener(i.eventName,i.fn,a)}});return function(){s.forEach(a=>{a()})}}const oV="Invariant failed";class bp extends Error{}bp.prototype.toString=function(){return this.message};function Oe(t,e){throw new bp(oV)}class lV extends Re.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=ga,this.onWindowError=n=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),n.error instanceof bp&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ui(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof bp){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const cV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,xp=t=>t+1,uV=t=>`
  You have lifted an item in position ${xp(t.source.index)}
`,qL=(t,e)=>{const n=t.droppableId===e.droppableId,s=xp(t.index),i=xp(e.index);return n?`
      You have moved the item from position ${s}
      to position ${i}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},GL=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,dV=t=>{const e=t.destination;if(e)return qL(t.source,e);const n=t.combine;return n?GL(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},r2=t=>`
  The item has returned to its starting position
  of ${xp(t.index)}
`,fV=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${r2(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${qL(t.source,e)}
    `:n?`
      You have dropped the item.
      ${GL(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${r2(t.source)}
  `},Uh={dragHandleUsageInstructions:cV,onDragStart:uV,onDragUpdate:dV,onDragEnd:fV};function hV(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function YL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!hV(t[n],e[n]))return!1;return!0}function vt(t,e){const n=w.useState(()=>({inputs:e,result:t()}))[0],s=w.useRef(!0),i=w.useRef(n),l=s.current||!!(e&&i.current.inputs&&YL(e,i.current.inputs))?i.current:{inputs:e,result:t()};return w.useEffect(()=>{s.current=!1,i.current=l},[l]),l.result}function $e(t,e){return vt(()=>t,e)}const An={x:0,y:0},Fn=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),zs=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),ya=(t,e)=>t.x===e.x&&t.y===e.y,ic=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),xo=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},ad=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),a2=(t,e)=>Math.min(...e.map(n=>ad(t,n))),WL=t=>e=>({x:t(e.x),y:t(e.y)});var pV=(t,e)=>{const n=ji({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Dd=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),o2=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],mV={top:0,right:0,bottom:0,left:0},gV=(t,e)=>e?Dd(t,e.scroll.diff.displacement):t,yV=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,vV=(t,e)=>e&&e.shouldClipSubject?pV(e.pageMarginBox,t):ji(t);var Fl=({page:t,withPlaceholder:e,axis:n,frame:s})=>{const i=gV(t.marginBox,s),a=yV(i,n,e),l=vV(a,s);return{page:t,withPlaceholder:e,active:l}},Gx=(t,e)=>{t.frame||Oe();const n=t.frame,s=zs(e,n.scroll.initial),i=ic(s),a={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:s,displacement:i},max:n.scroll.max}},l=Fl({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:a});return{...t,frame:a,subject:l}};function Dn(t,e=YL){let n=null;function s(...i){if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;const a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return s.clear=function(){n=null},s}const QL=Dn(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),KL=Dn(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),nm=Dn(t=>Object.values(t)),bV=Dn(t=>Object.values(t));var rc=Dn((t,e)=>bV(e).filter(s=>t===s.descriptor.droppableId).sort((s,i)=>s.descriptor.index-i.descriptor.index));function Yx(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function sm(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var im=Dn((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),xV=({isMovingForward:t,draggable:e,destination:n,insideDestination:s,previousImpact:i})=>{if(!n.isCombineEnabled||!Yx(i))return null;function l(x){const b={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...i,at:b}}const c=i.displaced.all,f=c.length?c[0]:null;if(t)return f?l(f):null;const h=im(e,s);if(!f){if(!h.length)return null;const x=h[h.length-1];return l(x.descriptor.id)}const m=h.findIndex(x=>x.descriptor.id===f);m===-1&&Oe();const g=m-1;if(g<0)return null;const y=h[g];return l(y.descriptor.id)},ac=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const XL={point:An,value:0},od={invisible:{},visible:{},all:[]},wV={displaced:od,displacedBy:XL,at:null};var pi=(t,e)=>n=>t<=n&&n<=e,ZL=t=>{const e=pi(t.top,t.bottom),n=pi(t.left,t.right);return s=>{if(e(s.top)&&e(s.bottom)&&n(s.left)&&n(s.right))return!0;const a=e(s.top)||e(s.bottom),l=n(s.left)||n(s.right);if(a&&l)return!0;const f=s.top<t.top&&s.bottom>t.bottom,h=s.left<t.left&&s.right>t.right;return f&&h?!0:f&&l||h&&a}},SV=t=>{const e=pi(t.top,t.bottom),n=pi(t.left,t.right);return s=>e(s.top)&&e(s.bottom)&&n(s.left)&&n(s.right)};const Wx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},JL={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var _V=t=>e=>{const n=pi(e.top,e.bottom),s=pi(e.left,e.right);return i=>t===Wx?n(i.top)&&n(i.bottom):s(i.left)&&s(i.right)};const CV=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:An;return Dd(t,n)},EV=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,NV=(t,e,n)=>n(e)(t),Qx=({target:t,destination:e,viewport:n,withDroppableDisplacement:s,isVisibleThroughFrameFn:i})=>{const a=s?CV(t,e):t;return EV(a,e,i)&&NV(a,n,i)},jV=t=>Qx({...t,isVisibleThroughFrameFn:ZL}),eM=t=>Qx({...t,isVisibleThroughFrameFn:SV}),kV=t=>Qx({...t,isVisibleThroughFrameFn:_V(t.destination.axis)}),OV=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:s,visible:i}=e;if(s[t])return!1;const a=i[t];return a?a.shouldAnimate:!0};function LV(t,e){const n=t.page.marginBox,s={top:e.point.y,right:0,bottom:0,left:e.point.x};return ji(Vx(n,s))}function ld({afterDragging:t,destination:e,displacedBy:n,viewport:s,forceShouldAnimate:i,last:a}){return t.reduce(function(c,f){const h=LV(f,n),m=f.descriptor.id;if(c.all.push(m),!jV({target:h,destination:e,viewport:s,withDroppableDisplacement:!0}))return c.invisible[f.descriptor.id]=!0,c;const y=OV(m,a,i),x={draggableId:m,shouldAnimate:y};return c.visible[m]=x,c},{all:[],visible:{},invisible:{}})}function MV(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function l2({insideDestination:t,inHomeList:e,displacedBy:n,destination:s}){const i=MV(t,{inHomeList:e});return{displaced:od,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function wp({draggable:t,insideDestination:e,destination:n,viewport:s,displacedBy:i,last:a,index:l,forceShouldAnimate:c}){const f=ac(t,n);if(l==null)return l2({insideDestination:e,inHomeList:f,displacedBy:i,destination:n});const h=e.find(b=>b.descriptor.index===l);if(!h)return l2({insideDestination:e,inHomeList:f,displacedBy:i,destination:n});const m=im(t,e),g=e.indexOf(h),y=m.slice(g);return{displaced:ld({afterDragging:y,destination:n,displacedBy:i,last:a,viewport:s.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Ca(t,e){return!!e.effected[t]}var DV=({isMovingForward:t,destination:e,draggables:n,combine:s,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const a=s.draggableId,c=n[a].descriptor.index;return Ca(a,i)?t?c:c-1:t?c+1:c},TV=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:s})=>{if(!n.length)return null;const i=s.index,a=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,f=e?c:c+1;return a<l||a>f?null:a},AV=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:s,destination:i,insideDestination:a,previousImpact:l,viewport:c,afterCritical:f})=>{const h=l.at;if(h||Oe(),h.type==="REORDER"){const g=TV({isMovingForward:t,isInHomeList:e,location:h.destination,insideDestination:a});return g==null?null:wp({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:g})}const m=DV({isMovingForward:t,destination:i,displaced:l.displaced,draggables:s,combine:h.combine,afterCritical:f});return m==null?null:wp({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:m})},RV=({displaced:t,afterCritical:e,combineWith:n,displacedBy:s})=>{const i=!!(t.visible[n]||t.invisible[n]);return Ca(n,e)?i?An:ic(s.point):i?s.point:An},PV=({afterCritical:t,impact:e,draggables:n})=>{const s=sm(e);s||Oe();const i=s.draggableId,a=n[i].page.borderBox.center,l=RV({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Fn(a,l)};const tM=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,IV=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,Kx=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,c2=({axis:t,moveRelativeTo:e,isMoving:n})=>xo(t.line,e.marginBox[t.end]+tM(t,n),Kx(t,e.marginBox,n)),u2=({axis:t,moveRelativeTo:e,isMoving:n})=>xo(t.line,e.marginBox[t.start]-IV(t,n),Kx(t,e.marginBox,n)),BV=({axis:t,moveInto:e,isMoving:n})=>xo(t.line,e.contentBox[t.start]+tM(t,n),Kx(t,e.contentBox,n));var UV=({impact:t,draggable:e,draggables:n,droppable:s,afterCritical:i})=>{const a=rc(s.descriptor.id,n),l=e.page,c=s.axis;if(!a.length)return BV({axis:c,moveInto:s.page,isMoving:l});const{displaced:f,displacedBy:h}=t,m=f.all[0];if(m){const y=n[m];if(Ca(m,i))return u2({axis:c,moveRelativeTo:y.page,isMoving:l});const x=gp(y.page,h.point);return u2({axis:c,moveRelativeTo:x,isMoving:l})}const g=a[a.length-1];if(g.descriptor.id===e.descriptor.id)return l.borderBox.center;if(Ca(g.descriptor.id,i)){const y=gp(g.page,ic(i.displacedBy.point));return c2({axis:c,moveRelativeTo:y,isMoving:l})}return c2({axis:c,moveRelativeTo:g.page,isMoving:l})},wb=(t,e)=>{const n=t.frame;return n?Fn(e,n.scroll.diff.displacement):e};const zV=({impact:t,draggable:e,droppable:n,draggables:s,afterCritical:i})=>{const a=e.page.borderBox.center,l=t.at;return!n||!l?a:l.type==="REORDER"?UV({impact:t,draggable:e,draggables:s,droppable:n,afterCritical:i}):PV({impact:t,draggables:s,afterCritical:i})};var rm=t=>{const e=zV(t),n=t.droppable;return n?wb(n,e):e},nM=(t,e)=>{const n=zs(e,t.scroll.initial),s=ic(n);return{frame:ji({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:s}}}};function d2(t,e){return t.map(n=>e[n])}function FV(t,e){for(let n=0;n<e.length;n++){const s=e[n].visible[t];if(s)return s}return null}var HV=({impact:t,viewport:e,destination:n,draggables:s,maxScrollChange:i})=>{const a=nM(e,Fn(e.scroll.current,i)),l=n.frame?Gx(n,Fn(n.frame.scroll.current,i)):n,c=t.displaced,f=ld({afterDragging:d2(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),h=ld({afterDragging:d2(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:e.frame,last:c,forceShouldAnimate:!1}),m={},g={},y=[c,f,h];return c.all.forEach(b=>{const C=FV(b,y);if(C){g[b]=C;return}m[b]=!0}),{...t,displaced:{all:c.all,invisible:m,visible:g}}},$V=(t,e)=>Fn(t.scroll.diff.displacement,e),Xx=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const s=$V(n,t),i=zs(s,e.page.borderBox.center);return Fn(e.client.borderBox.center,i)},sM=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:s,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const l=zs(n,t.page.borderBox.center),f={target:Dd(t.page.borderBox,l),destination:e,withDroppableDisplacement:i,viewport:s};return a?kV(f):eM(f)},VV=({isMovingForward:t,draggable:e,destination:n,draggables:s,previousImpact:i,viewport:a,previousPageBorderBoxCenter:l,previousClientSelection:c,afterCritical:f})=>{if(!n.isEnabled)return null;const h=rc(n.descriptor.id,s),m=ac(e,n),g=xV({isMovingForward:t,draggable:e,destination:n,insideDestination:h,previousImpact:i})||AV({isMovingForward:t,isInHomeList:m,draggable:e,draggables:s,destination:n,insideDestination:h,previousImpact:i,viewport:a,afterCritical:f});if(!g)return null;const y=rm({impact:g,draggable:e,droppable:n,draggables:s,afterCritical:f});if(sM({draggable:e,destination:n,newPageBorderBoxCenter:y,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Xx({pageBorderBoxCenter:y,draggable:e,viewport:a}),impact:g,scrollJumpRequest:null};const b=zs(y,l),C=HV({impact:g,viewport:a,destination:n,draggables:s,maxScrollChange:b});return{clientSelection:c,impact:C,scrollJumpRequest:b}};const Zn=t=>{const e=t.subject.active;return e||Oe(),e};var qV=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:s,viewport:i})=>{const a=n.subject.active;if(!a)return null;const l=n.axis,c=pi(a[l.start],a[l.end]),f=nm(s).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>ZL(i.frame)(Zn(m))).filter(m=>{const g=Zn(m);return t?a[l.crossAxisEnd]<g[l.crossAxisEnd]:g[l.crossAxisStart]<a[l.crossAxisStart]}).filter(m=>{const g=Zn(m),y=pi(g[l.start],g[l.end]);return c(g[l.start])||c(g[l.end])||y(a[l.start])||y(a[l.end])}).sort((m,g)=>{const y=Zn(m)[l.crossAxisStart],x=Zn(g)[l.crossAxisStart];return t?y-x:x-y}).filter((m,g,y)=>Zn(m)[l.crossAxisStart]===Zn(y[0])[l.crossAxisStart]);if(!f.length)return null;if(f.length===1)return f[0];const h=f.filter(m=>pi(Zn(m)[l.start],Zn(m)[l.end])(e[l.line]));return h.length===1?h[0]:h.length>1?h.sort((m,g)=>Zn(m)[l.start]-Zn(g)[l.start])[0]:f.sort((m,g)=>{const y=a2(e,o2(Zn(m))),x=a2(e,o2(Zn(g)));return y!==x?y-x:Zn(m)[l.start]-Zn(g)[l.start]})[0]};const f2=(t,e)=>{const n=t.page.borderBox.center;return Ca(t.descriptor.id,e)?zs(n,e.displacedBy.point):n},GV=(t,e)=>{const n=t.page.borderBox;return Ca(t.descriptor.id,e)?Dd(n,ic(e.displacedBy.point)):n};var YV=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:s,afterCritical:i})=>s.filter(l=>eM({target:GV(l,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((l,c)=>{const f=ad(t,wb(n,f2(l,i))),h=ad(t,wb(n,f2(c,i)));return f<h?-1:h<f?1:l.descriptor.index-c.descriptor.index})[0]||null,Td=Dn(function(e,n){const s=n[e.line];return{value:s,point:xo(e.line,s)}});const WV=(t,e,n)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return xo(s.line,e[s.line]);const i=t.subject.page.contentBox[s.size],f=rc(t.descriptor.id,n).reduce((h,m)=>h+m.client.marginBox[s.size],0)+e[s.line]-i;return f<=0?null:xo(s.line,f)},iM=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),rM=(t,e,n)=>{const s=t.frame;ac(e,t)&&Oe(),t.subject.withPlaceholder&&Oe();const i=Td(t.axis,e.displaceBy).point,a=WV(t,i,n),l={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const m=Fl({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return{...t,subject:m}}const c=a?Fn(s.scroll.max,a):s.scroll.max,f=iM(s,c),h=Fl({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return{...t,subject:h,frame:f}},QV=t=>{const e=t.subject.withPlaceholder;e||Oe();const n=t.frame;if(!n){const l=Fl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:l}}const s=e.oldFrameMaxScroll;s||Oe();const i=iM(n,s),a=Fl({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:a,frame:i}};var KV=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:s,draggables:i,destination:a,viewport:l,afterCritical:c})=>{if(!e){if(n.length)return null;const g={displaced:od,displacedBy:XL,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},y=rm({impact:g,draggable:s,droppable:a,draggables:i,afterCritical:c}),x=ac(s,a)?a:rM(a,s,i);return sM({draggable:s,destination:x,newPageBorderBoxCenter:y,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?g:null}const f=t[a.axis.line]<=e.page.borderBox.center[a.axis.line],h=(()=>{const g=e.descriptor.index;return e.descriptor.id===s.descriptor.id||f?g:g+1})(),m=Td(a.axis,s.displaceBy);return wp({draggable:s,insideDestination:n,destination:a,viewport:l,displacedBy:m,last:od,index:h})},XV=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:s,draggables:i,droppables:a,viewport:l,afterCritical:c})=>{const f=qV({isMovingForward:t,pageBorderBoxCenter:e,source:s,droppables:a,viewport:l});if(!f)return null;const h=rc(f.descriptor.id,i),m=YV({pageBorderBoxCenter:e,viewport:l,destination:f,insideDestination:h,afterCritical:c}),g=KV({previousPageBorderBoxCenter:e,destination:f,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:h,viewport:l,afterCritical:c});if(!g)return null;const y=rm({impact:g,draggable:n,droppable:f,draggables:i,afterCritical:c});return{clientSelection:Xx({pageBorderBoxCenter:y,draggable:n,viewport:l}),impact:g,scrollJumpRequest:null}},Fs=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const ZV=(t,e)=>{const n=Fs(t);return n?e[n]:null};var JV=({state:t,type:e})=>{const n=ZV(t.impact,t.dimensions.droppables),s=!!n,i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,l=a.axis.direction,c=l==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||l==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(c&&!s)return null;const f=e==="MOVE_DOWN"||e==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],m=t.current.page.borderBoxCenter,{draggables:g,droppables:y}=t.dimensions;return c?VV({isMovingForward:f,previousPageBorderBoxCenter:m,draggable:h,destination:a,draggables:g,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):XV({isMovingForward:f,previousPageBorderBoxCenter:m,draggable:h,isOver:a,draggables:g,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function to(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function aM(t){const e=pi(t.top,t.bottom),n=pi(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function e7(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function t7({pageBorderBox:t,draggable:e,candidates:n}){const s=e.page.borderBox.center,i=n.map(a=>{const l=a.axis,c=xo(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:ad(s,c)}}).sort((a,l)=>l.distance-a.distance);return i[0]?i[0].id:null}function n7({pageBorderBox:t,draggable:e,droppables:n}){const s=nm(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!e7(t,a))return!1;if(aM(a)(t.center))return!0;const l=i.axis,c=a.center[l.crossAxisLine],f=t[l.crossAxisStart],h=t[l.crossAxisEnd],m=pi(a[l.crossAxisStart],a[l.crossAxisEnd]),g=m(f),y=m(h);return!g&&!y?!0:g?f<c:h>c});return s.length?s.length===1?s[0].descriptor.id:t7({pageBorderBox:t,draggable:e,candidates:s}):null}const oM=(t,e)=>ji(Dd(t,e));var s7=(t,e)=>{const n=t.frame;return n?oM(e,n.scroll.diff.value):e};function lM({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function i7({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var r7=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:s,last:i,viewport:a,afterCritical:l})=>{const c=n.axis,f=Td(n.axis,e.displaceBy),h=f.value,m=t[c.start],g=t[c.end],x=im(e,s).find(C=>{const _=C.descriptor.id,k=C.page.borderBox.center[c.line],j=Ca(_,l),L=lM({displaced:i,id:_});return j?L?g<=k:m<k-h:L?g<=k+h:m<k})||null,b=i7({draggable:e,closest:x,inHomeList:ac(e,n)});return wp({draggable:e,insideDestination:s,destination:n,viewport:a,last:i,displacedBy:f,index:b})};const a7=4;var o7=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:s,insideDestination:i,afterCritical:a})=>{if(!s.isCombineEnabled)return null;const l=s.axis,c=Td(s.axis,t.displaceBy),f=c.value,h=e[l.start],m=e[l.end],y=im(t,i).find(b=>{const C=b.descriptor.id,_=b.page.borderBox,j=_[l.size]/a7,L=Ca(C,a),O=lM({displaced:n.displaced,id:C});return L?O?m>_[l.start]+j&&m<_[l.end]-j:h>_[l.start]-f+j&&h<_[l.end]-f-j:O?m>_[l.start]+f+j&&m<_[l.end]+f-j:h>_[l.start]+j&&h<_[l.end]-j});return y?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:s.descriptor.id}}}:null},cM=({pageOffset:t,draggable:e,draggables:n,droppables:s,previousImpact:i,viewport:a,afterCritical:l})=>{const c=oM(e.page.borderBox,t),f=n7({pageBorderBox:c,draggable:e,droppables:s});if(!f)return wV;const h=s[f],m=rc(h.descriptor.id,n),g=s7(h,c);return o7({pageBorderBoxWithDroppableScroll:g,draggable:e,previousImpact:i,destination:h,insideDestination:m,afterCritical:l})||r7({pageBorderBoxWithDroppableScroll:g,draggable:e,destination:h,insideDestination:m,last:i.displaced,viewport:a,afterCritical:l})},Zx=(t,e)=>({...t,[e.descriptor.id]:e});const l7=({previousImpact:t,impact:e,droppables:n})=>{const s=Fs(t),i=Fs(e);if(!s||s===i)return n;const a=n[s];if(!a.subject.withPlaceholder)return n;const l=QV(a);return Zx(n,l)};var c7=({draggable:t,draggables:e,droppables:n,previousImpact:s,impact:i})=>{const a=l7({previousImpact:s,impact:i,droppables:n}),l=Fs(i);if(!l)return a;const c=n[l];if(ac(t,c)||c.subject.withPlaceholder)return a;const f=rM(c,t,e);return Zx(a,f)},Fu=({state:t,clientSelection:e,dimensions:n,viewport:s,impact:i,scrollJumpRequest:a})=>{const l=s||t.viewport,c=n||t.dimensions,f=e||t.current.client.selection,h=zs(f,t.initial.client.selection),m={offset:h,selection:f,borderBoxCenter:Fn(t.initial.client.borderBoxCenter,h)},g={selection:Fn(m.selection,l.scroll.current),borderBoxCenter:Fn(m.borderBoxCenter,l.scroll.current),offset:Fn(m.offset,l.scroll.diff.value)},y={client:m,page:g};if(t.phase==="COLLECTING")return{...t,dimensions:c,viewport:l,current:y};const x=c.draggables[t.critical.draggable.id],b=i||cM({pageOffset:g.offset,draggable:x,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),C=c7({draggable:x,impact:b,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return{...t,current:y,dimensions:{draggables:c.draggables,droppables:C},impact:b,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function u7(t,e){return t.map(n=>e[n])}var uM=({impact:t,viewport:e,draggables:n,destination:s,forceShouldAnimate:i})=>{const a=t.displaced,l=u7(a.all,n),c=ld({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:a});return{...t,displaced:c}},dM=({impact:t,draggable:e,droppable:n,draggables:s,viewport:i,afterCritical:a})=>{const l=rm({impact:t,draggable:e,draggables:s,droppable:n,afterCritical:a});return Xx({pageBorderBoxCenter:l,draggable:e,viewport:i})},fM=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&Oe();const s=t.impact,i=n||t.viewport,a=e||t.dimensions,{draggables:l,droppables:c}=a,f=l[t.critical.draggable.id],h=Fs(s);h||Oe();const m=c[h],g=uM({impact:s,viewport:i,destination:m,draggables:l}),y=dM({impact:g,draggable:f,droppable:m,draggables:l,viewport:i,afterCritical:t.afterCritical});return Fu({impact:g,clientSelection:y,state:t,dimensions:a,viewport:i})},d7=t=>({index:t.index,droppableId:t.droppableId}),hM=({draggable:t,home:e,draggables:n,viewport:s})=>{const i=Td(e.axis,t.displaceBy),a=rc(e.descriptor.id,n),l=a.indexOf(t);l===-1&&Oe();const c=a.slice(l+1),f=c.reduce((y,x)=>(y[x.descriptor.id]=!0,y),{}),h={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:f};return{impact:{displaced:ld({afterDragging:c,destination:e,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:d7(t.descriptor)}},afterCritical:h}},f7=(t,e)=>({draggables:t.draggables,droppables:Zx(t.droppables,e)}),h7=({draggable:t,offset:e,initialWindowScroll:n})=>{const s=gp(t.client,e),i=yp(s,n);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:i}},p7=t=>{const e=t.frame;return e||Oe(),e},m7=({additions:t,updatedDroppables:e,viewport:n})=>{const s=n.scroll.diff.value;return t.map(i=>{const a=i.descriptor.droppableId,l=e[a],f=p7(l).scroll.diff.value,h=Fn(s,f);return h7({draggable:i,offset:h,initialWindowScroll:n.scroll.initial})})},g7=({state:t,published:e})=>{const n=e.modified.map(k=>{const j=t.dimensions.droppables[k.droppableId];return Gx(j,k.scroll)}),s={...t.dimensions.droppables,...QL(n)},i=KL(m7({additions:e.additions,updatedDroppables:s,viewport:t.viewport})),a={...t.dimensions.draggables,...i};e.removals.forEach(k=>{delete a[k]});const l={droppables:s,draggables:a},c=Fs(t.impact),f=c?l.droppables[c]:null,h=l.draggables[t.critical.draggable.id],m=l.droppables[t.critical.droppable.id],{impact:g,afterCritical:y}=hM({draggable:h,home:m,draggables:a,viewport:t.viewport}),x=f&&f.isCombineEnabled?t.impact:g,b=cM({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:t.viewport,afterCritical:y}),C={...t,phase:"DRAGGING",impact:b,onLiftImpact:g,dimensions:l,afterCritical:y,forceShouldAnimate:!1};return t.phase==="COLLECTING"?C:{...C,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Sb=t=>t.movementMode==="SNAP",mv=(t,e,n)=>{const s=f7(t.dimensions,e);return!Sb(t)||n?Fu({state:t,dimensions:s}):fM({state:t,dimensions:s})};function gv(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const h2={phase:"IDLE",completed:null,shouldFlush:!1};var y7=(t=h2,e)=>{if(e.type==="FLUSH")return{...h2,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Oe();const{critical:n,clientSelection:s,viewport:i,dimensions:a,movementMode:l}=e.payload,c=a.draggables[n.draggable.id],f=a.droppables[n.droppable.id],h={selection:s,borderBoxCenter:c.client.borderBox.center,offset:An},m={client:h,page:{selection:Fn(h.selection,i.scroll.initial),borderBoxCenter:Fn(h.selection,i.scroll.initial),offset:Fn(h.selection,i.scroll.diff.value)}},g=nm(a.droppables).every(C=>!C.isFixedOnPage),{impact:y,afterCritical:x}=hM({draggable:c,home:f,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:m,current:m,isWindowScrollAllowed:g,impact:y,afterCritical:x,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Oe(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Oe(),g7({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;to(t)||Oe();const{client:n}=e.payload;return ya(n,t.current.client.selection)?t:Fu({state:t,clientSelection:n,impact:Sb(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return gv(t);to(t)||Oe();const{id:n,newScroll:s}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const a=Gx(i,s);return mv(t,a,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;to(t)||Oe();const{id:n,isEnabled:s}=e.payload,i=t.dimensions.droppables[n];i||Oe(),i.isEnabled===s&&Oe();const a={...i,isEnabled:s};return mv(t,a,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;to(t)||Oe();const{id:n,isCombineEnabled:s}=e.payload,i=t.dimensions.droppables[n];i||Oe(),i.isCombineEnabled===s&&Oe();const a={...i,isCombineEnabled:s};return mv(t,a,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;to(t)||Oe(),t.isWindowScrollAllowed||Oe();const n=e.payload.newScroll;if(ya(t.viewport.scroll.current,n))return gv(t);const s=nM(t.viewport,n);return Sb(t)?fM({state:t,viewport:s}):Fu({state:t,viewport:s})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!to(t))return t;const n=e.payload.maxScroll;if(ya(n,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:s}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Oe();const n=JV({state:t,type:e.type});return n?Fu({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&Oe(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:s,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Oe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:s,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function jt(t,e){return t instanceof Object&&"type"in t&&t.type===e}const v7=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),b7=t=>({type:"LIFT",payload:t}),x7=t=>({type:"INITIAL_PUBLISH",payload:t}),w7=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),S7=()=>({type:"COLLECTION_STARTING",payload:null}),_7=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),C7=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),E7=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),pM=t=>({type:"MOVE",payload:t}),N7=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),j7=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),k7=()=>({type:"MOVE_UP",payload:null}),O7=()=>({type:"MOVE_DOWN",payload:null}),L7=()=>({type:"MOVE_RIGHT",payload:null}),M7=()=>({type:"MOVE_LEFT",payload:null}),Jx=()=>({type:"FLUSH",payload:null}),D7=t=>({type:"DROP_ANIMATE",payload:t}),e0=t=>({type:"DROP_COMPLETE",payload:t}),mM=t=>({type:"DROP",payload:t}),T7=t=>({type:"DROP_PENDING",payload:t}),gM=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var A7=t=>({getState:e,dispatch:n})=>s=>i=>{if(!jt(i,"LIFT")){s(i);return}const{id:a,clientSelection:l,movementMode:c}=i.payload,f=e();f.phase==="DROP_ANIMATING"&&n(e0({completed:f.completed})),e().phase!=="IDLE"&&Oe(),n(Jx()),n(v7({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:g,dimensions:y,viewport:x}=t.startPublishing(m);n(x7({critical:g,dimensions:y,clientSelection:l,movementMode:c,viewport:x}))},R7=t=>()=>e=>n=>{jt(n,"INITIAL_PUBLISH")&&t.dragging(),jt(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(jt(n,"FLUSH")||jt(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const t0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},cd={opacity:{drop:0,combining:.7},scale:{drop:.75}},yM={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ka=`${yM.outOfTheWay}s ${t0.outOfTheWay}`,Hu={fluid:`opacity ${Ka}`,snap:`transform ${Ka}, opacity ${Ka}`,drop:t=>{const e=`${t}s ${t0.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Ka}`,placeholder:`height ${Ka}, width ${Ka}, margin ${Ka}`},p2=t=>ya(t,An)?void 0:`translate(${t.x}px, ${t.y}px)`,_b={moveTo:p2,drop:(t,e)=>{const n=p2(t);if(n)return e?`${n} scale(${cd.scale.drop})`:n}},{minDropTime:Cb,maxDropTime:vM}=yM,P7=vM-Cb,m2=1500,I7=.6;var B7=({current:t,destination:e,reason:n})=>{const s=ad(t,e);if(s<=0)return Cb;if(s>=m2)return vM;const i=s/m2,a=Cb+P7*i,l=n==="CANCEL"?a*I7:a;return Number(l.toFixed(2))},U7=({impact:t,draggable:e,dimensions:n,viewport:s,afterCritical:i})=>{const{draggables:a,droppables:l}=n,c=Fs(t),f=c?l[c]:null,h=l[e.descriptor.droppableId],m=dM({impact:t,draggable:e,draggables:a,afterCritical:i,droppable:f||h,viewport:s});return zs(m,e.client.borderBox.center)},z7=({draggables:t,reason:e,lastImpact:n,home:s,viewport:i,onLiftImpact:a})=>!n.at||e!=="DROP"?{impact:uM({draggables:t,impact:a,destination:s,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:od},didDropInsideDroppable:!0};const F7=({getState:t,dispatch:e})=>n=>s=>{if(!jt(s,"DROP")){n(s);return}const i=t(),a=s.payload.reason;if(i.phase==="COLLECTING"){e(T7({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Oe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Oe();const c=i.critical,f=i.dimensions,h=f.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:g}=z7({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),y=g?Yx(m):null,x=g?sm(m):null,b={index:c.draggable.index,droppableId:c.droppable.id},C={draggableId:h.descriptor.id,type:h.descriptor.type,source:b,reason:a,mode:i.movementMode,destination:y,combine:x},_=U7({impact:m,draggable:h,dimensions:f,viewport:i.viewport,afterCritical:i.afterCritical}),k={critical:i.critical,afterCritical:i.afterCritical,result:C,impact:m};if(!(!ya(i.current.client.offset,_)||!!C.combine)){e(e0({completed:k}));return}const L=B7({current:i.current.client.offset,destination:_,reason:a});e(D7({newHomeClientOffset:_,dropDuration:L,completed:k}))};var bM=()=>({x:window.pageXOffset,y:window.pageYOffset});function H7(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function $7({onWindowScroll:t}){function e(){t(bM())}const n=rd(e),s=H7(n);let i=ga;function a(){return i!==ga}function l(){a()&&Oe(),i=ui(window,[s])}function c(){a()||Oe(),n.cancel(),i(),i=ga}return{start:l,stop:c,isActive:a}}const V7=t=>jt(t,"DROP_COMPLETE")||jt(t,"DROP_ANIMATE")||jt(t,"FLUSH"),q7=t=>{const e=$7({onWindowScroll:n=>{t.dispatch(N7({newScroll:n}))}});return n=>s=>{!e.isActive()&&jt(s,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&V7(s)&&e.stop(),n(s)}};var G7=t=>{let e=!1,n=!1;const s=setTimeout(()=>{n=!0}),i=a=>{e||n||(e=!0,t(a),clearTimeout(s))};return i.wasCalled=()=>e,i},Y7=()=>{const t=[],e=i=>{const a=t.findIndex(c=>c.timerId===i);a===-1&&Oe();const[l]=t.splice(a,1);l.callback()};return{add:i=>{const a=setTimeout(()=>e(a)),l={timerId:a,callback:i};t.push(l)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const W7=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,Q7=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,K7=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,s=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&s},bu=(t,e)=>{e()},fh=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function yv(t,e,n,s){if(!t){n(s(e));return}const i=G7(n);t(e,{announce:i}),i.wasCalled()||n(s(e))}var X7=(t,e)=>{const n=Y7();let s=null;const i=(g,y)=>{s&&Oe(),bu("onBeforeCapture",()=>{const x=t().onBeforeCapture;x&&x({draggableId:g,mode:y})})},a=(g,y)=>{s&&Oe(),bu("onBeforeDragStart",()=>{const x=t().onBeforeDragStart;x&&x(fh(g,y))})},l=(g,y)=>{s&&Oe();const x=fh(g,y);s={mode:y,lastCritical:g,lastLocation:x.source,lastCombine:null},n.add(()=>{bu("onDragStart",()=>yv(t().onDragStart,x,e,Uh.onDragStart))})},c=(g,y)=>{const x=Yx(y),b=sm(y);s||Oe();const C=!K7(g,s.lastCritical);C&&(s.lastCritical=g);const _=!W7(s.lastLocation,x);_&&(s.lastLocation=x);const k=!Q7(s.lastCombine,b);if(k&&(s.lastCombine=b),!C&&!_&&!k)return;const j={...fh(g,s.mode),combine:b,destination:x};n.add(()=>{bu("onDragUpdate",()=>yv(t().onDragUpdate,j,e,Uh.onDragUpdate))})},f=()=>{s||Oe(),n.flush()},h=g=>{s||Oe(),s=null,bu("onDragEnd",()=>yv(t().onDragEnd,g,e,Uh.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:l,update:c,flush:f,drop:h,abort:()=>{if(!s)return;const g={...fh(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(g)}}},Z7=(t,e)=>{const n=X7(t,e);return s=>i=>a=>{if(jt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(jt(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(jt(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),jt(a,"FLUSH")){n.abort();return}const l=s.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}};const J7=t=>e=>n=>{if(!jt(n,"DROP_ANIMATION_FINISHED")){e(n);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&Oe(),t.dispatch(e0({completed:s.completed}))},eq=t=>{let e=null,n=null;function s(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>a=>{if((jt(a,"FLUSH")||jt(a,"DROP_COMPLETE")||jt(a,"DROP_ANIMATION_FINISHED"))&&s(),i(a),!jt(a,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(gM())}};n=requestAnimationFrame(()=>{n=null,e=ui(window,[l])})}};var tq=t=>()=>e=>n=>{(jt(n,"DROP_COMPLETE")||jt(n,"FLUSH")||jt(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},nq=t=>{let e=!1;return()=>n=>s=>{if(jt(s,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(s.payload.critical.draggable.id),n(s),t.tryRestoreFocusRecorded();return}if(n(s),!!e){if(jt(s,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(jt(s,"DROP_COMPLETE")){e=!1;const i=s.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const sq=t=>jt(t,"DROP_COMPLETE")||jt(t,"DROP_ANIMATE")||jt(t,"FLUSH");var iq=t=>e=>n=>s=>{if(sq(s)){t.stop(),n(s);return}if(jt(s,"INITIAL_PUBLISH")){n(s);const i=e.getState();i.phase!=="DRAGGING"&&Oe(),t.start(i);return}n(s),t.scroll(e.getState())};const rq=t=>e=>n=>{if(e(n),!jt(n,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(mM({reason:s.reason})))},aq=RL;var oq=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:s,announce:i,autoScroller:a})=>AL(y7,aq(i9(R7(n),tq(t),A7(t),F7,J7,eq,rq,iq(a),q7,nq(e),Z7(s,i))));const vv=()=>({additions:{},removals:{},modified:{}});function lq({registry:t,callbacks:e}){let n=vv(),s=null;const i=()=>{s||(e.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:f,removals:h,modified:m}=n,g=Object.keys(f).map(b=>t.draggable.getById(b).getDimension(An)).sort((b,C)=>b.descriptor.index-C.descriptor.index),y=Object.keys(m).map(b=>{const _=t.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:_}}),x={additions:g,removals:Object.keys(h),modified:y};n=vv(),e.publish(x)}))};return{add:f=>{const h=f.descriptor.id;n.additions[h]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[h]&&delete n.removals[h],i()},remove:f=>{const h=f.descriptor;n.removals[h.id]=!0,n.modified[h.droppableId]=!0,n.additions[h.id]&&delete n.additions[h.id],i()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,n=vv())}}}var xM=({scrollHeight:t,scrollWidth:e,height:n,width:s})=>{const i=zs({x:e,y:t},{x:s,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},wM=()=>{const t=document.documentElement;return t||Oe(),t},SM=()=>{const t=wM();return xM({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},cq=()=>{const t=bM(),e=SM(),n=t.y,s=t.x,i=wM(),a=i.clientWidth,l=i.clientHeight,c=s+a,f=n+l;return{frame:ji({top:n,left:s,right:c,bottom:f}),scroll:{initial:t,current:t,max:e,diff:{value:An,displacement:An}}}},uq=({critical:t,scrollOptions:e,registry:n})=>{const s=cq(),i=s.scroll.current,a=t.droppable,l=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,e)),c=n.draggable.getAllByType(t.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:KL(c),droppables:QL(l)},critical:t,viewport:s}};function g2(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var dq=(t,e)=>{let n=null;const s=lq({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(y,x)=>{t.droppable.exists(y)||Oe(),n&&e.updateDroppableIsEnabled({id:y,isEnabled:x})},a=(y,x)=>{n&&(t.droppable.exists(y)||Oe(),e.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:x}))},l=(y,x)=>{n&&(t.droppable.exists(y)||Oe(),e.updateDroppableScroll({id:y,newScroll:x}))},c=(y,x)=>{n&&t.droppable.getById(y).callbacks.scroll(x)},f=()=>{if(!n)return;s.stop();const y=n.critical.droppable;t.droppable.getAllByType(y.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},h=y=>{n||Oe();const x=n.critical.draggable;y.type==="ADDITION"&&g2(t,x,y.value)&&s.add(y.value),y.type==="REMOVAL"&&g2(t,x,y.value)&&s.remove(y.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:l,startPublishing:y=>{n&&Oe();const x=t.draggable.getById(y.draggableId),b=t.droppable.getById(x.descriptor.droppableId),C={draggable:x.descriptor,droppable:b.descriptor},_=t.subscribe(h);return n={critical:C,unsubscribe:_},uq({critical:C,registry:t,scrollOptions:y.scrollOptions})},stopPublishing:f}},_M=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",fq=t=>{window.scrollBy(t.x,t.y)};const hq=Dn(t=>nm(t).filter(e=>!(!e.isEnabled||!e.frame))),pq=(t,e)=>hq(e).find(s=>(s.frame||Oe(),aM(s.frame.pageMarginBox)(t)))||null;var mq=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return pq(t,n)};const ud={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var gq=(t,e,n=()=>ud)=>{const s=n(),i=t[e.size]*s.startFromPercentage,a=t[e.size]*s.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},CM=({startOfRange:t,endOfRange:e,current:n})=>{const s=e-t;return s===0?0:(n-t)/s},n0=1,yq=(t,e,n=()=>ud)=>{const s=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return s.maxPixelScroll;if(t===e.startScrollingFrom)return n0;const a=1-CM({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),l=s.maxPixelScroll*s.ease(a);return Math.ceil(l)},vq=(t,e,n)=>{const s=n(),i=s.durationDampening.accelerateAt,a=s.durationDampening.stopDampeningAt,l=e,c=a,h=Date.now()-l;if(h>=a)return t;if(h<i)return n0;const m=CM({startOfRange:i,endOfRange:c,current:h}),g=t*s.ease(m);return Math.ceil(g)},y2=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=yq(t,e,i);return a===0?0:s?Math.max(vq(a,n,i),n0):a},v2=({container:t,distanceToEdges:e,dragStartTime:n,axis:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const l=gq(t,s,a);return e[s.end]<e[s.start]?y2({distanceToEdge:e[s.end],thresholds:l,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*y2({distanceToEdge:e[s.start],thresholds:l,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},bq=({container:t,subject:e,proposedScroll:n})=>{const s=e.height>t.height,i=e.width>t.width;return!i&&!s?n:i&&s?null:{x:i?0:n.x,y:s?0:n.y}};const xq=WL(t=>t===0?0:t);var EM=({dragStartTime:t,container:e,subject:n,center:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const l={top:s.y-e.top,right:e.right-s.x,bottom:e.bottom-s.y,left:s.x-e.left},c=v2({container:e,distanceToEdges:l,dragStartTime:t,axis:Wx,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=v2({container:e,distanceToEdges:l,dragStartTime:t,axis:JL,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),h=xq({x:f,y:c});if(ya(h,An))return null;const m=bq({container:e,subject:n,proposedScroll:h});return m?ya(m,An)?null:m:null};const wq=WL(t=>t===0?0:t>0?1:-1),s0=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:s})=>{const i=Fn(e,s),a={x:t(i.x,n.x),y:t(i.y,n.y)};return ya(a,An)?null:a}})(),NM=({max:t,current:e,change:n})=>{const s={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=wq(n),a=s0({max:s,current:e,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},i0=(t,e)=>NM({current:t.scroll.current,max:t.scroll.max,change:e}),Sq=(t,e)=>{if(!i0(t,e))return null;const n=t.scroll.max,s=t.scroll.current;return s0({current:s,max:n,change:e})},r0=(t,e)=>{const n=t.frame;return n?NM({current:n.scroll.current,max:n.scroll.max,change:e}):!1},_q=(t,e)=>{const n=t.frame;return!n||!r0(t,e)?null:s0({current:n.scroll.current,max:n.scroll.max,change:e})};var Cq=({viewport:t,subject:e,center:n,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const l=EM({dragStartTime:s,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&i0(t,l)?l:null},Eq=({droppable:t,subject:e,center:n,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const l=t.frame;if(!l)return null;const c=EM({dragStartTime:s,container:l.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&r0(t,c)?c:null},b2=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:s,scrollDroppable:i,getAutoScrollerOptions:a})=>{const l=t.current.page.borderBoxCenter,f=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const g=t.viewport,y=Cq({dragStartTime:e,viewport:g,subject:f,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(y){s(y);return}}const h=mq({center:l,destination:Fs(t.impact),droppables:t.dimensions.droppables});if(!h)return;const m=Eq({dragStartTime:e,droppable:h,subject:f,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(h.descriptor.id,m)},Nq=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>ud})=>{const s=rd(t),i=rd(e);let a=null;const l=h=>{a||Oe();const{shouldUseTimeDampening:m,dragStartTime:g}=a;b2({state:h,scrollWindow:s,scrollDroppable:i,dragStartTime:g,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:h=>{a&&Oe();const m=Date.now();let g=!1;const y=()=>{g=!0};b2({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:g},g&&l(h)},stop:()=>{a&&(s.cancel(),i.cancel(),a=null)},scroll:l}},jq=({move:t,scrollDroppable:e,scrollWindow:n})=>{const s=(c,f)=>{const h=Fn(c.current.client.selection,f);t({client:h})},i=(c,f)=>{if(!r0(c,f))return f;const h=_q(c,f);if(!h)return e(c.descriptor.id,f),null;const m=zs(f,h);return e(c.descriptor.id,m),zs(f,m)},a=(c,f,h)=>{if(!c||!i0(f,h))return h;const m=Sq(f,h);if(!m)return n(h),null;const g=zs(h,m);return n(g),zs(h,g)};return c=>{const f=c.scrollJumpRequest;if(!f)return;const h=Fs(c.impact);h||Oe();const m=i(c.dimensions.droppables[h],f);if(!m)return;const g=c.viewport,y=a(c.isWindowScrollAllowed,g,m);y&&s(c,y)}},kq=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:s})=>{const i=Nq({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:s}),a=jq({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:f=>{if(!(s().disabled||f.phase!=="DRAGGING")){if(f.movementMode==="FLUID"){i.scroll(f);return}f.scrollJumpRequest&&a(f)}},start:i.start,stop:i.stop}};const Hl="data-rfd",$l=(()=>{const t=`${Hl}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Eb=(()=>{const t=`${Hl}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Oq=(()=>{const t=`${Hl}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),x2={contextId:`${Hl}-scroll-container-context-id`},Lq=t=>e=>`[${e}="${t}"]`,xu=(t,e)=>t.map(n=>{const s=n.styles[e];return s?`${n.selector} { ${s} }`:""}).join(" "),Mq="pointer-events: none;";var Dq=t=>{const e=Lq(t),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e($l.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:Mq,dropAnimating:c}}})(),s=(()=>{const c=`
      transition: ${Hu.outOfTheWay};
    `;return{selector:e(Eb.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:e(Oq.contextId),styles:{always:"overflow-anchor: none;"}},l=[s,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:xu(l,"always"),resting:xu(l,"resting"),dragging:xu(l,"dragging"),dropAnimating:xu(l,"dropAnimating"),userCancel:xu(l,"userCancel")}};const Hs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,bv=()=>{const t=document.querySelector("head");return t||Oe(),t},w2=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function Tq(t,e){const n=vt(()=>Dq(t),[t]),s=w.useRef(null),i=w.useRef(null),a=$e(Dn(g=>{const y=i.current;y||Oe(),y.textContent=g}),[]),l=$e(g=>{const y=s.current;y||Oe(),y.textContent=g},[]);Hs(()=>{!s.current&&!i.current||Oe();const g=w2(e),y=w2(e);return s.current=g,i.current=y,g.setAttribute(`${Hl}-always`,t),y.setAttribute(`${Hl}-dynamic`,t),bv().appendChild(g),bv().appendChild(y),l(n.always),a(n.resting),()=>{const x=b=>{const C=b.current;C||Oe(),bv().removeChild(C),b.current=null};x(s),x(i)}},[e,l,a,n.always,n.resting,t]);const c=$e(()=>a(n.dragging),[a,n.dragging]),f=$e(g=>{if(g==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),h=$e(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:c,dropping:f,resting:h}),[c,f,h])}function jM(t,e){return Array.from(t.querySelectorAll(e))}var kM=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function am(t){return t instanceof kM(t).HTMLElement}function Aq(t,e){const n=`[${$l.contextId}="${t}"]`,s=jM(document,n);if(!s.length)return null;const i=s.find(a=>a.getAttribute($l.draggableId)===e);return!i||!am(i)?null:i}function Rq(t){const e=w.useRef({}),n=w.useRef(null),s=w.useRef(null),i=w.useRef(!1),a=$e(function(y,x){const b={id:y,focus:x};return e.current[y]=b,function(){const _=e.current;_[y]!==b&&delete _[y]}},[]),l=$e(function(y){const x=Aq(t,y);x&&x!==document.activeElement&&x.focus()},[t]),c=$e(function(y,x){n.current===y&&(n.current=x)},[]),f=$e(function(){s.current||i.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const y=n.current;y&&l(y)}))},[l]),h=$e(function(y){n.current=null;const x=document.activeElement;x&&x.getAttribute($l.draggableId)===y&&(n.current=y)},[]);return Hs(()=>(i.current=!0,function(){i.current=!1;const y=s.current;y&&cancelAnimationFrame(y)}),[]),vt(()=>({register:a,tryRecordFocus:h,tryRestoreFocusRecorded:f,tryShiftRecord:c}),[a,h,f,c])}function Pq(){const t={draggables:{},droppables:{}},e=[];function n(g){return e.push(g),function(){const x=e.indexOf(g);x!==-1&&e.splice(x,1)}}function s(g){e.length&&e.forEach(y=>y(g))}function i(g){return t.draggables[g]||null}function a(g){const y=i(g);return y||Oe(),y}const l={register:g=>{t.draggables[g.descriptor.id]=g,s({type:"ADDITION",value:g})},update:(g,y)=>{const x=t.draggables[y.descriptor.id];x&&x.uniqueId===g.uniqueId&&(delete t.draggables[y.descriptor.id],t.draggables[g.descriptor.id]=g)},unregister:g=>{const y=g.descriptor.id,x=i(y);x&&g.uniqueId===x.uniqueId&&(delete t.draggables[y],t.droppables[g.descriptor.droppableId]&&s({type:"REMOVAL",value:g}))},getById:a,findById:i,exists:g=>!!i(g),getAllByType:g=>Object.values(t.draggables).filter(y=>y.descriptor.type===g)};function c(g){return t.droppables[g]||null}function f(g){const y=c(g);return y||Oe(),y}const h={register:g=>{t.droppables[g.descriptor.id]=g},unregister:g=>{const y=c(g.descriptor.id);y&&g.uniqueId===y.uniqueId&&delete t.droppables[g.descriptor.id]},getById:f,findById:c,exists:g=>!!c(g),getAllByType:g=>Object.values(t.droppables).filter(y=>y.descriptor.type===g)};function m(){t.draggables={},t.droppables={},e.length=0}return{draggable:l,droppable:h,subscribe:n,clean:m}}function Iq(){const t=vt(Pq,[]);return w.useEffect(()=>function(){t.clean()},[t]),t}var a0=Re.createContext(null),Sp=()=>{const t=document.body;return t||Oe(),t};const Bq={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Uq=t=>`rfd-announcement-${t}`;function zq(t){const e=vt(()=>Uq(t),[t]),n=w.useRef(null);return w.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=e,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),vp(a.style,Bq),Sp().appendChild(a),function(){setTimeout(function(){const f=Sp();f.contains(a)&&f.removeChild(a),a===n.current&&(n.current=null)})}},[e]),$e(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const Fq={separator:"::"};function o0(t,e=Fq){const n=Re.useId();return vt(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function Hq({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function $q({contextId:t,text:e}){const n=o0("hidden-text",{separator:"-"}),s=vt(()=>Hq({contextId:t,uniqueId:n}),[n,t]);return w.useEffect(function(){const a=document.createElement("div");return a.id=s,a.textContent=e,a.style.display="none",Sp().appendChild(a),function(){const c=Sp();c.contains(a)&&c.removeChild(a)}},[s,e]),s}var om=Re.createContext(null);function OM(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),e}function Vq(){let t=null;function e(){return!!t}function n(l){return l===t}function s(l){t&&Oe();const c={abandon:l};return t=c,c}function i(){t||Oe(),t=null}function a(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:s,release:i,tryAbandon:a}}function dd(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const qq=9,Gq=13,l0=27,LM=32,Yq=33,Wq=34,Qq=35,Kq=36,Xq=37,Zq=38,Jq=39,eG=40,tG={[Gq]:!0,[qq]:!0};var MM=t=>{tG[t.keyCode]&&t.preventDefault()};const lm=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),DM=0,S2=5;function nG(t,e){return Math.abs(e.x-t.x)>=S2||Math.abs(e.y-t.y)>=S2}const _2={type:"IDLE"};function sG({cancel:t,completed:e,getPhase:n,setPhase:s}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:l,clientY:c}=i;if(a!==DM)return;const f={x:l,y:c},h=n();if(h.type==="DRAGGING"){i.preventDefault(),h.actions.move(f);return}h.type!=="PENDING"&&Oe();const m=h.point;if(!nG(m,f))return;i.preventDefault();const g=h.actions.fluidLift(f);s({type:"DRAGGING",actions:g})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===l0){i.preventDefault(),t();return}MM(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Oe(),a.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:lm,fn:t}]}function iG(t){const e=w.useRef(_2),n=w.useRef(ga),s=vt(()=>({eventName:"mousedown",fn:function(g){if(g.defaultPrevented||g.button!==DM||g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)return;const y=t.findClosestDraggableId(g);if(!y)return;const x=t.tryGetLock(y,l,{sourceEvent:g});if(!x)return;g.preventDefault();const b={x:g.clientX,y:g.clientY};n.current(),h(x,b)}}),[t]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const g=t.findClosestDraggableId(m);if(!g)return;const y=t.findOptionsForDraggable(g);y&&(y.shouldRespectForcePress||t.canGetLock(g)&&m.preventDefault())}}),[t]),a=$e(function(){const g={passive:!1,capture:!0};n.current=ui(window,[i,s],g)},[i,s]),l=$e(()=>{e.current.type!=="IDLE"&&(e.current=_2,n.current(),a())},[a]),c=$e(()=>{const m=e.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),f=$e(function(){const g={capture:!0,passive:!1},y=sG({cancel:c,completed:l,getPhase:()=>e.current,setPhase:x=>{e.current=x}});n.current=ui(window,y,g)},[c,l]),h=$e(function(g,y){e.current.type!=="IDLE"&&Oe(),e.current={type:"PENDING",point:y,actions:g},f()},[f]);Hs(function(){return a(),function(){n.current()}},[a])}function rG(){}const aG={[Wq]:!0,[Yq]:!0,[Kq]:!0,[Qq]:!0};function oG(t,e){function n(){e(),t.cancel()}function s(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===l0){i.preventDefault(),n();return}if(i.keyCode===LM){i.preventDefault(),s();return}if(i.keyCode===eG){i.preventDefault(),t.moveDown();return}if(i.keyCode===Zq){i.preventDefault(),t.moveUp();return}if(i.keyCode===Jq){i.preventDefault(),t.moveRight();return}if(i.keyCode===Xq){i.preventDefault(),t.moveLeft();return}if(aG[i.keyCode]){i.preventDefault();return}MM(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:lm,fn:n}]}function lG(t){const e=w.useRef(rG),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==LM)return;const l=t.findClosestDraggableId(a);if(!l)return;const c=t.tryGetLock(l,m,{sourceEvent:a});if(!c)return;a.preventDefault();let f=!0;const h=c.snapLift();e.current();function m(){f||Oe(),f=!1,e.current(),s()}e.current=ui(window,oG(h,m),{capture:!0,passive:!1})}}),[t]),s=$e(function(){const a={passive:!1,capture:!0};e.current=ui(window,[n],a)},[n]);Hs(function(){return s(),function(){e.current()}},[s])}const xv={type:"IDLE"},cG=120,uG=.15;function dG({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===l0&&n.preventDefault(),t()}},{eventName:lm,fn:t}]}function fG({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:a,clientY:l}=s.touches[0],c={x:a,y:l};s.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:s=>{const i=n();if(i.type!=="DRAGGING"){t();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:s=>{if(n().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const i=n();i.type==="IDLE"&&Oe();const a=s.touches[0];if(!a||!(a.force>=uG))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&t();return}if(c){if(i.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:lm,fn:t}]}function hG(t){const e=w.useRef(xv),n=w.useRef(ga),s=$e(function(){return e.current},[]),i=$e(function(x){e.current=x},[]),a=vt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const b=t.findClosestDraggableId(x);if(!b)return;const C=t.tryGetLock(b,c,{sourceEvent:x});if(!C)return;const _=x.touches[0],{clientX:k,clientY:j}=_,L={x:k,y:j};n.current(),g(C,L)}}),[t]),l=$e(function(){const x={capture:!0,passive:!1};n.current=ui(window,[a],x)},[a]),c=$e(()=>{const y=e.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(xv),n.current(),l())},[l,i]),f=$e(()=>{const y=e.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),h=$e(function(){const x={capture:!0,passive:!1},b={cancel:f,completed:c,getPhase:s},C=ui(window,fG(b),x),_=ui(window,dG(b),x);n.current=function(){C(),_()}},[f,s,c]),m=$e(function(){const x=s();x.type!=="PENDING"&&Oe();const b=x.actions.fluidLift(x.point);i({type:"DRAGGING",actions:b,hasMoved:!1})},[s,i]),g=$e(function(x,b){s().type!=="IDLE"&&Oe();const C=setTimeout(m,cG);i({type:"PENDING",point:b,actions:x,longPressTimerId:C}),h()},[h,s,i,m]);Hs(function(){return l(),function(){n.current();const b=s();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),i(xv))}},[s,l,i]),Hs(function(){return ui(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const pG=["input","button","textarea","select","option","optgroup","video","audio"];function TM(t,e){if(e==null)return!1;if(pG.includes(e.tagName.toLowerCase()))return!0;const s=e.getAttribute("contenteditable");return s==="true"||s===""?!0:e===t?!1:TM(t,e.parentElement)}function mG(t,e){const n=e.target;return am(n)?TM(t,n):!1}var gG=t=>ji(t.getBoundingClientRect()).center;function yG(t){return t instanceof kM(t).Element}const vG=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function AM(t,e){return t==null?null:t[vG](e)?t:AM(t.parentElement,e)}function bG(t,e){return t.closest?t.closest(e):AM(t,e)}function xG(t){return`[${$l.contextId}="${t}"]`}function wG(t,e){const n=e.target;if(!yG(n))return null;const s=xG(t),i=bG(n,s);return!i||!am(i)?null:i}function SG(t,e){const n=wG(t,e);return n?n.getAttribute($l.draggableId):null}function _G(t,e){const n=`[${Eb.contextId}="${t}"]`,i=jM(document,n).find(a=>a.getAttribute(Eb.id)===e);return!i||!am(i)?null:i}function CG(t){t.preventDefault()}function hh({expected:t,phase:e,isLockActive:n,shouldWarn:s}){return!(!n()||t!==e)}function RM({lockAPI:t,store:e,registry:n,draggableId:s}){if(t.isClaimed())return!1;const i=n.draggable.findById(s);return!(!i||!i.options.isEnabled||!_M(e.getState(),s))}function EG({lockAPI:t,contextId:e,store:n,registry:s,draggableId:i,forceSensorStop:a,sourceEvent:l}){if(!RM({lockAPI:t,store:n,registry:s,draggableId:i}))return null;const f=s.draggable.getById(i),h=_G(e,f.descriptor.id);if(!h||l&&!f.options.canDragInteractiveElements&&mG(h,l))return null;const m=t.claim(a||ga);let g="PRE_DRAG";function y(){return f.options.shouldRespectForcePress}function x(){return t.isActive(m)}function b(E,M){hh({expected:E,phase:g,isLockActive:x,shouldWarn:!0})&&n.dispatch(M())}const C=b.bind(null,"DRAGGING");function _(E){function M(){t.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(M(),Oe()),n.dispatch(b7(E.liftActionArgs)),g="DRAGGING";function T(I,P={shouldBlockNextClick:!1}){if(E.cleanup(),P.shouldBlockNextClick){const z=ui(window,[{eventName:"click",fn:CG,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}M(),n.dispatch(mM({reason:I}))}return{isActive:()=>hh({expected:"DRAGGING",phase:g,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:y,drop:I=>T("DROP",I),cancel:I=>T("CANCEL",I),...E.actions}}function k(E){const M=rd(I=>{C(()=>pM({client:I}))});return{..._({liftActionArgs:{id:i,clientSelection:E,movementMode:"FLUID"},cleanup:()=>M.cancel(),actions:{move:M}}),move:M}}function j(){const E={moveUp:()=>C(k7),moveRight:()=>C(L7),moveDown:()=>C(O7),moveLeft:()=>C(M7)};return _({liftActionArgs:{id:i,clientSelection:gG(h),movementMode:"SNAP"},cleanup:ga,actions:E})}function L(){hh({expected:"PRE_DRAG",phase:g,isLockActive:x,shouldWarn:!0})&&t.release()}return{isActive:()=>hh({expected:"PRE_DRAG",phase:g,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:k,snapLift:j,abort:L}}const NG=[iG,lG,hG];function jG({contextId:t,store:e,registry:n,customSensors:s,enableDefaultSensors:i}){const a=[...i?NG:[],...s||[]],l=w.useState(()=>Vq())[0],c=$e(function(_,k){dd(_)&&!dd(k)&&l.tryAbandon()},[l]);Hs(function(){let _=e.getState();return e.subscribe(()=>{const j=e.getState();c(_,j),_=j})},[l,e,c]),Hs(()=>l.tryAbandon,[l.tryAbandon]);const f=$e(C=>RM({lockAPI:l,registry:n,store:e,draggableId:C}),[l,n,e]),h=$e((C,_,k)=>EG({lockAPI:l,registry:n,contextId:t,store:e,draggableId:C,forceSensorStop:_||null,sourceEvent:k&&k.sourceEvent?k.sourceEvent:null}),[t,l,n,e]),m=$e(C=>SG(t,C),[t]),g=$e(C=>{const _=n.draggable.findById(C);return _?_.options:null},[n.draggable]),y=$e(function(){l.isClaimed()&&(l.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Jx()))},[l,e]),x=$e(()=>l.isClaimed(),[l]),b=vt(()=>({canGetLock:f,tryGetLock:h,findClosestDraggableId:m,findOptionsForDraggable:g,tryReleaseLock:y,isLockClaimed:x}),[f,h,m,g,y,x]);for(let C=0;C<a.length;C++)a[C](b)}const kG=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Dr.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),OG=t=>({...ud,...t.autoScrollerOptions,durationDampening:{...ud.durationDampening,...t.autoScrollerOptions}});function wu(t){return t.current||Oe(),t.current}function LG(t){const{contextId:e,setCallbacks:n,sensors:s,nonce:i,dragHandleUsageInstructions:a}=t,l=w.useRef(null),c=OM(t),f=$e(()=>kG(c.current),[c]),h=$e(()=>OG(c.current),[c]),m=zq(e),g=$q({contextId:e,text:a}),y=Tq(e,i),x=$e(z=>{wu(l).dispatch(z)},[]),b=vt(()=>QN({publishWhileDragging:w7,updateDroppableScroll:_7,updateDroppableIsEnabled:C7,updateDroppableIsCombineEnabled:E7,collectionStarting:S7},x),[x]),C=Iq(),_=vt(()=>dq(C,b),[C,b]),k=vt(()=>kq({scrollWindow:fq,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:h,...QN({move:pM},x)}),[_.scrollDroppable,x,h]),j=Rq(e),L=vt(()=>oq({announce:m,autoScroller:k,dimensionMarshal:_,focusMarshal:j,getResponders:f,styleMarshal:y}),[m,k,_,j,f,y]);l.current=L;const O=$e(()=>{const z=wu(l);z.getState().phase!=="IDLE"&&z.dispatch(Jx())},[]),E=$e(()=>{const z=wu(l).getState();return z.phase==="DROP_ANIMATING"?!0:z.phase==="IDLE"?!1:z.isDragging},[]),M=vt(()=>({isDragging:E,tryAbort:O}),[E,O]);n(M);const T=$e(z=>_M(wu(l).getState(),z),[]),I=$e(()=>to(wu(l).getState()),[]),P=vt(()=>({marshal:_,focus:j,contextId:e,canLift:T,isMovementAllowed:I,dragHandleUsageInstructionsId:g,registry:C}),[e,_,g,j,T,I,C]);return jG({contextId:e,store:L,registry:C,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),w.useEffect(()=>O,[O]),Re.createElement(om.Provider,{value:P},Re.createElement(tV,{context:a0,store:L},t.children))}function MG(){return Re.useId()}function PM(t){const e=MG(),n=t.dragHandleUsageInstructions||Uh.dragHandleUsageInstructions;return Re.createElement(lV,null,s=>Re.createElement(LG,{nonce:t.nonce,contextId:e,setCallbacks:s,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const C2={dragging:5e3,dropAnimating:4500},DG=(t,e)=>e?Hu.drop(e.duration):t?Hu.snap:Hu.fluid,TG=(t,e)=>{if(t)return e?cd.opacity.drop:cd.opacity.combining},AG=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function RG(t){const n=t.dimension.client,{offset:s,combineWith:i,dropping:a}=t,l=!!i,c=AG(t),f=!!a,h=f?_b.drop(s,l):_b.moveTo(s);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:DG(c,a),transform:h,opacity:TG(l,f),zIndex:f?C2.dropAnimating:C2.dragging,pointerEvents:"none"}}function PG(t){return{transform:_b.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function IG(t){return t.type==="DRAGGING"?RG(t):PG(t)}function BG(t,e,n=An){const s=window.getComputedStyle(e),i=e.getBoundingClientRect(),a=HL(i,s),l=yp(a,n),c={client:a,tagName:e.tagName.toLowerCase(),display:s.display},f={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:t,placeholder:c,displaceBy:f,client:a,page:l}}function UG(t){const e=o0("draggable"),{descriptor:n,registry:s,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:l,isEnabled:c}=t,f=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:l,isEnabled:c}),[a,c,l]),h=$e(x=>{const b=i();return b||Oe(),BG(n,b,x)},[n,i]),m=vt(()=>({uniqueId:e,descriptor:n,options:f,getDimension:h}),[n,h,f,e]),g=w.useRef(m),y=w.useRef(!0);Hs(()=>(s.draggable.register(g.current),()=>s.draggable.unregister(g.current)),[s.draggable]),Hs(()=>{if(y.current){y.current=!1;return}const x=g.current;g.current=m,s.draggable.update(m,x)},[m,s.draggable])}var c0=Re.createContext(null);function _p(t){const e=w.useContext(t);return e||Oe(),e}function zG(t){t.preventDefault()}const FG=t=>{const e=w.useRef(null),n=$e((M=null)=>{e.current=M},[]),s=$e(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:l}=_p(om),{type:c,droppableId:f}=_p(c0),h=vt(()=>({id:t.draggableId,index:t.index,type:c,droppableId:f}),[t.draggableId,t.index,c,f]),{children:m,draggableId:g,isEnabled:y,shouldRespectForcePress:x,canDragInteractiveElements:b,isClone:C,mapped:_,dropAnimationFinished:k}=t;if(!C){const M=vt(()=>({descriptor:h,registry:l,getDraggableRef:s,canDragInteractiveElements:b,shouldRespectForcePress:x,isEnabled:y}),[h,l,s,b,x,y]);UG(M)}const j=vt(()=>y?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:zG}:null,[i,a,g,y]),L=$e(M=>{_.type==="DRAGGING"&&_.dropping&&M.propertyName==="transform"&&Dr.flushSync(k)},[k,_]),O=vt(()=>{const M=IG(_),T=_.type==="DRAGGING"&&_.dropping?L:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":g,style:M,onTransitionEnd:T},dragHandleProps:j}},[i,j,g,_,L,n]),E=vt(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Re.createElement(Re.Fragment,null,m(O,_.snapshot,E))};var IM=(t,e)=>t===e,BM=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const HG=t=>t.combine?t.combine.draggableId:null,$G=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function VG(){const t=Dn((i,a)=>({x:i,y:a})),e=Dn((i,a,l=null,c=null,f=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!f,dropAnimation:f,mode:i,draggingOver:l,combineWith:c,combineTargetFor:null})),n=Dn((i,a,l,c,f=null,h=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:f,combineWith:h,mode:a,offset:i,dimension:l,forceShouldAnimate:m,snapshot:e(a,c,f,h,null)}}));return(i,a)=>{if(dd(i)){if(i.critical.draggable.id!==a.draggableId)return null;const l=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],f=Fs(i.impact),h=$G(i.impact),m=i.forceShouldAnimate;return n(t(l.x,l.y),i.movementMode,c,a.isClone,f,h,m)}if(i.phase==="DROP_ANIMATING"){const l=i.completed;if(l.result.draggableId!==a.draggableId)return null;const c=a.isClone,f=i.dimensions.draggables[a.draggableId],h=l.result,m=h.mode,g=BM(h),y=HG(h),b={duration:i.dropDuration,curve:t0.drop,moveTo:i.newHomeClientOffset,opacity:y?cd.opacity.drop:null,scale:y?cd.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:f,dropping:b,draggingOver:g,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:e(m,c,g,y,b)}}}return null}}function UM(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const qG={mapped:{type:"SECONDARY",offset:An,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:UM(null)}};function GG(){const t=Dn((l,c)=>({x:l,y:c})),e=Dn(UM),n=Dn((l,c=null,f)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:c,shouldAnimateDisplacement:f,snapshot:e(c)}})),s=l=>l?n(An,l,!0):null,i=(l,c,f,h)=>{const m=f.displaced.visible[l],g=!!(h.inVirtualList&&h.effected[l]),y=sm(f),x=y&&y.draggableId===l?c:null;if(!m){if(!g)return s(x);if(f.displaced.invisible[l])return null;const _=ic(h.displacedBy.point),k=t(_.x,_.y);return n(k,x,!0)}if(g)return s(x);const b=f.displacedBy.point,C=t(b.x,b.y);return n(C,x,m.shouldAnimate)};return(l,c)=>{if(dd(l))return l.critical.draggable.id===c.draggableId?null:i(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const f=l.completed;return f.result.draggableId===c.draggableId?null:i(c.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null}}const YG=()=>{const t=VG(),e=GG();return(s,i)=>t(s,i)||e(s,i)||qG},WG={dropAnimationFinished:gM},QG=FL(YG,WG,null,{context:a0,areStatePropsEqual:IM})(FG);function zM(t){return _p(c0).isUsingCloneFor===t.draggableId&&!t.isClone?null:Re.createElement(QG,t)}function Nb(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Re.createElement(zM,vp({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:s}))}const FM=t=>e=>t===e,KG=FM("scroll"),XG=FM("auto"),E2=(t,e)=>e(t.overflowX)||e(t.overflowY),ZG=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return E2(n,KG)||E2(n,XG)},JG=()=>!1,HM=t=>t==null?null:t===document.body?JG()?t:null:t===document.documentElement?null:ZG(t)?t:HM(t.parentElement);var jb=t=>({x:t.scrollLeft,y:t.scrollTop});const $M=t=>t?window.getComputedStyle(t).position==="fixed"?!0:$M(t.parentElement):!1;var eY=t=>{const e=HM(t),n=$M(t);return{closestScrollable:e,isFixedOnPage:n}},tY=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:s,direction:i,client:a,page:l,closest:c})=>{const f=(()=>{if(!c)return null;const{scrollSize:y,client:x}=c,b=xM({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:x,scrollSize:y,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:b,diff:{value:An,displacement:An}}}})(),h=i==="vertical"?Wx:JL,m=Fl({page:l,withPlaceholder:null,axis:h,frame:f});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:h,isEnabled:e,client:a,page:l,frame:f,subject:m}};const nY=(t,e)=>{const n=$L(t);if(!e||t!==e)return n;const s=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,a=s+e.scrollHeight,l=i+e.scrollWidth,f=Vx({top:s,right:l,bottom:a,left:i},n.border);return qx({borderBox:f,margin:n.margin,border:n.border,padding:n.padding})};var sY=({ref:t,descriptor:e,env:n,windowScroll:s,direction:i,isDropDisabled:a,isCombineEnabled:l,shouldClipSubject:c})=>{const f=n.closestScrollable,h=nY(t,f),m=yp(h,s),g=(()=>{if(!f)return null;const x=$L(f),b={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:x,page:yp(x,s),scroll:jb(f),scrollSize:b,shouldClipSubject:c}})();return tY({descriptor:e,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:h,page:m,closest:g})};const iY={passive:!1},rY={passive:!0};var N2=t=>t.shouldPublishImmediately?iY:rY;const ph=t=>t&&t.env.closestScrollable||null;function aY(t){const e=w.useRef(null),n=_p(om),s=o0("droppable"),{registry:i,marshal:a}=n,l=OM(t),c=vt(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),f=w.useRef(c),h=vt(()=>Dn((O,E)=>{e.current||Oe();const M={x:O,y:E};a.updateDroppableScroll(c.id,M)}),[c.id,a]),m=$e(()=>{const O=e.current;return!O||!O.env.closestScrollable?An:jb(O.env.closestScrollable)},[]),g=$e(()=>{const O=m();h(O.x,O.y)},[m,h]),y=vt(()=>rd(g),[g]),x=$e(()=>{const O=e.current,E=ph(O);if(O&&E||Oe(),O.scrollOptions.shouldPublishImmediately){g();return}y()},[y,g]),b=$e((O,E)=>{e.current&&Oe();const M=l.current,T=M.getDroppableRef();T||Oe();const I=eY(T),P={ref:T,descriptor:c,env:I,scrollOptions:E};e.current=P;const z=sY({ref:T,descriptor:c,env:I,windowScroll:O,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),G=I.closestScrollable;return G&&(G.setAttribute(x2.contextId,n.contextId),G.addEventListener("scroll",x,N2(P.scrollOptions))),z},[n.contextId,c,x,l]),C=$e(()=>{const O=e.current,E=ph(O);return O&&E||Oe(),jb(E)},[]),_=$e(()=>{const O=e.current;O||Oe();const E=ph(O);e.current=null,E&&(y.cancel(),E.removeAttribute(x2.contextId),E.removeEventListener("scroll",x,N2(O.scrollOptions)))},[x,y]),k=$e(O=>{const E=e.current;E||Oe();const M=ph(E);M||Oe(),M.scrollTop+=O.y,M.scrollLeft+=O.x},[]),j=vt(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:C,dragStopped:_,scroll:k}),[_,b,C,k]),L=vt(()=>({uniqueId:s,descriptor:c,callbacks:j}),[j,c,s]);Hs(()=>(f.current=L.descriptor,i.droppable.register(L),()=>{e.current&&_(),i.droppable.unregister(L)}),[j,c,_,L,a,i.droppable]),Hs(()=>{e.current&&a.updateDroppableIsEnabled(f.current.id,!t.isDropDisabled)},[t.isDropDisabled,a]),Hs(()=>{e.current&&a.updateDroppableIsCombineEnabled(f.current.id,t.isCombineEnabled)},[t.isCombineEnabled,a])}function wv(){}const j2={width:0,height:0,margin:mV},oY=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?j2:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},lY=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const s=oY({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Hu.placeholder:null}},cY=t=>{const e=w.useRef(null),n=$e(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:s,onTransitionEnd:i,onClose:a,contextId:l}=t,[c,f]=w.useState(t.animate==="open");w.useEffect(()=>c?s!=="open"?(n(),f(!1),wv):e.current?wv:(e.current=setTimeout(()=>{e.current=null,f(!1)}),n):wv,[s,c,n]);const h=$e(g=>{g.propertyName==="height"&&(i(),s==="close"&&a())},[s,a,i]),m=lY({isAnimatingOpenOnMount:c,animate:t.animate,placeholder:t.placeholder});return Re.createElement(t.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":l,onTransitionEnd:h,ref:t.innerRef})};var uY=Re.memo(cY);class dY extends Re.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const fY=t=>{const e=w.useContext(om);e||Oe();const{contextId:n,isMovementAllowed:s}=e,i=w.useRef(null),a=w.useRef(null),{children:l,droppableId:c,type:f,mode:h,direction:m,ignoreContainerClipping:g,isDropDisabled:y,isCombineEnabled:x,snapshot:b,useClone:C,updateViewportMaxScroll:_,getContainerForClone:k}=t,j=$e(()=>i.current,[]),L=$e((G=null)=>{i.current=G},[]);$e(()=>a.current,[]);const O=$e((G=null)=>{a.current=G},[]),E=$e(()=>{s()&&_({maxScroll:SM()})},[s,_]);aY({droppableId:c,type:f,mode:h,direction:m,isDropDisabled:y,isCombineEnabled:x,ignoreContainerClipping:g,getDroppableRef:j});const M=vt(()=>Re.createElement(dY,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:G,data:q,animate:K})=>Re.createElement(uY,{placeholder:q,onClose:G,innerRef:O,animate:K,contextId:n,onTransitionEnd:E})),[n,E,t.placeholder,t.shouldAnimatePlaceholder,O]),T=vt(()=>({innerRef:L,placeholder:M,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,M,L]),I=C?C.dragging.draggableId:null,P=vt(()=>({droppableId:c,type:f,isUsingCloneFor:I}),[c,I,f]);function z(){if(!C)return null;const{dragging:G,render:q}=C,K=Re.createElement(zM,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(re,ce)=>q(re,ce,G));return tI.createPortal(K,k())}return Re.createElement(c0.Provider,{value:P},l(T,b),z())};function hY(){return document.body||Oe(),document.body}const k2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:hY},VM=t=>{let e={...t},n;for(n in k2)t[n]===void 0&&(e={...e,[n]:k2[n]});return e},Sv=(t,e)=>t===e.droppable.type,O2=(t,e)=>e.draggables[t.draggable.id],pY=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Dn(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),s=Dn((a,l,c,f,h,m)=>{const g=h.descriptor.id;if(h.descriptor.droppableId===a){const b=m?{render:m,dragging:n(h.descriptor)}:null,C={isDraggingOver:c,draggingOverWith:c?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:b}}if(!l)return e;if(!f)return t;const x={isDraggingOver:c,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(a,l)=>{const c=VM(l),f=c.droppableId,h=c.type,m=!c.isDropDisabled,g=c.renderClone;if(dd(a)){const y=a.critical;if(!Sv(h,y))return e;const x=O2(y,a.dimensions),b=Fs(a.impact)===f;return s(f,m,b,b,x,g)}if(a.phase==="DROP_ANIMATING"){const y=a.completed;if(!Sv(h,y.critical))return e;const x=O2(y.critical,a.dimensions);return s(f,m,BM(y.result)===f,Fs(y.impact)===f,x,g)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const y=a.completed;if(!Sv(h,y.critical))return e;const x=Fs(y.impact)===f,b=!!(y.impact.at&&y.impact.at.type==="COMBINE"),C=y.critical.droppable.id===f;return x?b?t:e:C?t:e}return e}},mY={updateViewportMaxScroll:j7},kb=FL(pY,mY,(t,e,n)=>({...VM(n),...t,...e}),{context:a0,areStatePropsEqual:IM})(fY),u0=({label:t,className:e="",...n})=>d.jsxs("div",{className:"w-full",children:[t&&d.jsx(H.Label,{className:"mb-2 block",children:t}),d.jsx("textarea",{className:`
          w-full p-3 border border-gray-200 rounded-xl
          focus:ring-1 focus:ring-primary focus:border-primary outline-none
          transition-all resize-none text-gray-700 placeholder-gray-400 text-sm
          bg-white shadow-sm
          ${e}
        `,...n})]}),Ob=({label:t,checked:e,onChange:n,disabled:s=!1,className:i=""})=>d.jsxs("label",{className:`flex items-center gap-2.5 select-none ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"} ${i}`,children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"checkbox",className:"sr-only",checked:e,onChange:a=>n(a.target.checked),disabled:s}),d.jsx("div",{className:`
            w-5 h-5 rounded-md border flex items-center justify-center transition-all duration-200
            ${e?"bg-primary border-primary":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary/50"}
          `,children:d.jsx(Qu,{className:`w-3.5 h-3.5 text-white transition-transform duration-200 ${e?"scale-100":"scale-0"}`,strokeWidth:3})})]}),t&&d.jsx(H.Small,{className:`${e?"text-text-main font-medium":"text-text-muted"}`,children:t})]}),gY=({label:t,options:e,value:n,onChange:s,placeholder:i="Select options...",className:a=""})=>{const[l,c]=w.useState(!1),[f,h]=w.useState(""),m=w.useRef(null);w.useEffect(()=>{const C=_=>{m.current&&!m.current.contains(_.target)&&c(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const g=e.filter(C=>C.label.toLowerCase().includes(f.toLowerCase())),y=e.filter(C=>n.includes(C.value)),x=C=>{n.includes(C)?s(n.filter(_=>_!==C)):s([...n,C])},b=(C,_)=>{C.stopPropagation(),s(n.filter(k=>k!==_))};return d.jsxs("div",{className:`relative ${a}`,ref:m,children:[t&&d.jsx(H.Label,{className:"mb-1.5 block",children:t}),d.jsxs("div",{className:`
          min-h-[42px] px-3 py-1.5 rounded-xl border bg-background-card transition-all cursor-pointer flex flex-wrap items-center gap-2
          ${l?"border-primary ring-1 ring-primary":"border-border hover:border-gray-400 dark:hover:border-gray-500"}
        `,onClick:()=>c(!l),children:[y.length===0&&d.jsx("span",{className:"text-text-muted text-sm py-1",children:i}),y.map(C=>d.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium bg-primary/10 text-primary border border-primary/20",children:[C.label,d.jsx("button",{onClick:_=>b(_,C.value),className:"ml-1 hover:text-red-500 focus:outline-none",children:d.jsx(rs,{className:"w-3 h-3"})})]},C.value)),d.jsx("div",{className:"ml-auto pl-2",children:d.jsx(Fb,{className:`w-4 h-4 text-text-muted transition-transform ${l?"rotate-180":""}`})})]}),l&&d.jsxs("div",{className:"absolute z-50 mt-2 w-full bg-background-card border border-border rounded-xl shadow-xl overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:[d.jsx("div",{className:"p-2 border-b border-border sticky top-0 bg-background-card",children:d.jsxs("div",{className:"relative",children:[d.jsx(xd,{className:"w-4 h-4 absolute left-2.5 top-2.5 text-text-muted"}),d.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-3 py-2 bg-gray-50 dark:bg-gray-900 rounded-lg text-sm border-none focus:ring-1 focus:ring-primary outline-none",value:f,onChange:C=>h(C.target.value),autoFocus:!0,onClick:C=>C.stopPropagation()})]})}),d.jsx("div",{className:"max-h-60 overflow-y-auto p-1",children:g.length>0?g.map(C=>{const _=n.includes(C.value);return d.jsxs("div",{onClick:()=>x(C.value),className:`
                      flex items-center justify-between px-3 py-2.5 rounded-lg cursor-pointer text-sm transition-colors
                      ${_?"bg-primary/5 text-primary font-medium":"text-text-main hover:bg-gray-50 dark:hover:bg-gray-800"}
                    `,children:[d.jsx("span",{children:C.label}),_&&d.jsx(Qu,{className:"w-4 h-4"})]},C.value)}):d.jsx("div",{className:"p-4 text-center text-text-muted text-sm",children:"No results found."})})]})]})},qM=({isOpen:t,onClose:e,products:n,onSelect:s})=>{const{t:i}=Ve(),[a,l]=w.useState("");if(!t)return null;const c=n.filter(f=>f.name.toLowerCase().includes(a.toLowerCase()));return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-background-card w-full max-w-md rounded-2xl shadow-2xl border border-border flex flex-col max-h-[80vh]",children:[d.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[d.jsx(H.H3,{className:"mb-0 text-lg",children:i("products.select_product")}),d.jsx("button",{onClick:e,className:"text-text-muted hover:text-text-main",children:d.jsx(rs,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-4 border-b border-border",children:d.jsx(ze,{placeholder:i("common.search"),icon:d.jsx(xd,{className:"w-4 h-4 text-text-muted"}),value:a,onChange:f=>l(f.target.value),autoFocus:!0})}),d.jsxs("div",{className:"overflow-y-auto p-2 space-y-1",children:[c.map(f=>d.jsxs("button",{onClick:()=>s(f),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition-colors text-left group",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-text-muted",children:f.imageUrl?d.jsx("img",{src:f.imageUrl,alt:"",className:"w-full h-full object-cover rounded-lg"}):d.jsx(qb,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-sm text-text-main group-hover:text-primary transition-colors",children:f.name}),d.jsxs("div",{className:"text-xs text-text-muted",children:["$",Number(f.price).toFixed(2)]})]})]},f.id)),c.length===0&&d.jsx("div",{className:"text-center py-8 text-text-muted text-sm",children:i("common.no_results")})]})]})})},L2=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{activeRestaurant:i}=Tt(),a=Ct(_e=>_e.addToast),{createProduct:l,updateProduct:c,getProductById:f,isLoading:h,isCreating:m,isUpdating:g,products:y}=Jp(),{sections:x}=Zp(),{uploadFile:b,isUploading:C}=Md(),{modifiers:_}=em(),{navigateTo:k}=en(),[j,L]=w.useState(""),[O,E]=w.useState(""),[M,T]=w.useState(""),[I,P]=w.useState(10),[z,G]=w.useState(15),[q,K]=w.useState([]),[re,ce]=w.useState(null),[B,Q]=w.useState(null),[se,oe]=w.useState(!1),[pe,A]=w.useState(!0),[R,V]=w.useState([]),[ee,Y]=w.useState(""),[je,Te]=w.useState(!1),[Ae,Be]=w.useState(null),[ve,Me]=w.useState(null),at=w.useRef(!1);w.useEffect(()=>{s&&n&&!at.current&&(async()=>{const le=await f(n);le&&(L(le.name),E(le.description??""),T(le.price.toString()),P(le.prepTimeMin??0),G(le.prepTimeMax??0),Q(le.imageUrl||null),le.imageUrl&&oe(!0),le.menuSections&&le.menuSections.length>0&&K(le.menuSections.map(be=>be.id)),V(le.modifierGroups||[]),at.current=!0)})()},[n,s,f]);const ft=_e=>_e.id?!_e.id.toString().startsWith("new-"):!1,pn=_e=>{const{source:le,destination:be,type:Ce}=_e;if(be){if(Ce==="GROUP"){const He=Array.from(R),[xt]=He.splice(le.index,1);He.splice(be.index,0,xt),V(He)}else if(Ce==="OPTION"){const He=R.findIndex(Kn=>Kn.id===le.droppableId),xt=R.findIndex(Kn=>Kn.id===be.droppableId);if(He===-1||xt===-1)return;if(ft(R[He])||ft(R[xt])){a(t("products.cannot_edit_linked_options"),"warning");return}const qt=[...R],on={...qt[He],options:[...qt[He].options]},Kt={...qt[xt],options:[...qt[xt].options]},[Rn]=on.options.splice(le.index,1);Kt.options.splice(be.index,0,Rn),qt[He]=on,qt[xt]=Kt,V(qt)}}},it=()=>{V([...R,{id:`new-group-${Date.now()}`,name:"",minSelected:0,maxSelected:1,isRequired:!1,options:[]}])},ls=()=>{if(!ee)return;const _e=_.find(le=>le.id===ee);_e&&(V([...R,_e]),Y(""),a(t("products.group_linked"),"success"))},cs=_e=>{const le=[...R];le.splice(_e,1),V(le),ve===_e&&Me(null)},Ys=_e=>{const le=[...R],be=`new-group-${Date.now()}`,Ce=le[_e];le[_e]={...Ce,id:be,name:`${Ce.name} (Copy)`,options:Ce.options.map(He=>({...He,id:`new-opt-${Date.now()}-${Math.random()}`}))},V(le),Me(null),a(t("products.group_detached_success"),"success")},$n=()=>{Me(null)},Vn=(_e,le,be)=>{if(ft(R[_e]))return;const Ce=[...R];Ce[_e]={...Ce[_e],[le]:be},V(Ce)},F=(_e,le)=>{if(ft(R[_e]))return;const be=[...R],Ce={...be[_e]};le==="single"?(Ce.minSelected=1,Ce.maxSelected=1,Ce.isRequired=!0):(Ce.minSelected=0,Ce.maxSelected=Math.max(Ce.options.length||3,5),Ce.isRequired=!1),be[_e]=Ce,V(be)},X=(_e,le)=>{if(ft(R[_e]))return;const be=[...R],Ce={...be[_e]};Ce.isRequired=le,Ce.minSelected=le?1:0,be[_e]=Ce,V(be)},ae=_e=>{if(ft(R[_e]))return;const le=[...R],be={...le[_e]};be.options=[...be.options,{id:`new-opt-${Date.now()}`,name:"",price:0,maxQuantity:1,isAvailable:!0,productId:void 0}],le[_e]=be,V(le)},Ee=_e=>{ft(R[_e])||(Be(_e),Te(!0))},ke=_e=>{if(Ae===null)return;const le=[...R],be={...le[Ae]};if(be.options.some(He=>He.productId===_e.id)){a(t("products.product_already_added"),"warning");return}be.options=[...be.options,{id:`new-opt-${Date.now()}`,name:_e.name,price:_e.price??0,maxQuantity:1,isAvailable:!0,productId:_e.id,imageUrl:_e.imageUrl}],le[Ae]=be,V(le),Te(!1),Be(null)},Se=(_e,le,be,Ce)=>{if(ft(R[_e]))return;const He=[...R],xt={...He[_e]},qt=[...xt.options];qt[le]={...qt[le],[be]:Ce},xt.options=qt,He[_e]=xt,V(He)},Pe=(_e,le)=>{if(ft(R[_e]))return;const be=[...R],Ce={...be[_e]},He=[...Ce.options];He.splice(le,1),Ce.options=He,be[_e]=Ce,V(be)},Ze=async()=>{if(!j||!M||q.length===0){a(t("Name, Price, Category are required"),"error");return}if(!i)return;let _e=B||"";if(re&&!se){const Ce=await b(re,zl.Products(i.id));Ce&&(_e=Ce,oe(!0))}const le=R.map(Ce=>ft(Ce)?{id:Ce.id}:{id:void 0,minSelected:Number(Ce.minSelected||0),maxSelected:Number(Ce.maxSelected||1),name:Ce.name,isRequired:Ce.isRequired,options:Ce.options.map(He=>({id:He.id?.startsWith("new-")?void 0:He.id,name:He.name,price:Number(He.price),maxQuantity:Number(He.maxQuantity||1),isAvailable:He.isAvailable,productId:He.productId}))}),be={restaurantId:i.id,name:j,description:O,price:Number(M),imageUrl:_e,prepTimeMin:I,prepTimeMax:z,menuSectionIds:q,modifierGroups:le};console.log(be);try{s&&n?await c({id:n,data:be}):await l(be),e()}catch(Ce){console.error(Ce)}},rt=x.map(_e=>({value:_e.id,label:_e.name})),Ut=C||h||m||g;return d.jsxs(Vt,{title:t(s?"products.title_edit":"products.title_add"),subtitle:t("products.subtitle_add"),showNavBack:!0,isLoading:h,headerActions:d.jsx(Fe,{onClick:Ze,disabled:Ut,isLoading:Ut,children:Ut?t("common.loading"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",t("common.save")]})}),children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-20",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl border border-border space-y-6 shadow-sm",children:[d.jsx(H.H3,{children:t("products.basic_info")}),d.jsx(ze,{label:t("products.dish_name"),value:j,onChange:_e=>L(_e.target.value)}),d.jsx(u0,{label:t("products.description"),value:O,onChange:_e=>E(_e.target.value)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(gY,{label:t("products.category"),options:rt,value:q,onChange:K}),d.jsx(ze,{label:t("products.base_price"),type:"number",value:M,onChange:_e=>T(_e.target.value)})]}),d.jsx("div",{children:d.jsx(Ob,{label:"Require preparation time?",checked:pe,onChange:_e=>{A(_e),P(_e?10:0),G(_e?15:0)}})}),pe&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(ze,{label:t("products.prep_min_time"),type:"number",value:I,onChange:_e=>P(Number(_e.target.value))}),d.jsx(ze,{label:t("products.prep_max_time"),type:"number",value:z,onChange:_e=>G(Number(_e.target.value))})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:d.jsx(H.H3,{children:t("products.modifiers")})}),d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{className:"flex gap-2",children:[_.length>0&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"w-56",children:d.jsxs(is,{value:ee,onChange:_e=>Y(_e.target.value),className:"w-full",children:[d.jsx("option",{value:"",children:t("products.select_from_library")}),_.map(_e=>d.jsx("option",{value:_e.id,children:_e.name},_e.id))]})}),d.jsxs(Fe,{variant:"primary",onClick:ls,disabled:!ee,children:[d.jsx(jR,{className:"w-4 h-4"})," ",t("products.add_modifier")]})]}),d.jsxs(Fe,{variant:"ghost",onClick:it,className:"text-primary",children:[d.jsx(yi,{className:"w-4 h-4 mr-2"})," ",t("products.add_group")]})]})}),d.jsx(PM,{onDragEnd:pn,children:d.jsx(kb,{droppableId:"groups-root",type:"GROUP",children:_e=>d.jsxs("div",{ref:_e.innerRef,..._e.droppableProps,className:"space-y-4",children:[R.map((le,be)=>{const Ce=ft(le),He=le.minSelected===1&&le.maxSelected===1,xt=ve===be;return d.jsx(Nb,{draggableId:le.id||`g-${be}`,index:be,children:qt=>d.jsxs("div",{ref:qt.innerRef,...qt.draggableProps,className:`bg-background-card p-5 rounded-2xl border ${Ce?"border-primary/40 bg-primary/5":"border-border"} relative group transition-all`,children:[Ce&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"absolute top-0 right-32 bg-primary/20 text-primary text-[10px] font-bold px-3 py-1 rounded-b-md flex items-center gap-1 z-10",children:[d.jsx(Tp,{className:"w-3 h-3"})," ",t("products.linked_group")]}),d.jsx("button",{onClick:()=>Me(be),className:"absolute top-2 right-2  text-primary hover:text-primary-dark p-2 bg-white dark:bg-gray-800 rounded-full shadow-sm hover:shadow-md transition-all z-20 border border-primary/20",title:t("products.edit_detach_group"),children:d.jsx(YP,{className:"w-4 h-4"})})]}),xt&&d.jsxs("div",{className:"absolute inset-0 z-30 bg-background-card/95 backdrop-blur-sm rounded-2xl flex flex-col items-center justify-center p-6 text-center animate-in fade-in zoom-in-95 border-2 border-amber-400",children:[d.jsx("div",{className:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4 text-amber-600",children:d.jsx(Hb,{className:"w-6 h-6"})}),d.jsx(H.H3,{className:"mb-2",children:t("products.detach_title")}),d.jsx("p",{className:"text-sm text-text-muted mb-6 max-w-md",children:t("products.detach_description")}),d.jsx(Fe,{className:"mb-4 mt-4 hover",variant:"secondary",onClick:()=>k(Dt.Modifiers),children:t("modifiers.update_main_modifier")}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(Fe,{variant:"ghost",onClick:$n,children:t("common.cancel")}),d.jsx(Fe,{variant:"primary",onClick:()=>Ys(be),children:t("products.confirm_detach")})]}),d.jsx("button",{onClick:$n,className:"absolute top-4 right-4 text-text-muted hover:text-text-main",children:d.jsx(rs,{className:"w-5 h-5"})})]}),d.jsx("div",{...qt.dragHandleProps,className:"absolute left-4 top-6 text-text-muted cursor-grab active:cursor-grabbing hover:text-text-main",children:d.jsx(Rv,{className:"w-5 h-5"})}),d.jsxs("div",{className:`pl-8 pr-8 grid grid-cols-1 gap-4 mb-4 ${Ce?"opacity-70 pointer-events-none":""}`,children:[d.jsx(ze,{label:t("products.group_name"),value:le.name,onChange:on=>Vn(be,"name",on.target.value),disabled:Ce}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center bg-gray-50 dark:bg-gray-900/40 p-3 rounded-xl",children:[d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(Ld,{value:He?"single":"multi",onChange:on=>F(be,on),disabled:Ce,options:[{value:"single",label:t("common.single"),icon:d.jsx(Dl,{className:"w-3 h-3"})},{value:"multi",label:t("common.multi"),icon:d.jsx(Xu,{className:"w-3 h-3"})}]})}),d.jsx(H.Small,{className:"text-text-muted italic px-2",children:t(He?"products.single_opt_help":"products.multi_opt_help")})]}),!He&&d.jsxs("div",{className:"flex flex-row gap-4 mb-2",children:[d.jsx(Ob,{label:"Required?",checked:le.isRequired,onChange:on=>X(be,on),disabled:Ce}),d.jsx(ze,{type:"number",label:t("products.max_help"),size:"sm",value:le.maxSelected,onChange:on=>Vn(be,"maxSelected",Number(on.target.value)),disabled:Ce})]})]}),d.jsx("button",{onClick:()=>cs(be),className:"absolute top-12 right-2  text-primary hover:text-primary-dark p-2 bg-white dark:bg-gray-800 rounded-full shadow-sm hover:shadow-md transition-all z-20 border border-primary/20",children:d.jsx(jr,{className:"w-5 h-5"})}),d.jsx(kb,{droppableId:le.id||`g-${be}`,type:"OPTION",isDropDisabled:Ce,children:on=>d.jsxs("div",{ref:on.innerRef,...on.droppableProps,className:`bg-gray-50 dark:bg-gray-900/50 p-4 rounded-xl space-y-2 ml-8 border border-border/50 ${Ce?"opacity-70 pointer-events-none":""}`,children:[d.jsx(H.Label,{className:"mb-2 block text-xs",children:t("products.options_list")}),le.options.map((Kt,Rn)=>d.jsx(Nb,{draggableId:Kt.id||`o-${be}-${Rn}`,index:Rn,isDragDisabled:Ce,children:Kn=>d.jsxs("div",{ref:Kn.innerRef,...Kn.draggableProps,className:`flex gap-2 items-center bg-background-card p-2 rounded-lg border shadow-sm ${Ce?"border-transparent opacity-70":"border-border"}`,children:[d.jsx("div",{...Kn.dragHandleProps,className:`text-text-muted ${Ce?"cursor-not-allowed opacity-50":"cursor-grab"}`,children:d.jsx(Rv,{className:"w-4 h-4"})}),d.jsx("div",{className:"text-gray-400",children:Kt.productId?Kt.imageUrl||Kt?.linkedProduct?.imageUrl?d.jsx("img",{src:Kt.imageUrl||Kt?.linkedProduct?.imageUrl,alt:Kt.name,className:"w-8 h-8 rounded-md object-cover border border-border"}):d.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600",children:d.jsx(qb,{className:"w-4 h-4"})}):He?d.jsx(Dl,{className:"w-4 h-4"}):d.jsx(Xu,{className:"w-4 h-4"})}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{placeholder:"Option Name",className:"w-full bg-transparent text-sm border-none focus:ring-0 outline-none p-0 text-text-main",value:Kt.name,onChange:Es=>Se(be,Rn,"name",Es.target.value),disabled:Ce})}),d.jsxs("div",{className:"w-16 border-l border-border pl-2 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-text-muted text-[10px] font-bold",children:"x"}),d.jsx("input",{type:"number",min:"1",className:"w-full bg-transparent text-sm font-medium border-none focus:ring-0 outline-none p-0 text-text-main",value:Kt.maxQuantity||1,onChange:Es=>Se(be,Rn,"maxQuantity",Number(Es.target.value)),disabled:Ce})]}),d.jsx(H.Label,{className:"text-[9px] text-text-muted leading-none mt-0.5",children:t("products.max_quantity")})]}),d.jsxs("div",{className:"w-24 border-l border-border pl-2 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-text-muted text-sm font-medium",children:"$"}),d.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-transparent text-sm text-right border-none focus:ring-0 outline-none p-0 text-text-main",value:Kt.price,onChange:Es=>Se(be,Rn,"price",Es.target.value),disabled:Ce})]}),d.jsx(H.Label,{className:"text-[9px] text-text-muted text-right leading-none mt-0.5",children:t("products.extra_price")})]}),!Ce&&d.jsx("button",{onClick:()=>Pe(be,Rn),className:"text-text-muted hover:text-red-500 p-1",children:d.jsx(jr,{className:"w-4 h-4"})})]})},Kt.id||`o-${be}-${Rn}`)),on.placeholder,!Ce&&d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>ae(be),className:"flex-1 py-2 border border-dashed border-primary/30 bg-primary/5 rounded-lg text-primary text-xs font-bold flex items-center justify-center hover:bg-primary/10 transition-colors",children:[d.jsx(gk,{className:"w-3 h-3 mr-2"})," ",t("products.add_text_option")]}),d.jsxs("button",{onClick:()=>Ee(be),className:"flex-1 py-2 border border-dashed border-purple-500/30 bg-purple-500/5 rounded-lg text-purple-600 text-xs font-bold flex items-center justify-center hover:bg-purple-500/10 transition-colors",children:[d.jsx(hk,{className:"w-3 h-3 mr-2"})," ",t("products.add_product_option")]})]})]})})]})},le.id||`g-${be}`)}),_e.placeholder]})})})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsx(tm,{initialPreview:B,onFileSelect:_e=>{ce(_e),oe(!1)}})})]}),d.jsx(qM,{isOpen:je,onClose:()=>Te(!1),products:y,onSelect:ke})]})},yY=[1,2,3,4,5,6,0],vY=()=>{const{goBack:t}=en(),{t:e}=Ve(),{groupedSchedules:n,addSlot:s,removeSlot:i,updateSlot:a,copyDayToAll:l,saveChanges:c,isDirty:f,isLoading:h,isSaving:m}=bL(),g=async()=>{try{await c(),t()}catch(y){console.log(y)}};return d.jsx(Vt,{title:e("schedules.title"),subtitle:e("schedules.subtitle"),showNavBack:!0,isLoading:h,headerActions:d.jsxs(Fe,{onClick:g,disabled:!f||m,isLoading:m,children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",e("common.save")]}),children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 p-4 rounded-2xl flex items-start gap-3",children:[d.jsx(Ki,{className:"w-5 h-5 text-blue-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx(H.H3,{className:"text-blue-800 dark:text-blue-300 text-sm mb-1",children:e("schedules.weakly_hours")}),d.jsx(H.Small,{className:"text-blue-600 dark:text-blue-400",children:e("schedules.schedules_help_text")})]})]}),d.jsx("div",{className:"bg-background-card rounded-3xl border border-border shadow-sm divide-y divide-border",children:yY.map(y=>d.jsx(bY,{dayIndex:y,slots:n[y],onAdd:()=>s(y),onRemove:x=>i(y,x),onUpdate:(x,b,C)=>a(y,x,b,C),onCopy:()=>l(y),t:e},y))})]})})},bY=({dayIndex:t,slots:e,onAdd:n,onRemove:s,onUpdate:i,onCopy:a,t:l})=>{const c=e.length===0;return d.jsx("div",{className:"p-6 transition-colors hover:bg-gray-50/50 dark:hover:bg-gray-800/20",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4 md:gap-8",children:[d.jsxs("div",{className:"md:w-48 shrink-0 flex flex-row md:flex-col items-center md:items-start justify-between",children:[d.jsxs("div",{children:[d.jsx(H.H3,{className:"mb-1 capitalize",children:l(`schedules.days.${t}`)}),d.jsx(Bt,{variant:c?"default":"success",className:c?"opacity-70":"",children:l(c?"schedules.closed":"schedules.open")})]}),!c&&d.jsxs("button",{onClick:a,className:"mt-0 md:mt-3 text-xs text-primary hover:text-primary-dark font-medium flex items-center transition-colors group",title:l("schedules.copy_to_all"),children:[d.jsx(Hb,{className:"w-3.5 h-3.5 mr-1.5 transition-transform group-hover:scale-110"}),d.jsx("span",{className:"hidden md:inline",children:l("schedules.copy_to_all")}),d.jsx("span",{className:"md:hidden",children:l("common.copy_all")})]})]}),d.jsxs("div",{className:"flex-1 space-y-3",children:[c?d.jsxs("div",{className:"flex items-center text-text-muted h-10 bg-gray-50 dark:bg-gray-900/50 rounded-xl px-4 border border-dashed border-border w-full md:w-auto self-start",children:[d.jsx(LR,{className:"w-4 h-4 mr-2 opacity-50"}),d.jsx("span",{className:"text-sm italic",children:l("no_shifts_configured")})]}):e.map((f,h)=>d.jsxs("div",{className:"flex items-center gap-3 animate-in fade-in slide-in-from-left-2 duration-200",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-900/50 p-1.5 rounded-xl border border-border focus-within:ring-2 focus-within:ring-primary/20 transition-all",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"time",value:f.openTime,onChange:m=>i(h,"openTime",m.target.value),className:"bg-transparent border-none text-sm font-bold text-text-main focus:ring-0 w-24 text-center cursor-pointer"}),d.jsx("span",{className:"absolute -top-2 left-2 text-[10px] text-text-muted bg-background px-1 opacity-0 group-hover:opacity-100 transition-opacity",children:"Open"})]}),d.jsx("span",{className:"text-text-muted text-xs",children:l("common.to")}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"time",value:f.closeTime,onChange:m=>i(h,"closeTime",m.target.value),className:"bg-transparent border-none text-sm font-bold text-text-main focus:ring-0 w-24 text-center cursor-pointer"}),d.jsx("span",{className:"absolute -top-2 left-2 text-[10px] text-text-muted bg-background px-1 opacity-0 group-hover:opacity-100 transition-opacity",children:"Close"})]})]}),d.jsx("button",{onClick:()=>s(h),className:"w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",children:d.jsx(jr,{className:"w-4 h-4"})})]},h)),d.jsx("div",{className:"pt-1",children:d.jsxs("button",{onClick:n,className:"flex items-center text-sm font-bold text-primary hover:text-primary-dark transition-colors py-1 px-2 rounded-lg hover:bg-primary/5",children:[d.jsx(yi,{className:"w-4 h-4 mr-1.5"}),l("schedules.add_hours")]})})]})]})})},xY=({driver:t,onEdit:e,onViewDetails:n,onStatusChange:s})=>{const{t:i}=Ve(),a=`https://ui-avatars.com/api/?name=${t?.firstName}+${t?.lastName}&background=random&color=fff`;return d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border flex flex-col items-center text-center hover:shadow-md transition-all cursor-pointer group relative",children:[d.jsx("div",{className:"w-20 h-20 rounded-full mb-4 border-2 border-background-card shadow-sm overflow-hidden group-hover:scale-105 transition-transform duration-300 ring-2 ring-gray-100 dark:ring-gray-700",children:d.jsx("img",{src:t.profileImageUrl||a,alt:t.firstName,className:"w-full h-full object-cover"})}),d.jsxs(H.H3,{className:"text-lg mb-1",children:[t.firstName," ",t.lastName]}),d.jsx(Bt,{className:"mb-2",variant:t.isAvailable?"success":"error",children:t.isAvailable?i("common.online"):i("common.offline")}),d.jsxs("div",{className:"w-full border-t border-border pt-4 flex flex-col gap-3",children:[d.jsxs("div",{className:"flex  text-text-muted text-sm gap-2",children:[d.jsx(So,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate max-w-[180px]",children:t.user.email||"No email provided"})]}),d.jsxs("div",{className:"flex text-text-muted text-sm gap-2",children:[d.jsx(mi,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate max-w-[180px]",children:t.phone||"No phone"})]}),d.jsx("div",{className:"flex justify-center mt-1",children:d.jsxs("span",{className:`
    inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border
    ${t.status==="active"?"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800":"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800"}
  `,children:[d.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${t.status===Is.active?"bg-green-500":"bg-red-500"}`}),t.status]})}),d.jsx("div",{className:"pt-4 border-t border-border",children:d.jsxs(is,{label:i("drivers.status"),value:t.status,onChange:l=>s(l.target.value),className:"mb-0",children:[d.jsx("option",{value:"active",children:i("common.status_active")}),d.jsx("option",{value:"inactive",children:i("common.status_inactive")}),d.jsx("option",{value:"suspended",children:i("common.status_suspended")})]})}),d.jsx(Tr,{secondary:{label:i("common.edit"),icon:qs,onClick:e},primary:{label:i("common.details"),icon:Yl,onClick:n}})]})]})},wY=({driver:t,isOpen:e,onClose:n})=>{const{t:s}=Ve(),{navigateTo:i}=en();if(!e||!t)return null;const a=`https://ui-avatars.com/api/?name=${t.firstName}+${t.lastName}&background=random`;return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:n,children:d.jsxs("div",{className:"bg-background rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col relative",children:[d.jsx("div",{className:"h-32 bg-gradient-to-r from-primary/80 to-primary w-full absolute top-0 left-0 z-0"}),d.jsxs("div",{className:"z-10 px-8 pt-16 pb-8 flex flex-col items-center text-center",children:[d.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white shadow-md overflow-hidden bg-white mb-4",children:d.jsx("img",{src:t.profileImageUrl||a,alt:`${t.firstName} ${t.lastName}`,className:"w-full h-full object-cover"})}),d.jsxs(H.H3,{className:"text-xl mb-1",children:[t.firstName," ",t.lastName]}),d.jsxs("div",{className:"w-full space-y-4 text-left bg-background-card p-6 rounded-2xl",children:[d.jsx("div",{className:"flex items-center gap-3",children:d.jsx(Bt,{variant:t.isAvailable?"success":"error",children:t.isAvailable?s("common.online"):s("common.offline")})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(So,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("users.email")}),d.jsx("p",{className:"text-sm font-medium",children:t.user.email||"Not provided"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(mi,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("users.phone_number")}),d.jsx("p",{className:"text-sm font-medium",children:t.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(Ap,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("common.status")}),d.jsx("p",{className:"text-sm font-medium",children:t.status})]})]}),t.restaurant&&d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-full text-gray-400 border border-gray-200",children:d.jsx(xa,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(H.Label,{className:"mb-0",children:s("restaurants.restaurant")}),d.jsx("p",{className:"text-sm font-medium",children:t.restaurant.name})]})]})]}),d.jsxs("div",{className:"w-full mt-6 grid grid-cols-2 gap-4",children:[d.jsx(Fe,{variant:"secondary",onClick:n,children:s("common.close")}),d.jsxs(Fe,{onClick:()=>i(Dt.DriversEdit(t.id)),children:[d.jsx(qs,{className:"w-4 h-4 mr-2"}),s("common.edit")]})]})]})]})})},SY=()=>{const{t}=Ve(),{navigateTo:e}=en(),{drivers:n,isLoading:s}=rp(),[i,a]=Re.useState(""),{updateDriverStatus:l}=rp(),[c,f]=w.useState(null),[h,m]=w.useState(!1),g=n.filter(b=>`${b.firstName} ${b.lastName}`.toLowerCase().includes(i.toLowerCase())),y=async(b,C)=>{await l({id:b,status:C})},x=b=>{f(b),m(!0)};return d.jsx(Vt,{title:t("drivers.title"),subtitle:t("drivers.subtitle"),isLoading:s,isEmpty:g.length===0&&!s,emptyIcon:fk,emptyLabel:t("drivers.no_drivers"),headerActions:d.jsxs(Fe,{onClick:()=>e(Dt.DriversAdd),children:[d.jsx(yi,{className:"w-4 h-4 mr-2"})," ",t("drivers.add")]}),renderControls:d.jsx("div",{className:"w-full max-w-md",children:d.jsx(er,{value:i,onChange:b=>a(b.target.value),placeholder:t("drivers.search_placeholder")||"Search drivers..."})}),children:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-10",children:g.map(b=>d.jsx(xY,{driver:b,onEdit:()=>e(Dt.DriversEdit(b.id)),onViewDetails:()=>x(b),onStatusChange:C=>y(b.id,C)},b.id))}),d.jsx(wY,{isOpen:h,driver:c,onClose:()=>m(!1)})]})})},M2=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{createDriver:i,updateDriver:a,getDriverById:l,isCreating:c,isUpdating:f,isLoading:h}=rp(),{uploadFile:m,isUploading:g}=Md(),y=Ct(A=>A.addToast),{activeRestaurant:x}=Tt(),[b,C]=w.useState(!1),[_,k]=w.useState(""),[j,L]=w.useState(""),[O,E]=w.useState(""),[M,T]=w.useState(""),[I,P]=w.useState(""),[z,G]=w.useState(null),[q,K]=w.useState(null),[re,ce]=w.useState(x?.id||""),B=w.useRef(!1);w.useEffect(()=>{B.current=!1},[n]),w.useEffect(()=>{s&&n&&!B.current&&(async()=>{try{const R=await l(n);R&&(k(R.firstName),L(R.lastName),E(R.user?.email||""),T(xL(R.phone)),K(R.profileImageUrl||R.user?.profileImageUrl||null),(R.profileImageUrl||R.user.profileImageUrl)&&C(!0),ce(R.restaurantId||""),B.current=!0)}catch{e()}})()},[s,n,l,e]);const Q=async()=>{if(!_||!j||!M||!O){y(t("users.fields_validation"),"error");return}if(M.length<10){y(t("users.validation_phone"),"error");return}if((!s||s&&I.length>0)&&!/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/.test(I)){y(t("users.validation_password"),"error");return}let A=q||"";if(z&&z.size>0&&!b){const R=await m(z,zl.Drivers(re));R&&(A=R,K(A),C(!0))}else!A&&!s&&(A=`https://ui-avatars.com/api/?name=${_}+${j}&background=random`);try{const R={firstName:_,lastName:j,email:O,phone:gb(M),profileImageUrl:A,restaurantId:re,...I?{password:I}:{}};s&&n?(console.log("Updating Driver:",R),await a({id:n,data:R})):(console.log("Creating Driver:",R),await i(R)),e()}catch(R){console.error("Error saving driver:",R)}},se=t(s?"drivers.edit":"drivers.add"),oe=s?`${t("users.update_details_for")} ${_} ${j}`:t("users.create_account"),pe=c||g||f||h;return d.jsx(Vt,{title:se,subtitle:oe,showNavBack:!0,headerActions:d.jsx("div",{className:"flex gap-3",children:d.jsx(Fe,{onClick:Q,disabled:pe,children:t(pe?"common.loading":"common.save")})}),isLoading:pe,children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Lr,{className:"w-5 h-5 text-text-muted"}),d.jsx(H.H3,{className:"mb-0",children:t("users.personal_information")})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(ze,{label:t("users.first_name"),placeholder:"e.g. Juan",value:_,onChange:A=>k(A.target.value),required:!0}),d.jsx(ze,{label:t("users.last_name"),placeholder:"e.g. Prez",value:j,onChange:A=>L(A.target.value),required:!0}),d.jsx(ze,{label:t("drivers.phone"),prefix:"+52",placeholder:"55 1234 5678",value:M,onChange:A=>T(A.target.value),icon:d.jsx(mi,{className:"w-4 h-4 text-text-muted"}),required:!0,maxLength:15})]}),d.jsx(ze,{type:"email",label:t("users.email"),placeholder:"driver@email.com",value:O,onChange:A=>E(A.target.value),icon:d.jsx(So,{className:"w-4 h-4 text-text-muted"}),required:!0})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Rp,{className:"w-5 h-5 text-text-muted"}),d.jsx(H.H3,{className:"mb-0",children:t("users.role_and_security")})]}),d.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Tp,{className:"w-4 h-4 text-text-muted"}),d.jsx(H.Label,{className:"mb-0",children:t(s?"forms.change_password":"forms.password")})]}),d.jsx(yx,{placeholder:s?t("forms.password_description"):"Pass1234!",value:I,onChange:A=>P(A.target.value),required:!s}),!s&&d.jsx(H.Small,{className:"text-xs text-text-muted mt-1 block",children:t("users.validation_password")})]})})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsx(tm,{onFileSelect:A=>{G(A),C(!1)},initialPreview:q})})]})})},_Y=({group:t,onEdit:e,onDelete:n,onStatusChange:s})=>{const{t:i}=Ve(),a=t.minSelected===1&&t.maxSelected===1,l=t.options?.length||0;return d.jsxs("div",{className:"bg-background-card rounded-3xl p-5 border border-border shadow-sm hover:shadow-md transition-all group flex flex-col h-full relative",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 ${a?"bg-blue-50 text-blue-600 dark:bg-blue-900/20":"bg-purple-50 text-purple-600 dark:bg-purple-900/20"}`,children:a?d.jsx(Dl,{className:"w-6 h-6"}):d.jsx(Dp,{className:"w-6 h-6"})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"flex justify-between items-start",children:d.jsx(H.H3,{className:"text-base mb-1 truncate pr-2",title:t.name,children:t.name})}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[d.jsxs(Bt,{variant:a?"primary":"default",className:"text-xs",children:[a?d.jsx(Dl,{className:"w-3 h-3 mr-1"}):d.jsx(Xu,{className:"w-3 h-3 mr-1"}),i(a?"common.single":"common.multi")]}),d.jsxs(Bt,{variant:"default",className:"text-xs text-text-muted bg-gray-100 dark:bg-gray-800 border-transparent",children:[l," ",i("modifiers.options_label",{count:l,defaultValue:"options"})]})]})]})]}),d.jsxs("div",{className:"mt-auto space-y-4",children:[d.jsx(Bt,{variant:t.status==Is.active?"success":"error",children:t.status}),d.jsxs("div",{className:"pt-4 border-t border-border grid grid-cols-1 gap-3",children:[d.jsxs(is,{label:i("common.status"),value:t.status,onChange:c=>s(c.target.value===Is.active),className:"mb-0",children:[d.jsx("option",{value:Is.active,children:i("common.status_active")}),d.jsx("option",{value:Is.inactive,children:i("common.status_inactive")})]}),d.jsx(Tr,{secondary:{label:i("common.edit"),icon:qs,onClick:e},primary:{label:i("common.delete"),icon:jr,onClick:n}})]})]})]})},CY=()=>{const{t}=Ve(),{navigateTo:e}=en(),{modifiers:n,isLoading:s,deleteGroup:i,toggleStatus:a}=em(),{confirm:l}=Co(),[c,f]=w.useState(""),h=n.filter(y=>y.name.toLowerCase().includes(c.toLowerCase())),m=async y=>{l({title:t("confirm_modal.delete_group"),message:t("confirm_modal.delete_group_description"),variant:"danger",confirmText:t("confirm_modal.confirm"),onConfirm:async()=>{await i(y)}})},g=async(y,x)=>{l({title:t("confirm_modal.change_status_group"),message:t("confirm_modal.change_status_group_description"),variant:"danger",confirmText:t("confirm_modal.confirm"),onConfirm:async()=>{await a({id:y,isActive:x})}})};return d.jsx(Vt,{title:t("modifiers.title"),subtitle:t("modifiers.subtitle"),isLoading:s,headerActions:d.jsxs(Fe,{onClick:()=>e(Dt.ModifiersAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("products.add_modifier")]}),isEmpty:n.length===0&&!s,emptyLabel:t("modifiers.empty_list"),emptyIcon:Dp,renderControls:d.jsx("div",{className:"w-full",children:d.jsx(er,{value:c,onChange:y=>f(y.target.value),placeholder:t("common.search")})}),children:d.jsx(d.Fragment,{children:n.length>0&&h.length===0?d.jsx("div",{className:"text-center py-20 text-text-muted",children:d.jsx("p",{children:t("common.no_results_found")})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:h.map(y=>d.jsx(_Y,{group:y,onEdit:()=>e(Dt.ModifiersEdit(y.id)),onDelete:()=>m(y.id),onStatusChange:x=>g(y.id,x)},y.id))})})})},D2=()=>{const{goBack:t}=en(),{t:e}=Ve(),{id:n}=Mr(),s=!!n,{activeRestaurant:i}=Tt(),a=Ct(R=>R.addToast),{confirm:l}=Co(),{createGroup:c,updateGroup:f,modifiers:h,isLoading:m,isCreating:g,isUpdating:y}=em(),{products:x}=Jp(),[b,C]=w.useState(""),[_,k]=w.useState(0),[j,L]=w.useState(1),[O,E]=w.useState(!1),[M,T]=w.useState([]),[I,P]=w.useState(!1),[z,G]=w.useState(!1);w.useEffect(()=>{if(s&&h.length>0){const R=h.find(V=>V.id===n);R&&(C(R.name),k(R.minSelected),L(R.maxSelected),E(R.minSelected>0),T(R.options.map(V=>q(V))||[]),P(R.minSelected===1&&R.maxSelected===1))}},[n,s,h]);const q=R=>({id:R.id,name:R.name,price:R.price,maxQuantity:R.maxQuantity,isAvailable:R.isAvailable,productId:R.productId,imageUrl:R.linkedProduct?.imageUrl}),K=R=>{if(!R.destination)return;const V=Array.from(M),[ee]=V.splice(R.source.index,1);V.splice(R.destination.index,0,ee),T(V)},re=R=>{R==="single"?(P(!0),k(1),L(1),E(!0)):(P(!1),k(0),L(Math.max(M.length||3,5)),E(!1))},ce=R=>{E(R),k(R?1:0)},B=()=>{T([...M,{id:`temp-${Date.now()}`,name:"",price:0,maxQuantity:1,isAvailable:!0}])},Q=R=>{if(M.some(V=>V.productId===R.id)){a(e("products.product_already_added"),"warning");return}T([...M,{id:`temp-${Date.now()}`,name:R.name,price:R.price??0,maxQuantity:1,isAvailable:!0,productId:R.id,imageUrl:R.imageUrl}]),G(!1)},se=(R,V,ee)=>{const Y=[...M];Y[R]={...Y[R],[V]:ee},T(Y)},oe=R=>{const V=[...M];V.splice(R,1),T(V)},pe=async()=>{if(!b||!i){a(e("modifiers.validation_error"),"error");return}if(Number(_)<0){a(e("modifiers.error_min_negative"),"error");return}if(Number(j)<1){a(e("modifiers.error_max_invalid"),"error");return}if(Number(j)<Number(_)){a(e("modifiers.error_max_low"),"error");return}for(const ee of M){if(!ee.name.trim()){a(e("modifiers.error_option_name"),"error");return}if(Number(ee.price)<0){a(e("modifiers.error_option_price",{name:ee.price}),"error");return}if(Number(ee.maxQuantity)<1){a(e("modifiers.error_option_qty",{name:ee.price}),"error");return}}const R=M.map(ee=>({id:ee.id?.startsWith("temp-")?void 0:ee.id,name:ee.name,price:Number(ee.price),maxQuantity:Number(ee.maxQuantity||1),isAvailable:ee.isAvailable,productId:ee.productId})),V={name:b,minSelected:Number(_),maxSelected:Number(j),isRequired:O,options:R};try{console.log(V),s&&n?await f({id:n,data:V}):await c(V),t()}catch(ee){console.error(ee)}},A=m||g||y;return d.jsxs(Vt,{title:e(s?"products.edit_modifier":"products.add_modifier"),subtitle:e("modifiers.subtitle"),showNavBack:!0,isLoading:A,headerActions:d.jsxs(Fe,{onClick:()=>{l({title:e("confirm_modal.update_modifier"),message:e("confirm_modal.update_modifier_description"),variant:"warning",confirmText:e("confirm_modal.confirm"),onConfirm:async()=>{pe()}})},isLoading:A,children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",e("common.save")]}),children:[d.jsxs("div",{className:"max-w-4xl mx-auto pb-20 space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl border border-border shadow-sm space-y-6",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx(H.H3,{children:e("products.basic_info")})}),d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsx(ze,{label:e("products.group_name"),placeholder:"e.g. Sauces, Choice of Side",value:b,onChange:R=>C(R.target.value)}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center bg-gray-50 dark:bg-gray-900/40 p-3 rounded-xl border border-border/50",children:[d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(Ld,{value:I?"single":"multi",onChange:re,options:[{value:"single",label:e("common.single"),icon:d.jsx(Dl,{className:"w-3 h-3"})},{value:"multi",label:e("common.multi"),icon:d.jsx(Xu,{className:"w-3 h-3"})}]})}),d.jsx(H.Small,{className:"text-text-muted italic px-2",children:e(I?"products.single_opt_help":"products.multi_opt_help")})]}),!I&&d.jsxs("div",{className:"flex flex-row gap-4 animate-in fade-in slide-in-from-left-2",children:[d.jsx(Ob,{label:"Required?",checked:O,onChange:ce}),d.jsx("div",{className:"w-32",children:d.jsx(ze,{type:"number",label:e("products.max_help"),size:"sm",value:j,onChange:R=>L(Number(R.target.value))})})]})]})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl border border-border shadow-sm space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-4",children:[d.jsx(H.H3,{children:e("products.options_list")}),d.jsxs(H.Small,{className:"text-text-muted",children:[M.length," options"]})]}),d.jsx(PM,{onDragEnd:K,children:d.jsx(kb,{droppableId:"opts",children:R=>d.jsxs("div",{ref:R.innerRef,...R.droppableProps,className:"space-y-2",children:[M.map((V,ee)=>d.jsx(Nb,{draggableId:V.id||String(ee),index:ee,children:Y=>d.jsxs("div",{ref:Y.innerRef,...Y.draggableProps,className:"flex gap-2 items-center bg-background-card p-2 rounded-lg border border-border shadow-sm group",children:[d.jsx("div",{...Y.dragHandleProps,className:"text-text-muted cursor-grab active:cursor-grabbing",children:d.jsx(Rv,{className:"w-4 h-4"})}),d.jsx("div",{className:"flex items-center justify-center w-8 h-8 shrink-0 mr-2",children:V.productId?V.imageUrl?d.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-8 h-8 rounded-md object-cover border border-border"}):d.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600",children:d.jsx(qb,{className:"w-4 h-4"})}):d.jsx("div",{className:"text-gray-300",children:I?d.jsx(Dl,{className:"w-5 h-5"}):d.jsx(Xu,{className:"w-5 h-5"})})}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{className:"w-full bg-transparent border-none p-0 text-sm focus:ring-0 text-text-main",placeholder:"Option Name",value:V.name,onChange:je=>se(ee,"name",je.target.value)})}),d.jsxs("div",{className:"w-16 border-l border-border pl-2 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-text-muted text-[10px] font-bold",children:"x"}),d.jsx("input",{type:"number",min:"1",className:"w-full bg-transparent text-sm font-medium border-none focus:ring-0 outline-none p-0 text-text-main",value:V.maxQuantity||1,onChange:je=>se(ee,"maxQuantity",Number(je.target.value))})]}),d.jsx(H.Label,{className:"text-[9px] text-text-muted leading-none mt-0.5",children:e("products.max_quantity")})]}),d.jsxs("div",{className:"w-24 border-l border-border pl-2 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-text-muted text-sm font-medium",children:"$"}),d.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-transparent text-sm text-right border-none focus:ring-0 outline-none p-0 text-text-main",value:V.price,onChange:je=>se(ee,"price",je.target.value)})]}),d.jsx(H.Label,{className:"text-[9px] text-text-muted text-right leading-none mt-0.5",children:e("products.extra_price")})]}),d.jsx("button",{onClick:()=>oe(ee),className:"text-text-muted hover:text-red-500 p-1",children:d.jsx(jr,{className:"w-4 h-4"})})]})},V.id||ee)),R.placeholder]})})}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsxs("button",{onClick:B,className:"flex-1 py-2 border border-dashed border-primary/30 bg-primary/5 rounded-lg text-primary text-xs font-bold flex items-center justify-center hover:bg-primary/10 transition-colors",children:[d.jsx(gk,{className:"w-3 h-3 mr-2"})," ",e("products.add_text_option")]}),d.jsxs("button",{onClick:()=>G(!0),className:"flex-1 py-2 border border-dashed border-purple-500/30 bg-purple-500/5 rounded-lg text-purple-600 text-xs font-bold flex items-center justify-center hover:bg-purple-500/10 transition-colors",children:[d.jsx(hk,{className:"w-3 h-3 mr-2"})," ",e("products.add_product_option")]})]})]})]}),d.jsx(qM,{isOpen:z,onClose:()=>G(!1),products:x,onSelect:Q})]})},EY=({isOpen:t,onClose:e,onConfirm:n,title:s,message:i,confirmText:a="Confirm",cancelText:l="Cancel",variant:c="info",isLoading:f=!1})=>{if(!t)return null;const m={danger:{icon:d.jsx(Zu,{className:"w-6 h-6 text-red-600"}),bgIcon:"bg-red-100 dark:bg-red-900/30",button:"bg-red-600 hover:bg-red-700 text-white"},warning:{icon:d.jsx(Zu,{className:"w-6 h-6 text-amber-600"}),bgIcon:"bg-amber-100 dark:bg-amber-900/30",button:"bg-amber-600 hover:bg-amber-700 text-white"},info:{icon:d.jsx($h,{className:"w-6 h-6 text-blue-600"}),bgIcon:"bg-blue-100 dark:bg-blue-900/30",button:"bg-blue-600 hover:bg-blue-700 text-white"}}[c];return d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity",onClick:f?void 0:e}),d.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 text-left shadow-xl transition-all animate-in fade-in zoom-in-95 duration-200",children:[d.jsx("button",{onClick:e,disabled:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-500 disabled:opacity-50",children:d.jsx(rs,{className:"w-5 h-5"})}),d.jsxs("div",{className:"sm:flex sm:items-start",children:[d.jsx("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10 ${m.bgIcon}`,children:m.icon}),d.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[d.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:s}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i})})]})]}),d.jsxs("div",{className:"mt-6 sm:flex sm:flex-row-reverse gap-3",children:[d.jsx("button",{type:"button",disabled:f,onClick:n,className:`inline-flex w-full justify-center rounded-lg px-3 py-2 text-sm font-semibold shadow-sm sm:w-auto ${m.button} disabled:opacity-70 disabled:cursor-not-allowed`,children:f?"Processing...":a}),d.jsx("button",{type:"button",disabled:f,onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-lg bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto disabled:opacity-50",children:l})]})]})]})},NY=()=>{const{isOpen:t,isLoading:e,options:n,closeConfirm:s,executeConfirm:i}=vL();return n?d.jsx(EY,{isOpen:t,onClose:s,onConfirm:i,isLoading:e,title:n.title,message:n.message,confirmText:n.confirmText,cancelText:n.cancelText,variant:n.variant}):null},T2={async getAccountStatus(t){return(await Le.get(`/payments/status/${t}`)).data},async createAccountLink(t){return(await Le.post(`/payments/setup-restaurant/${t}`)).data}},GM=t=>{const{handleError:e}=Hn(),{data:n,isLoading:s,isError:i}=Nn({queryKey:["paymentStatus",t],queryFn:()=>{if(!t)throw new Error("No restaurant ID");return T2.getAccountStatus(t)},enabled:!!t,retry:1}),a=tt({mutationFn:l=>T2.createAccountLink(l),onError:e});return{accountStatus:n,isCheckingStatus:s,isStatusError:i,createAccountLink:a.mutateAsync,isCreatingLink:a.isPending}},jY=()=>{const{t}=Ve(),e=Cs(),[n]=ax(),{activeRestaurant:s}=Tt(),i=Ct(h=>h.addToast),a=n.get("restaurantId")||s?.id,{createAccountLink:l,isCreatingLink:c}=GM();w.useEffect(()=>{a||e("/")},[a,e]);const f=async()=>{if(a)try{const h=await l(a);h&&h.url?window.location.href=h.url:i(t("common.error_generic"),"error")}catch(h){console.error(h)}};return d.jsx(Vt,{title:"",children:d.jsx("div",{className:"flex items-center justify-center min-h-[70vh] p-4",children:d.jsx("div",{className:"w-full max-w-lg",children:d.jsxs("div",{className:"bg-background-card border border-border rounded-3xl p-8 shadow-xl text-center space-y-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-blue-500"}),d.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl"}),d.jsx("div",{className:"w-20 h-20 bg-blue-50 dark:bg-blue-900/30 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:d.jsx(e4,{className:`w-10 h-10 ${c?"animate-spin":""}`})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(H.H3,{className:"text-text-main",children:t("payments.session_expired")}),d.jsx(H.Body,{className:"text-text-muted text-lg",children:t("payments.expired_desc")})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-3 rounded-xl border border-border inline-flex items-center gap-2 mx-auto",children:[d.jsx(Ap,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-xs text-text-muted font-medium",children:t("payments.secure_connection")})]}),d.jsxs("div",{className:"pt-6 flex flex-col gap-3",children:[d.jsx(Fe,{variant:"primary",onClick:f,isLoading:c,className:"w-full justify-center py-3 text-base",children:c?t("payments.generating_link"):d.jsxs(d.Fragment,{children:[t("payments.try_again")," ",d.jsx(Mp,{className:"w-4 h-4 ml-2"})]})}),d.jsxs(Fe,{variant:"ghost",onClick:()=>e("/dashboard"),disabled:c,className:"w-full justify-center",children:[d.jsx(Vb,{className:"w-4 h-4 mr-2"})," ",t("common.cancel")]})]})]})})})})},kY=()=>{const{t}=Ve(),e=Cs(),[n]=ax(),{activeRestaurant:s}=Tt(),i=n.get("restaurantId")||s?.id,{accountStatus:a,isCheckingStatus:l}=GM(i);w.useEffect(()=>{!i&&!l&&e("/")},[i,l,e]);const c=a?.isActive&&a?.details.payments&&a.details.transfers,f=!c&&a?.pendingRequirements;return l?d.jsx(Vt,{title:"",children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center space-y-6",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx(H.H3,{className:"animate-pulse",children:t("payments.verifying_stripe","Verifying Stripe Status...")}),d.jsx(H.Body,{className:"text-text-muted",children:t("payments.moment_please","This will just take a moment")})]})}):d.jsx(Vt,{title:"",children:d.jsx("div",{className:"flex items-center justify-center min-h-[70vh] p-4",children:d.jsx("div",{className:"w-full max-w-lg",children:c?d.jsxs("div",{className:"bg-background-card border border-border rounded-3xl p-8 shadow-xl text-center space-y-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-500"}),d.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-green-500/10 rounded-full blur-3xl"}),d.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:d.jsx(Yi,{className:"w-10 h-10"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(H.H3,{className:"text-green-700 dark:text-green-400",children:t("payments.setup_complete")}),d.jsx(H.Body,{className:"text-text-muted text-lg",children:t("payments.ready_desc")})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-2xl border border-border text-left flex items-center gap-4",children:[d.jsx("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:d.jsx($b,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-text-main",children:"Stripe Connect"}),d.jsxs("p",{className:"text-xs text-text-muted",children:["Status: ",d.jsx("span",{className:"text-green-500 font-bold",children:"Active"})]})]})]}),d.jsx("div",{className:"pt-4",children:d.jsxs(Fe,{onClick:()=>e("/"),className:"w-full justify-center py-3 text-base",children:[t("common.go_dashboard")," ",d.jsx(Mp,{className:"w-4 h-4 ml-2"})]})})]}):d.jsxs("div",{className:"bg-background-card border border-amber-200 dark:border-amber-900/50 rounded-3xl p-8 shadow-lg text-center space-y-6 relative",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-amber-500"}),d.jsx("div",{className:"w-20 h-20 bg-amber-100 dark:bg-amber-900/30 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Zu,{className:"w-10 h-10"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(H.H3,{className:"text-amber-700 dark:text-amber-500",children:t("payments.almost_ready")}),d.jsx(H.Body,{className:"text-text-muted",children:t(f?"payments.pending_desc":"payments.error_desc")})]}),d.jsx("div",{className:"pt-4 flex flex-col gap-3",children:d.jsxs(Fe,{variant:"ghost",onClick:()=>e("/"),className:"w-full justify-center",children:[d.jsx(Vb,{className:"w-4 h-4 mr-2"})," ",t("common.return_home")]})})]})})})})},OY=({category:t,onEdit:e,onDelete:n})=>{const{t:s}=Ve(),i=()=>t.icon?d.jsx("span",{className:"text-2xl leading-none",role:"img","aria-label":t.name,children:t.icon}):t.imageUrl?d.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"}):d.jsx(x4,{className:"w-6 h-6"});return d.jsxs("div",{className:"bg-background-card rounded-3xl p-5 border border-border shadow-sm hover:shadow-md transition-all group flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary shrink-0 overflow-hidden relative",children:i()}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx(H.H3,{className:"text-base mb-1 truncate",title:t.name,children:t.name}),d.jsxs(Bt,{variant:"default",className:"max-w-full truncate",children:[d.jsx(dk,{className:"w-3 h-3 mr-1 shrink-0"}),d.jsxs("span",{className:"truncate",children:["/",t.slug]})]})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t border-border",children:d.jsx(Tr,{secondary:{label:s("common.edit"),icon:qs,onClick:e},primary:{label:s("common.delete"),icon:jr,onClick:n}})})]})},LY=()=>{const{t}=Ve(),{categories:e,isLoading:n,deleteCategory:s}=Sx(),{navigateTo:i}=en(),[a,l]=w.useState(""),{confirm:c}=Co(),f=e.filter(m=>m.name.toLowerCase().includes(a.toLowerCase())||m.slug.toLowerCase().includes(a.toLowerCase())),h=async m=>{c({title:t("categories.delete_category"),message:t("categories.delete_category_description"),variant:"danger",confirmText:t("common.delete"),onConfirm:async()=>{await s({id:m})}})};return d.jsx(Vt,{title:t("categories.title"),subtitle:t("categories.description"),headerActions:d.jsxs(Fe,{onClick:()=>i(Dt.CategoriesAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("categories.add")]}),isLoading:n,isEmpty:f.length===0,renderControls:d.jsx("div",{className:"w-full",children:d.jsx(er,{value:a,onChange:m=>l(m.target.value),placeholder:t("categories.search_placeholder")})}),emptyLabel:t("categories.empty"),emptyIcon:kP,children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:f.map(m=>d.jsx(OY,{category:m,onEdit:()=>i(Dt.CategoriesEdit(m.id)),onDelete:()=>h(m.id)},m.id))})})},A2=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{createCategory:i,updateCategory:a,getCategoryById:l,isCreating:c,isUpdating:f,isLoading:h}=Sx(),m=Ct(E=>E.addToast),[g,y]=w.useState(""),[x,b]=w.useState(""),[C,_]=w.useState(""),k=w.useRef(!1);w.useEffect(()=>{s&&n&&!k.current&&(async()=>{try{const M=await l(n);M&&(y(M.name),b(M.icon||""),_(M.imageUrl||""),k.current=!0)}catch{e()}})()},[s,n,l,e]);const j=async()=>{if(!g.trim()){m(t("categories.validation_name_required"),"error");return}try{const E=x.trim()||void 0,M=C.trim()||void 0;s&&n?await a({id:n,data:{name:g,icon:E,imageUrl:M}}):await i({name:g,icon:E,imageUrl:M}),e()}catch(E){console.error(E)}},L=c||f||h,O=()=>x?d.jsx("span",{className:"text-4xl",children:x}):C?d.jsx("img",{src:C,alt:"Preview",className:"w-full h-full object-cover"}):d.jsx(Ru,{className:"w-8 h-8 text-gray-300"});return d.jsx(Vt,{title:t(s?"categories.edit_title":"categories.add_title"),subtitle:s?`${t("common.editing")} "${g}"`:t("categories.add_description"),showNavBack:!0,headerActions:d.jsx("div",{className:"flex gap-3",children:d.jsx(Fe,{onClick:j,disabled:L,children:L?t("common.loading"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",t("common.save")]})})}),children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-background-card p-8 rounded-3xl shadow-sm border border-border space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsx(ze,{label:t("categories.field_name"),placeholder:"e.g. Japanese, Fast Food, Breakfast",value:g,onChange:E=>y(E.target.value),required:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-6 items-start",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx(ze,{label:t("categories.field_icon"),placeholder:"e.g. ",value:x,onChange:E=>b(E.target.value),icon:d.jsx(u4,{className:"w-4 h-4 text-text-muted"}),maxLength:4}),d.jsx(ze,{label:t("categories.field_image_url"),placeholder:"https://...",value:C,onChange:E=>_(E.target.value),icon:d.jsx(Ru,{className:"w-4 h-4 text-text-muted"})})]}),d.jsxs("div",{className:"hidden md:flex flex-col gap-2",children:[d.jsx(H.Label,{children:t("common.preview")}),d.jsx("div",{className:"w-32 h-32 rounded-2xl bg-gray-50 dark:bg-gray-900 border border-border flex items-center justify-center overflow-hidden shadow-sm",children:O()})]})]})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[d.jsx(H.Label,{className:"mb-1 block text-blue-800 dark:text-blue-300",children:t("common.pro_tips")}),d.jsx(H.Small,{className:"leading-relaxed text-blue-700 dark:text-blue-400",children:t("categories.tips_description")})]})]})})})},Ts={PERCENTAGE:"percentage",FIXED_AMOUNT:"fixed_amount",BOGO:"bogo"},Su={async getAllByRestaurant(t){return(await Le.get(`/promotions/restaurant/${t}`)).data},async getById(t){return(await Le.get(`/promotions/${t}`)).data},async create(t){return(await Le.post("/promotions",t)).data},async update(t,e){return(await Le.patch(`/promotions/${t}`,e)).data},async delete(t){await Le.delete(`/promotions/${t}`)}},YM=()=>{const t=as(),{handleError:e}=Hn(),{activeRestaurant:n}=Tt(),s=Ct(y=>y.addToast),i=["promotions",n?.id||"all"],{data:a=[],isLoading:l,isError:c}=Nn({queryKey:i,queryFn:async()=>n?.id?(console.log(` Fetching promotions for active restaurant: ${n.id}`),Su.getAllByRestaurant(n.id)):[],enabled:!!n?.id,staleTime:1e3*60*5}),f=async y=>{const b=t.getQueryData(i)?.find(C=>C.id===y);if(b)return b;try{return await Su.getById(y)}catch(C){return e(C),null}},h=tt({mutationFn:y=>Su.create(y),onSuccess:()=>{s("Promotion created successfully","success"),t.invalidateQueries({queryKey:i})},onError:e}),m=tt({mutationFn:({id:y,data:x})=>Su.update(y,x),onSuccess:()=>{s("Promotion updated successfully","success"),t.invalidateQueries({queryKey:i})},onError:e}),g=tt({mutationFn:({id:y})=>Su.delete(y),onSuccess:()=>{s("Promotion deleted successfully","success"),t.invalidateQueries({queryKey:i})},onError:e});return{promotions:a,isLoading:l,isError:c,getPromotionById:f,createPromotion:h.mutateAsync,updatePromotion:m.mutateAsync,deletePromotion:g.mutateAsync,isCreating:h.isPending,isUpdating:m.isPending,isDeleting:g.isPending}},MY=({promotion:t,onEdit:e,onDelete:n,onStatusChange:s})=>{const{t:i}=Ve(),a=()=>{switch(t.type){case Ts.BOGO:return"2x1";case Ts.PERCENTAGE:return`${t.value}% OFF`;case Ts.FIXED_AMOUNT:return`-$${t.value}`;default:return t.type}},l=()=>t.type===Ts.BOGO?"purple":"success";return d.jsxs("div",{className:"bg-background-card rounded-3xl p-5 border border-border shadow-sm hover:shadow-md transition-all group flex flex-col h-full relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-4 z-10",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary shrink-0",children:d.jsx(wd,{className:"w-6 h-6"})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx(H.H3,{className:"text-base mb-1 truncate",title:t.name,children:t.name}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[d.jsx(Bt,{variant:l(),className:"font-bold",children:a()}),d.jsxs(Bt,{variant:"default",children:[d.jsx(Dp,{className:"w-3 h-3 mr-1"}),t.products?.length||0]}),d.jsx(Bt,{variant:t.isActive?"success":"error",className:"font-bold",children:t.isActive?i("common.status_active"):i("common.status_inactive")})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:t.description||i("common.no_description")}),d.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-muted-foreground bg-background p-2 rounded-lg border border-border/50",children:[d.jsx(hi,{className:"w-3.5 h-3.5"}),d.jsxs("span",{children:[_a(new Date(t.startDate),"dd MMM")," - ",_a(new Date(t.endDate),"dd MMM yyyy")]})]})]}),d.jsxs("div",{className:"mt-auto space-y-4 z-10",children:[d.jsx("div",{className:"pt-4 border-t border-border",children:d.jsxs(is,{label:i("menuSections.visibility_status"),value:t.isActive?"active":"inactive",onChange:c=>s(c.target.value),className:"mb-0",children:[d.jsx("option",{value:"active",children:i("common.status_active")}),d.jsx("option",{value:"inactive",children:i("common.status_inactive")})]})}),d.jsx(Tr,{secondary:{label:i("common.edit"),icon:qs,onClick:e},primary:{label:i("common.delete"),icon:jr,onClick:n}})]})]})},DY=()=>{const{t}=Ve(),{navigateTo:e}=en(),{confirm:n}=Co(),{promotions:s,isLoading:i,deletePromotion:a,updatePromotion:l}=YM(),[c,f]=w.useState(""),h=s.filter(y=>y.name.toLowerCase().includes(c.toLowerCase())||y.type.toLowerCase().includes(c.toLowerCase())),m=async y=>{n({title:t("confirm_modal.delete_promotion"),message:t("confirm_modal.delete_promotion_description"),variant:"danger",confirmText:t("confirm_modal.delete"),onConfirm:async()=>{await a({id:y})}})},g=async(y,x)=>{await l({id:y,data:{isActive:x==="active"}})};return d.jsx(Vt,{title:t("promotions.title"),subtitle:t("promotions.subtitle"),headerActions:d.jsxs(Fe,{onClick:()=>e(Dt.PromotionsAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("promotions.add")]}),isLoading:i,isEmpty:h.length===0,renderControls:d.jsx("div",{className:"w-full",children:d.jsx(er,{value:c,onChange:y=>f(y.target.value),placeholder:t("promotions.search_placeholder")})}),emptyLabel:t("promotions.empty"),emptyIcon:wd,children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:h.map(y=>d.jsx(MY,{promotion:y,onEdit:()=>e(Dt.PromotionsEdit(y.id)),onDelete:()=>m(y.id),onStatusChange:x=>g(y.id,x)},y.id))})})},R2=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{activeRestaurant:i}=Tt(),{createPromotion:a,updatePromotion:l,getPromotionById:c,isCreating:f,isUpdating:h,isLoading:m}=YM(),{products:g,isLoading:y}=Jp(),x=Ct(oe=>oe.addToast),[b,C]=w.useState(""),[_,k]=w.useState(""),[j,L]=w.useState(Ts.PERCENTAGE),[O,E]=w.useState("0"),[M,T]=w.useState(""),[I,P]=w.useState(""),[z,G]=w.useState([]),[q,K]=w.useState(!1),re=w.useRef(!1);w.useEffect(()=>{s&&n&&!re.current&&(async()=>{try{const pe=await c(n);pe&&(C(pe.name),k(pe.description||""),L(pe.type),E(String(pe.value)),T(pe.startDate.slice(0,16)),P(pe.endDate.slice(0,16)),G(pe.products?.map(A=>A.product)?.map(A=>A.id)||[]),re.current=!0)}catch{e()}})()},[s,n,c,e]);const ce=oe=>{G(pe=>pe.includes(oe)?pe.filter(A=>A!==oe):[...pe,oe])},B=()=>{G(q?[]:g.map(oe=>oe.id)),K(!q)},Q=async()=>{if(!i?.id)return x(t("common.error_no_restaurant_selected"),"error");if(!b.trim())return x(t("promotions.validation_name_required"),"error");if(!M||!I)return x(t("promotions.validation_dates_required"),"error");if(new Date(M)>=new Date(I))return x(t("promotions.validation_dates_invalid"),"error");if(Number(O)<0)return x(t("promotions.validation_value_negative"),"error");if(z.length===0&&!s)return x(t("promotions.validation_products_required"),"error");try{const oe=parseFloat(O);if(s&&n)await l({id:n,data:{name:b,description:_,type:j,value:oe,startDate:new Date(M).toISOString(),endDate:new Date(I).toISOString()}});else{const pe={restaurantId:i.id,name:b,description:_,type:j,value:oe,startDate:new Date(M).toISOString(),endDate:new Date(I).toISOString(),productIds:z};await a(pe)}e()}catch(oe){console.error(oe)}},se=f||h||m||y;return d.jsx(Vt,{title:t(s?"promotions.edit_title":"promotions.add_title"),subtitle:s?`${t("common.editing")} "${b}"`:t("promotions.add_description"),showNavBack:!0,headerActions:d.jsx("div",{className:"flex gap-3",children:d.jsx(Fe,{onClick:Q,disabled:se,children:se?t("common.loading"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",t("common.save")]})})}),children:d.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-[1.5fr_1fr] gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsx(H.H3,{className:"text-lg",children:t("promotions.section_details")}),d.jsx(ze,{label:t("promotions.field_name"),placeholder:"e.g. Summer Sale 2026",value:b,onChange:oe=>C(oe.target.value),required:!0}),d.jsx(u0,{label:t("promotions.field_description"),placeholder:"Details about the promo...",value:_,onChange:oe=>k(oe.target.value)}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs(is,{label:t("promotions.field_type"),value:j,onChange:oe=>L(oe.target.value),children:[d.jsx("option",{value:Ts.PERCENTAGE,children:t("promotions.type_percentage")}),d.jsx("option",{value:Ts.FIXED_AMOUNT,children:t("promotions.type_fixed")}),d.jsx("option",{value:Ts.BOGO,children:t("promotions.type_bogo")})]}),j!==Ts.BOGO&&d.jsx(ze,{label:j===Ts.PERCENTAGE?t("promotions.field_value_percentage"):t("promotions.field_value_amount"),type:"number",value:O,onChange:oe=>{const pe=parseFloat(oe.target.value);j===Ts.PERCENTAGE&&pe>100||E(oe.target.value)},icon:j===Ts.PERCENTAGE?d.jsx(pk,{className:"w-4 h-4 text-muted-foreground"}):d.jsx(fa,{className:"w-4 h-4 text-muted-foreground"}),placeholder:j===Ts.PERCENTAGE?"20":"50.00",min:0})]})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsx(H.H3,{className:"text-lg",children:t("promotions.section_duration")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1  gap-4",children:[d.jsx(ze,{label:t("promotions.field_start_date"),type:"datetime-local",value:M,onChange:oe=>T(oe.target.value),icon:d.jsx(hi,{className:"w-4 h-4 text-text-muted"}),required:!0}),d.jsx(ze,{label:t("promotions.field_end_date"),type:"datetime-local",value:I,onChange:oe=>P(oe.target.value),icon:d.jsx(hi,{className:"w-4 h-4 text-text-muted"}),required:!0})]})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border flex flex-col h-full max-h-[600px]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Dp,{className:"w-5 h-5 text-primary"}),d.jsx(H.H3,{className:"text-lg",children:t("promotions.section_products")})]}),d.jsx("button",{type:"button",onClick:B,className:"text-sm text-primary font-medium hover:underline",children:t(q?"common.deselect_all":"common.select_all")})]}),d.jsx(H.Small,{className:"text-muted-foreground mb-4 block",children:t("promotions.products_helper")}),d.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2 border-t border-border pt-4",children:[y?d.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:[t("common.loading"),"..."]}):g.map(oe=>d.jsxs("label",{className:`flex items-center p-3 rounded-xl border cursor-pointer transition-all
                             ${z.includes(oe.id)?"bg-primary/5 border-primary":"bg-background hover:bg-gray-50 border-transparent hover:border-gray-200"}
                          `,children:[d.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-300 text-primary focus:ring-primary mr-3",checked:z.includes(oe.id),onChange:()=>ce(oe.id),disabled:s}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium truncate",children:oe.name}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["$",oe.price]})]})]},oe.id)),g.length===0&&!y&&d.jsx("div",{className:"text-center py-10 text-muted-foreground",children:t("products.empty_list")})]}),s&&d.jsx("div",{className:"mt-4 text-xs text-center text-muted-foreground bg-gray-100 p-2 rounded",children:t("promotions.edit_products_disabled_note")})]})})]})})},Ui={PERCENTAGE:"percentage",FIXED_AMOUNT:"fixed_amount",FREE_DELIVERY:"free_delivery"},kl={GLOBAL:"global",RESTAURANT:"restaurant",REFERRAL:"referral"},_u={async getAll(t){const e=t?{restaurantId:t}:{};return(await Le.get("/coupons",{params:e})).data},async create(t){return(await Le.post("/coupons",t)).data},async update(t,e){return(await Le.patch(`/coupons/${t}`,e)).data},async delete(t){await Le.delete(`/coupons/${t}`)},async checkValidity(t,e,n){return(await Le.post("/coupons/validate",{code:t,restaurantId:e,orderTotal:n})).data}},WM=t=>{const e=as(),{handleError:n}=Hn(),s=Ct(C=>C.addToast),{activeRestaurant:i}=Tt(C=>C),{user:a}=$t(C=>C),l=i?.id,c=["coupons",l||"all"],{data:f=[],isLoading:h,isError:m}=Nn({queryKey:c,queryFn:async()=>(console.log(" Fetching coupons. Context:",l||"ALL"),l?_u.getAll(l):Vs(a)?_u.getAll():[]),enabled:!!a}),g=async C=>{const k=e.getQueryData(c)?.find(j=>j.id===C);if(k)return k;try{return null}catch(j){return n(j),null}},y=tt({mutationFn:C=>{const _={...C};return i?.id&&_.scope===kl.RESTAURANT&&!_.restaurantId&&(_.restaurantId=i.id),_u.create(_)},onSuccess:()=>{s("Coupon created successfully","success"),e.invalidateQueries({queryKey:c})},onError:n}),x=tt({mutationFn:({id:C,data:_})=>_u.update(C,_),onSuccess:()=>{s("Coupon updated successfully","success"),e.invalidateQueries({queryKey:c})},onError:n}),b=tt({mutationFn:C=>_u.delete(C),onSuccess:()=>{s("Coupon deleted","info"),e.invalidateQueries({queryKey:c})},onError:n});return{coupons:f,isLoading:h,isError:m,createCoupon:y.mutateAsync,updateCoupon:x.mutateAsync,deleteCoupon:b.mutateAsync,getCouponById:g,isCreating:y.isPending,isUpdating:x.isPending,isDeleting:b.isPending}},TY=({coupon:t,onEdit:e,onDelete:n})=>{const{t:s}=Ve(),i=()=>{const l=new Date,c=new Date(t.endDate);return t.isActive?l>c?"bg-red-50 text-red-600 border-red-100":"bg-green-50 text-green-600 border-green-100":"bg-gray-100 text-gray-500"},a=t.type===Ui.PERCENTAGE?`${t.value}% OFF`:`${t.value} OFF`;return d.jsxs("div",{className:"bg-background-card rounded-3xl  border border-border shadow-sm hover:shadow-md transition-all group flex flex-col h-full relative overflow-hidden",children:[t.imageUrl&&d.jsx("div",{className:"h-32 w-full relative bg-gray-100 shrink-0",children:d.jsx("img",{src:t.imageUrl,alt:t.code,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-5",children:[d.jsx("div",{className:"flex justify-between items-start mb-4 pr-4",children:d.jsxs("div",{children:[d.jsx(H.H3,{className:"text-xl font-mono tracking-wider text-primary mb-1",children:t.code}),d.jsx(H.Small,{className:"text-text-muted line-clamp-1",title:t.description,children:t.description||s("coupons.no_description")})]})}),d.jsxs("div",{className:"space-y-3 mb-6 pr-4",children:[d.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-xl border font-bold text-sm ${i()}`,children:a}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(Bt,{variant:"primary",className:"text-xs",children:[t.scope===kl.GLOBAL?d.jsx(Hh,{className:"w-3 h-3 mr-1"}):d.jsx(xa,{className:"w-3 h-3 mr-1"}),s(`coupons.scope.${t.scope}`)]}),t.usageLimitGlobal&&d.jsxs(Bt,{variant:"success",className:"text-xs",children:[d.jsx(Gb,{className:"w-3 h-3 mr-1"}),t.currentUsages," / ",t.usageLimitGlobal]})]}),d.jsxs("div",{className:"flex items-center text-xs text-text-muted",children:[d.jsx(hi,{className:"w-3.5 h-3.5 mr-2"}),d.jsx("span",{children:new Date(t.endDate).toLocaleDateString()})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t border-border z-20 bg-background-card",children:d.jsx(Tr,{secondary:{label:s("common.edit"),icon:qs,onClick:e},primary:{label:s("common.delete"),icon:jr,onClick:n}})})]})]})},AY=()=>{const{t}=Ve(),{coupons:e,isLoading:n,deleteCoupon:s}=WM(),{navigateTo:i}=en(),[a,l]=w.useState(""),{confirm:c}=Co(),f=e.filter(m=>m.code.toLowerCase().includes(a.toLowerCase())||m.description?.toLowerCase().includes(a.toLowerCase())),h=async(m,g)=>{c({title:t("confirm_modal.delete_title"),message:t("confirm_modal.delete_description",{item:g}),variant:"danger",confirmText:t("common.delete"),onConfirm:async()=>{await s(m)}})};return d.jsx(Vt,{title:t("coupons.title"),subtitle:t("coupons.subtitle"),headerActions:d.jsxs(Fe,{onClick:()=>i(Dt.CouponsAdd),children:[d.jsx(yi,{className:"w-5 h-5 mr-2"})," ",t("coupons.add")]}),isLoading:n,isEmpty:f.length===0,renderControls:d.jsx("div",{className:"w-full",children:d.jsx(er,{value:a,onChange:m=>l(m.target.value),placeholder:t("common.search_code")})}),emptyLabel:t("coupons.empty"),emptyIcon:C4,children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:f.map(m=>d.jsx(TY,{coupon:m,onEdit:()=>i(Dt.CouponsEdit(m.id)),onDelete:()=>h(m.id,m.code)},m.id))})})},P2=()=>{const{t}=Ve(),{goBack:e}=en(),{id:n}=Mr(),s=!!n,{uploadFile:i}=Md(),{activeRestaurant:a}=Tt(),{user:l}=$t(),c=Ct(K=>K.addToast),[f,h]=w.useState(null),[m,g]=w.useState(null),[y,x]=w.useState(!1),{createCoupon:b,updateCoupon:C,getCouponById:_,isCreating:k,isUpdating:j,isLoading:L}=WM(),{register:O,handleSubmit:E,watch:M,reset:T}=Lx({defaultValues:{code:"",description:"",type:Ui.PERCENTAGE,value:0,scope:a?kl.RESTAURANT:kl.GLOBAL,minOrderAmount:0,maxDiscountAmount:0,usageLimitGlobal:1e3,usageLimitPerUser:1,isActive:!0,startDate:new Date().toISOString().split("T")[0],endDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}}),I=M("type"),P=Vs(l),z=w.useRef(!1);w.useEffect(()=>{s&&n&&!z.current&&(async()=>{try{const re=await _(n);re&&(T({...re,startDate:re.startDate.split("T")[0],endDate:re.endDate.split("T")[0]}),z.current=!0,g(re.imageUrl||null),re.imageUrl&&x(!0))}catch{e()}})()},[s,n,_,e,T]);const G=async K=>{if(!a?.id&&!P){c(t("errors.no_active_restaurant"),"error");return}const re=new Date(K.startDate),ce=new Date(K.endDate);if(isNaN(re.getTime())||isNaN(ce.getTime())){c(t("validation.invalid_dates"),"error");return}if(ce<re){c(t("validation.error_date_range"),"error");return}const B=Number(K.value);if(B<0){c(t("validation.error_negative_value"),"error");return}if(K.type===Ui.PERCENTAGE&&B>100){c(t("validation.error_percentage_limit"),"error");return}if(B===0&&K.type!==Ui.FREE_DELIVERY){c(t("validation.error_zero_value"),"warning");return}if(Number(K.usageLimitGlobal)<Number(K.usageLimitPerUser)){c(t("validation.error_global_limit"),"error");return}try{let Q=m||"";if(f&&f.size>0&&!y){const oe=await i(f,zl.RestaurantCoupons(a?.id??"general-coupons"));oe&&(Q=oe,g(oe),x(!0))}else!Q&&!s&&(Q=void 0);const se={code:K.code.toUpperCase().trim(),description:K.description,type:K.type,value:Number(K.value),scope:K.scope,minOrderAmount:Number(K.minOrderAmount)||0,maxDiscountAmount:Number(K.maxDiscountAmount)||0,usageLimitGlobal:Number(K.usageLimitGlobal)||void 0,usageLimitPerUser:Number(K.usageLimitPerUser)||1,startDate:new Date(K.startDate).toISOString(),endDate:new Date(K.endDate).toISOString(),isActive:K.isActive,imageUrl:Q};a&&(se.restaurantId=a.id,se.scope=kl.RESTAURANT),s&&n?await C({id:n,data:se}):(a&&(se.restaurantId=a.id,se.scope=kl.RESTAURANT),await b(se)),e()}catch(Q){console.error(Q)}},q=k||j||s&&L;return d.jsx(Vt,{title:t(s?"coupons.edit":"coupons.add"),subtitle:t(s?"coupons.edit_description":"coupons.add_description"),showNavBack:!0,headerActions:d.jsx("div",{className:"flex gap-3",children:d.jsx(Fe,{onClick:E(G),disabled:q,children:q?t("common.loading"):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"w-4 h-4 mr-2"})," ",t("common.save")]})})}),children:d.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[!a&&!P&&d.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[d.jsx(ba,{className:"w-5 h-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx(H.H3,{className:"!text-red-700 text-sm",children:t("errors.error")}),d.jsx(H.Body,{className:"!text-red-600 text-xs",children:t("errors.no_active_restaurant_description")})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsx(H.H3,{className:"text-lg mb-4",children:t("coupons.section_general")}),d.jsx(ze,{label:t("coupons.code"),placeholder:"e.g. SUMMER2024",...O("code",{required:!0,minLength:3}),icon:d.jsx(wd,{className:"w-4 h-4 text-gray-400"})}),d.jsx(u0,{label:t("coupons.description"),placeholder:t("coupons.description_placeholder"),...O("description")})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-6",children:[d.jsx(H.H3,{className:"text-lg mb-4",children:t("coupons.section_rules")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{children:d.jsxs(is,{label:t("coupons.discount_type"),children:[d.jsx("option",{value:Ui.PERCENTAGE,children:t("coupons.type_percentage")}),d.jsx("option",{value:Ui.FIXED_AMOUNT,children:t("coupons.type_fixed")}),d.jsx("option",{value:Ui.FREE_DELIVERY,children:t("coupons.type_free_shipping")})]})}),d.jsx(ze,{label:t("coupons.discount_value"),type:"number",...O("value",{min:0,required:!0}),icon:I===Ui.PERCENTAGE?d.jsx(pk,{className:"w-4 h-4"}):d.jsx(fa,{className:"w-4 h-4"}),placeholder:"0.00",disabled:I===Ui.FREE_DELIVERY}),d.jsx(ze,{label:t("coupons.min_order"),type:"number",...O("minOrderAmount",{min:0}),icon:d.jsx(fa,{className:"w-4 h-4"}),placeholder:"0.00"}),I===Ui.PERCENTAGE&&d.jsx(ze,{label:t("coupons.max_discount"),type:"number",...O("maxDiscountAmount",{min:0}),icon:d.jsx(fa,{className:"w-4 h-4"}),placeholder:"0.00"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-4",children:[d.jsx(H.H3,{className:"text-base font-medium",children:t("coupons.section_validity")}),d.jsx(ze,{label:t("coupons.start_date"),type:"date",...O("startDate",{required:!0}),icon:d.jsx(hi,{className:"w-4 h-4 text-gray-400"})}),d.jsx(ze,{label:t("coupons.end_date"),type:"date",...O("endDate",{required:!0}),icon:d.jsx(hi,{className:"w-4 h-4 text-gray-400"})})]}),d.jsxs("div",{className:"bg-background-card p-6 rounded-3xl shadow-sm border border-border space-y-4",children:[d.jsx(H.H3,{className:"text-base font-medium",children:t("coupons.section_limits")}),d.jsx(ze,{label:t("coupons.limit_global"),type:"number",...O("usageLimitGlobal",{min:1}),icon:d.jsx(gP,{className:"w-4 h-4 text-gray-400"})}),d.jsx(ze,{label:t("coupons.limit_user"),type:"number",...O("usageLimitPerUser",{min:1}),icon:d.jsx(Gb,{className:"w-4 h-4 text-gray-400"})})]}),d.jsx("div",{className:"space-y-6",children:d.jsx(tm,{onFileSelect:K=>{h(K),x(!1)},initialPreview:m})})]})]})]})})};function Ad(t){return t+.5|0}const ua=(t,e,n)=>Math.max(Math.min(t,n),e);function Du(t){return ua(Ad(t*2.55),0,255)}function va(t){return ua(Ad(t*255),0,255)}function _r(t){return ua(Ad(t/2.55)/100,0,1)}function I2(t){return ua(Ad(t*100),0,100)}const ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lb=[..."0123456789ABCDEF"],RY=t=>Lb[t&15],PY=t=>Lb[(t&240)>>4]+Lb[t&15],mh=t=>(t&240)>>4===(t&15),IY=t=>mh(t.r)&&mh(t.g)&&mh(t.b)&&mh(t.a);function BY(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ai[t[1]]*17,g:255&ai[t[2]]*17,b:255&ai[t[3]]*17,a:e===5?ai[t[4]]*17:255}:(e===7||e===9)&&(n={r:ai[t[1]]<<4|ai[t[2]],g:ai[t[3]]<<4|ai[t[4]],b:ai[t[5]]<<4|ai[t[6]],a:e===9?ai[t[7]]<<4|ai[t[8]]:255})),n}const UY=(t,e)=>t<255?e(t):"";function zY(t){var e=IY(t)?RY:PY;return t?"#"+e(t.r)+e(t.g)+e(t.b)+UY(t.a,e):void 0}const FY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QM(t,e,n){const s=e*Math.min(n,1-n),i=(a,l=(a+t/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function HY(t,e,n){const s=(i,a=(i+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function $Y(t,e,n){const s=QM(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function VY(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function d0(t){const n=t.r/255,s=t.g/255,i=t.b/255,a=Math.max(n,s,i),l=Math.min(n,s,i),c=(a+l)/2;let f,h,m;return a!==l&&(m=a-l,h=c>.5?m/(2-a-l):m/(a+l),f=VY(n,s,i,m,a),f=f*60+.5),[f|0,h||0,c]}function f0(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(va)}function h0(t,e,n){return f0(QM,t,e,n)}function qY(t,e,n){return f0($Y,t,e,n)}function GY(t,e,n){return f0(HY,t,e,n)}function KM(t){return(t%360+360)%360}function YY(t){const e=FY.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Du(+e[5]):va(+e[5]));const i=KM(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=qY(i,a,l):e[1]==="hsv"?s=GY(i,a,l):s=h0(i,a,l),{r:s[0],g:s[1],b:s[2],a:n}}function WY(t,e){var n=d0(t);n[0]=KM(n[0]+e),n=h0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function QY(t){if(!t)return;const e=d0(t),n=e[0],s=I2(e[1]),i=I2(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${_r(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const B2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},U2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KY(){const t={},e=Object.keys(U2),n=Object.keys(B2);let s,i,a,l,c;for(s=0;s<e.length;s++){for(l=c=e[s],i=0;i<n.length;i++)a=n[i],c=c.replace(a,B2[a]);a=parseInt(U2[l],16),t[c]=[a>>16&255,a>>8&255,a&255]}return t}let gh;function XY(t){gh||(gh=KY(),gh.transparent=[0,0,0,0]);const e=gh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ZY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JY(t){const e=ZY.exec(t);let n=255,s,i,a;if(e){if(e[7]!==s){const l=+e[7];n=e[8]?Du(l):ua(l*255,0,255)}return s=+e[1],i=+e[3],a=+e[5],s=255&(e[2]?Du(s):ua(s,0,255)),i=255&(e[4]?Du(i):ua(i,0,255)),a=255&(e[6]?Du(a):ua(a,0,255)),{r:s,g:i,b:a,a:n}}}function eW(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${_r(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const _v=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,_l=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function tW(t,e,n){const s=_l(_r(t.r)),i=_l(_r(t.g)),a=_l(_r(t.b));return{r:va(_v(s+n*(_l(_r(e.r))-s))),g:va(_v(i+n*(_l(_r(e.g))-i))),b:va(_v(a+n*(_l(_r(e.b))-a))),a:t.a+n*(e.a-t.a)}}function yh(t,e,n){if(t){let s=d0(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=h0(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function XM(t,e){return t&&Object.assign(e||{},t)}function z2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=va(t[3]))):(e=XM(t,{r:0,g:0,b:0,a:1}),e.a=va(e.a)),e}function nW(t){return t.charAt(0)==="r"?JY(t):YY(t)}class fd{constructor(e){if(e instanceof fd)return e;const n=typeof e;let s;n==="object"?s=z2(e):n==="string"&&(s=BY(e)||XY(e)||nW(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=XM(this._rgb);return e&&(e.a=_r(e.a)),e}set rgb(e){this._rgb=z2(e)}rgbString(){return this._valid?eW(this._rgb):void 0}hexString(){return this._valid?zY(this._rgb):void 0}hslString(){return this._valid?QY(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let a;const l=n===a?.5:n,c=2*l-1,f=s.a-i.a,h=((c*f===-1?c:(c+f)/(1+c*f))+1)/2;a=1-h,s.r=255&h*s.r+a*i.r+.5,s.g=255&h*s.g+a*i.g+.5,s.b=255&h*s.b+a*i.b+.5,s.a=l*s.a+(1-l)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=tW(this._rgb,e._rgb,n)),this}clone(){return new fd(this.rgb)}alpha(e){return this._rgb.a=va(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ad(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yh(this._rgb,2,e),this}darken(e){return yh(this._rgb,2,-e),this}saturate(e){return yh(this._rgb,1,e),this}desaturate(e){return yh(this._rgb,1,-e),this}rotate(e){return WY(this._rgb,e),this}}function xr(){}const sW=(()=>{let t=0;return()=>t++})();function Ht(t){return t==null}function jn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Qn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ii(t,e){return Qn(t)?t:e}function yt(t,e){return typeof t>"u"?e:t}const iW=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Wt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Mt(t,e,n,s){let i,a,l;if(jn(t))for(a=t.length,i=0;i<a;i++)e.call(n,t[i],i);else if(bt(t))for(l=Object.keys(t),a=l.length,i=0;i<a;i++)e.call(n,t[l[i]],l[i])}function Cp(t,e){let n,s,i,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],a=e[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Ep(t){if(jn(t))return t.map(Ep);if(bt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Ep(t[n[i]]);return e}return t}function ZM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function rW(t,e,n,s){if(!ZM(t))return;const i=e[t],a=n[t];bt(i)&&bt(a)?hd(i,a,s):e[t]=Ep(a)}function hd(t,e,n){const s=jn(e)?e:[e],i=s.length;if(!bt(t))return t;n=n||{};const a=n.merger||rW;let l;for(let c=0;c<i;++c){if(l=s[c],!bt(l))continue;const f=Object.keys(l);for(let h=0,m=f.length;h<m;++h)a(f[h],t,l,n)}return t}function $u(t,e){return hd(t,e,{merger:aW})}function aW(t,e,n){if(!ZM(t))return;const s=e[t],i=n[t];bt(s)&&bt(i)?$u(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ep(i))}const F2={"":t=>t,x:t=>t.x,y:t=>t.y};function oW(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function lW(t){const e=oW(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Np(t,e){return(F2[e]||(F2[e]=lW(e)))(t)}function p0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const jp=t=>typeof t<"u",Ea=t=>typeof t=="function",H2=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function cW(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Tn=Math.PI,Oi=2*Tn,uW=Oi+Tn,kp=Number.POSITIVE_INFINITY,dW=Tn/180,ki=Tn/2,Xa=Tn/4,$2=Tn*2/3,JM=Math.log10,Vl=Math.sign;function Vu(t,e,n){return Math.abs(t-e)<n}function V2(t){const e=Math.round(t);t=Vu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(JM(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function fW(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,a)=>i-a).pop(),e}function hW(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function pd(t){return!hW(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function pW(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function mW(t,e,n){let s,i,a;for(s=0,i=t.length;s<i;s++)a=t[s][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function uo(t){return t*(Tn/180)}function gW(t){return t*(180/Tn)}function q2(t){if(!Qn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function yW(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let a=Math.atan2(s,n);return a<-.5*Tn&&(a+=Oi),{angle:a,distance:i}}function Mb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vW(t,e){return(t-e+uW)%Oi-Tn}function Hi(t){return(t%Oi+Oi)%Oi}function eD(t,e,n,s){const i=Hi(t),a=Hi(e),l=Hi(n),c=Hi(a-i),f=Hi(l-i),h=Hi(i-a),m=Hi(i-l);return i===a||i===l||s&&a===l||c>f&&h<m}function di(t,e,n){return Math.max(e,Math.min(n,t))}function bW(t){return di(t,-32768,32767)}function Ol(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function m0(t,e,n){n=n||(l=>t[l]<e);let s=t.length-1,i=0,a;for(;s-i>1;)a=i+s>>1,n(a)?i=a:s=a;return{lo:i,hi:s}}const fo=(t,e,n,s)=>m0(t,n,s?i=>{const a=t[i][e];return a<n||a===n&&t[i+1][e]===n}:i=>t[i][e]<n),xW=(t,e,n)=>m0(t,n,s=>t[s][e]>=n);function wW(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const tD=["push","pop","shift","splice","unshift"];function SW(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tD.forEach(n=>{const s="_onData"+p0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return t._chartjs.listeners.forEach(c=>{typeof c[s]=="function"&&c[s](...a)}),l}})})}function G2(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(tD.forEach(a=>{delete t[a]}),delete t._chartjs)}function _W(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const nD=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function sD(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,nD.call(window,()=>{s=!1,t.apply(e,n)}))}}function CW(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const g0=t=>t==="start"?"left":t==="end"?"right":"center",Gn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,EW=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function NW(t,e,n){const s=e.length;let i=0,a=s;if(t._sorted){const{iScale:l,vScale:c,_parsed:f}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=l.axis,{min:g,max:y,minDefined:x,maxDefined:b}=l.getUserBounds();if(x){if(i=Math.min(fo(f,m,g).lo,n?s:fo(e,m,l.getPixelForValue(g)).lo),h){const C=f.slice(0,i+1).reverse().findIndex(_=>!Ht(_[c.axis]));i-=Math.max(0,C)}i=di(i,0,s-1)}if(b){let C=Math.max(fo(f,l.axis,y,!0).hi+1,n?0:fo(e,m,l.getPixelForValue(y),!0).hi+1);if(h){const _=f.slice(C-1).findIndex(k=>!Ht(k[c.axis]));C+=Math.max(0,_)}a=di(C,i,s)-i}else a=s-i}return{start:i,count:a}}function jW(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const a=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),a}const vh=t=>t===0||t===1,Y2=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Oi/n)),W2=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Oi/n)+1,qu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ki)+1,easeOutSine:t=>Math.sin(t*ki),easeInOutSine:t=>-.5*(Math.cos(Tn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vh(t)?t:Y2(t,.075,.3),easeOutElastic:t=>vh(t)?t:W2(t,.075,.3),easeInOutElastic(t){return vh(t)?t:t<.5?.5*Y2(t*2,.1125,.45):.5+.5*W2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-qu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?qu.easeInBounce(t*2)*.5:qu.easeOutBounce(t*2-1)*.5+.5};function y0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Q2(t){return y0(t)?t:new fd(t)}function Cv(t){return y0(t)?t:new fd(t).saturate(.5).darken(.1).hexString()}const kW=["x","y","borderWidth","radius","tension"],OW=["color","borderColor","backgroundColor"];function LW(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OW},numbers:{type:"number",properties:kW}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function MW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const K2=new Map;function DW(t,e){e=e||{};const n=t+JSON.stringify(e);let s=K2.get(n);return s||(s=new Intl.NumberFormat(t,e),K2.set(n,s)),s}function iD(t,e,n){return DW(e,n).format(t)}const TW={values(t){return jn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,a=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),a=AW(t,n)}const l=JM(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(f,this.options.ticks.format),iD(t,s,f)}};function AW(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var rD={formatters:TW};function RW(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const wo=Object.create(null),Db=Object.create(null);function Gu(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const a=n[s];t=t[a]||(t[a]=Object.create(null))}return t}function Ev(t,e,n){return typeof e=="string"?hd(Gu(t,e),n):hd(Gu(t,""),e)}class PW{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Cv(i.backgroundColor),this.hoverBorderColor=(s,i)=>Cv(i.borderColor),this.hoverColor=(s,i)=>Cv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ev(this,e,n)}get(e){return Gu(this,e)}describe(e,n){return Ev(Db,e,n)}override(e,n){return Ev(wo,e,n)}route(e,n,s,i){const a=Gu(this,e),l=Gu(this,s),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[c],h=l[i];return bt(f)?Object.assign({},h,f):yt(f,h)},set(f){this[c]=f}}})}apply(e){e.forEach(n=>n(this))}}var hn=new PW({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LW,MW,RW]);function IW(t){return!t||Ht(t.size)||Ht(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function X2(t,e,n,s,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,n.push(i)),a>s&&(s=a),s}function Za(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Z2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Tb(t,e,n,s){aD(t,e,n,s,null)}function aD(t,e,n,s,i){let a,l,c,f,h,m,g,y;const x=e.pointStyle,b=e.rotation,C=e.radius;let _=(b||0)*dW;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),x){default:i?t.ellipse(n,s,i/2,C,0,0,Oi):t.arc(n,s,C,0,Oi),t.closePath();break;case"triangle":m=i?i/2:C,t.moveTo(n+Math.sin(_)*m,s-Math.cos(_)*C),_+=$2,t.lineTo(n+Math.sin(_)*m,s-Math.cos(_)*C),_+=$2,t.lineTo(n+Math.sin(_)*m,s-Math.cos(_)*C),t.closePath();break;case"rectRounded":h=C*.516,f=C-h,l=Math.cos(_+Xa)*f,g=Math.cos(_+Xa)*(i?i/2-h:f),c=Math.sin(_+Xa)*f,y=Math.sin(_+Xa)*(i?i/2-h:f),t.arc(n-g,s-c,h,_-Tn,_-ki),t.arc(n+y,s-l,h,_-ki,_),t.arc(n+g,s+c,h,_,_+ki),t.arc(n-y,s+l,h,_+ki,_+Tn),t.closePath();break;case"rect":if(!b){f=Math.SQRT1_2*C,m=i?i/2:f,t.rect(n-m,s-f,2*m,2*f);break}_+=Xa;case"rectRot":g=Math.cos(_)*(i?i/2:C),l=Math.cos(_)*C,c=Math.sin(_)*C,y=Math.sin(_)*(i?i/2:C),t.moveTo(n-g,s-c),t.lineTo(n+y,s-l),t.lineTo(n+g,s+c),t.lineTo(n-y,s+l),t.closePath();break;case"crossRot":_+=Xa;case"cross":g=Math.cos(_)*(i?i/2:C),l=Math.cos(_)*C,c=Math.sin(_)*C,y=Math.sin(_)*(i?i/2:C),t.moveTo(n-g,s-c),t.lineTo(n+g,s+c),t.moveTo(n+y,s-l),t.lineTo(n-y,s+l);break;case"star":g=Math.cos(_)*(i?i/2:C),l=Math.cos(_)*C,c=Math.sin(_)*C,y=Math.sin(_)*(i?i/2:C),t.moveTo(n-g,s-c),t.lineTo(n+g,s+c),t.moveTo(n+y,s-l),t.lineTo(n-y,s+l),_+=Xa,g=Math.cos(_)*(i?i/2:C),l=Math.cos(_)*C,c=Math.sin(_)*C,y=Math.sin(_)*(i?i/2:C),t.moveTo(n-g,s-c),t.lineTo(n+g,s+c),t.moveTo(n+y,s-l),t.lineTo(n-y,s+l);break;case"line":l=i?i/2:Math.cos(_)*C,c=Math.sin(_)*C,t.moveTo(n-l,s-c),t.lineTo(n+l,s+c);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:C),s+Math.sin(_)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function md(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function um(t){t.restore()}function BW(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function UW(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function zW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ht(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function FW(t,e,n,s,i){if(i.strikethrough||i.underline){const a=t.measureText(s),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,f=n-a.actualBoundingBoxAscent,h=n+a.actualBoundingBoxDescent,m=i.strikethrough?(f+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(l,m),t.lineTo(c,m),t.stroke()}}function HW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function gd(t,e,n,s,i,a={}){const l=jn(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let f,h;for(t.save(),t.font=i.string,zW(t,a),f=0;f<l.length;++f)h=l[f],a.backdrop&&HW(t,a.backdrop),c&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Ht(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(h,n,s,a.maxWidth)),t.fillText(h,n,s,a.maxWidth),FW(t,n,s,h,a),s+=Number(i.lineHeight);t.restore()}function Ab(t,e){const{x:n,y:s,w:i,h:a,radius:l}=e;t.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*Tn,Tn,!0),t.lineTo(n,s+a-l.bottomLeft),t.arc(n+l.bottomLeft,s+a-l.bottomLeft,l.bottomLeft,Tn,ki,!0),t.lineTo(n+i-l.bottomRight,s+a),t.arc(n+i-l.bottomRight,s+a-l.bottomRight,l.bottomRight,ki,0,!0),t.lineTo(n+i,s+l.topRight),t.arc(n+i-l.topRight,s+l.topRight,l.topRight,0,-ki,!0),t.lineTo(n+l.topLeft,s)}const $W=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,VW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qW(t,e){const n=(""+t).match($W);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const GW=t=>+t||0;function oD(t,e){const n={},s=bt(e),i=s?Object.keys(e):e,a=bt(t)?s?l=>yt(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of i)n[l]=GW(a(l));return n}function YW(t){return oD(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Yu(t){return oD(t,["topLeft","topRight","bottomLeft","bottomRight"])}function gi(t){const e=YW(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wn(t,e){t=t||{},e=e||hn.font;let n=yt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=yt(t.style,e.style);s&&!(""+s).match(VW)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:yt(t.family,e.family),lineHeight:qW(yt(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:yt(t.weight,e.weight),string:""};return i.string=IW(i),i}function bh(t,e,n,s){let i,a,l;for(i=0,a=t.length;i<a;++i)if(l=t[i],l!==void 0&&l!==void 0)return l}function WW(t,e,n){const{min:s,max:i}=t,a=iW(e,(i-s)/2),l=(c,f)=>n&&c===0?0:c+f;return{min:l(s,-Math.abs(a)),max:l(i,a)}}function Eo(t,e){return Object.assign(Object.create(t),e)}function v0(t,e=[""],n,s,i=()=>t[0]){const a=n||t;typeof s>"u"&&(s=dD("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:s,_getTarget:i,override:c=>v0([c,...t],e,a,s)};return new Proxy(l,{deleteProperty(c,f){return delete c[f],delete c._keys,delete t[0][f],!0},get(c,f){return cD(c,f,()=>nQ(f,e,t,c))},getOwnPropertyDescriptor(c,f){return Reflect.getOwnPropertyDescriptor(c._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,f){return ej(c).includes(f)},ownKeys(c){return ej(c)},set(c,f,h){const m=c._storage||(c._storage=i());return c[f]=m[f]=h,delete c._keys,!0}})}function ql(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:lD(t,s),setContext:a=>ql(t,a,n,s),override:a=>ql(t.override(a),e,n,s)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,c){return cD(a,l,()=>KW(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,c){return t[l]=c,delete a[l],!0}})}function lD(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Ea(n)?n:()=>n,isIndexable:Ea(s)?s:()=>s}}const QW=(t,e)=>t?t+p0(e):e,b0=(t,e)=>bt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function cD(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function KW(t,e,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=t;let c=s[e];return Ea(c)&&l.isScriptable(e)&&(c=XW(e,c,t,n)),jn(c)&&c.length&&(c=ZW(e,c,t,l.isIndexable)),b0(e,c)&&(c=ql(c,i,a&&a[e],l)),c}function XW(t,e,n,s){const{_proxy:i,_context:a,_subProxy:l,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let f=e(a,l||s);return c.delete(t),b0(t,f)&&(f=x0(i._scopes,i,t,f)),f}function ZW(t,e,n,s){const{_proxy:i,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&s(t))return e[a.index%e.length];if(bt(e[0])){const f=e,h=i._scopes.filter(m=>m!==f);e=[];for(const m of f){const g=x0(h,i,t,m);e.push(ql(g,a,l&&l[t],c))}}return e}function uD(t,e,n){return Ea(t)?t(e,n):t}const JW=(t,e)=>t===!0?e:typeof t=="string"?Np(e,t):void 0;function eQ(t,e,n,s,i){for(const a of e){const l=JW(n,a);if(l){t.add(l);const c=uD(l._fallback,n,i);if(typeof c<"u"&&c!==n&&c!==s)return c}else if(l===!1&&typeof s<"u"&&n!==s)return null}return!1}function x0(t,e,n,s){const i=e._rootScopes,a=uD(e._fallback,n,s),l=[...t,...i],c=new Set;c.add(s);let f=J2(c,l,n,a||n,s);return f===null||typeof a<"u"&&a!==n&&(f=J2(c,l,a,f,s),f===null)?!1:v0(Array.from(c),[""],i,a,()=>tQ(e,n,s))}function J2(t,e,n,s,i){for(;n;)n=eQ(t,e,n,s,i);return n}function tQ(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return jn(i)&&bt(n)?n:i||{}}function nQ(t,e,n,s){let i;for(const a of e)if(i=dD(QW(a,t),n),typeof i<"u")return b0(t,i)?x0(n,s,t,i):i}function dD(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function ej(t){let e=t._keys;return e||(e=t._keys=sQ(t._scopes)),e}function sQ(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const iQ=Number.EPSILON||1e-14,Gl=(t,e)=>e<t.length&&!t[e].skip&&t[e],fD=t=>t==="x"?"y":"x";function rQ(t,e,n,s){const i=t.skip?e:t,a=e,l=n.skip?e:n,c=Mb(a,i),f=Mb(l,a);let h=c/(c+f),m=f/(c+f);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const g=s*h,y=s*m;return{previous:{x:a.x-g*(l.x-i.x),y:a.y-g*(l.y-i.y)},next:{x:a.x+y*(l.x-i.x),y:a.y+y*(l.y-i.y)}}}function aQ(t,e,n){const s=t.length;let i,a,l,c,f,h=Gl(t,0);for(let m=0;m<s-1;++m)if(f=h,h=Gl(t,m+1),!(!f||!h)){if(Vu(e[m],0,iQ)){n[m]=n[m+1]=0;continue}i=n[m]/e[m],a=n[m+1]/e[m],c=Math.pow(i,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[m]=i*l*e[m],n[m+1]=a*l*e[m])}}function oQ(t,e,n="x"){const s=fD(n),i=t.length;let a,l,c,f=Gl(t,0);for(let h=0;h<i;++h){if(l=c,c=f,f=Gl(t,h+1),!c)continue;const m=c[n],g=c[s];l&&(a=(m-l[n])/3,c[`cp1${n}`]=m-a,c[`cp1${s}`]=g-a*e[h]),f&&(a=(f[n]-m)/3,c[`cp2${n}`]=m+a,c[`cp2${s}`]=g+a*e[h])}}function lQ(t,e="x"){const n=fD(e),s=t.length,i=Array(s).fill(0),a=Array(s);let l,c,f,h=Gl(t,0);for(l=0;l<s;++l)if(c=f,f=h,h=Gl(t,l+1),!!f){if(h){const m=h[e]-f[e];i[l]=m!==0?(h[n]-f[n])/m:0}a[l]=c?h?Vl(i[l-1])!==Vl(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}aQ(t,i,a),oQ(t,a,e)}function xh(t,e,n){return Math.max(Math.min(t,n),e)}function cQ(t,e){let n,s,i,a,l,c=md(t[0],e);for(n=0,s=t.length;n<s;++n)l=a,a=c,c=n<s-1&&md(t[n+1],e),a&&(i=t[n],l&&(i.cp1x=xh(i.cp1x,e.left,e.right),i.cp1y=xh(i.cp1y,e.top,e.bottom)),c&&(i.cp2x=xh(i.cp2x,e.left,e.right),i.cp2y=xh(i.cp2y,e.top,e.bottom)))}function uQ(t,e,n,s,i){let a,l,c,f;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")lQ(t,i);else{let h=s?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)c=t[a],f=rQ(h,c,t[Math.min(a+1,l-(s?0:1))%l],e.tension),c.cp1x=f.previous.x,c.cp1y=f.previous.y,c.cp2x=f.next.x,c.cp2y=f.next.y,h=c}e.capBezierPoints&&cQ(t,n)}function w0(){return typeof window<"u"&&typeof document<"u"}function S0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Op(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const dm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function dQ(t,e){return dm(t).getPropertyValue(e)}const fQ=["top","right","bottom","left"];function po(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=fQ[i];s[a]=parseFloat(t[e+"-"+a+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const hQ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function pQ(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:a}=s;let l=!1,c,f;if(hQ(i,a,t.target))c=i,f=a;else{const h=e.getBoundingClientRect();c=s.clientX-h.left,f=s.clientY-h.top,l=!0}return{x:c,y:f,box:l}}function no(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=dm(n),a=i.boxSizing==="border-box",l=po(i,"padding"),c=po(i,"border","width"),{x:f,y:h,box:m}=pQ(t,n),g=l.left+(m&&c.left),y=l.top+(m&&c.top);let{width:x,height:b}=e;return a&&(x-=l.width+c.width,b-=l.height+c.height),{x:Math.round((f-g)/x*n.width/s),y:Math.round((h-y)/b*n.height/s)}}function mQ(t,e,n){let s,i;if(e===void 0||n===void 0){const a=t&&S0(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),c=dm(a),f=po(c,"border","width"),h=po(c,"padding");e=l.width-h.width-f.width,n=l.height-h.height-f.height,s=Op(c.maxWidth,a,"clientWidth"),i=Op(c.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:s||kp,maxHeight:i||kp}}const da=t=>Math.round(t*10)/10;function gQ(t,e,n,s){const i=dm(t),a=po(i,"margin"),l=Op(i.maxWidth,t,"clientWidth")||kp,c=Op(i.maxHeight,t,"clientHeight")||kp,f=mQ(t,e,n);let{width:h,height:m}=f;if(i.boxSizing==="content-box"){const y=po(i,"border","width"),x=po(i,"padding");h-=x.width+y.width,m-=x.height+y.height}return h=Math.max(0,h-a.width),m=Math.max(0,s?h/s:m-a.height),h=da(Math.min(h,l,f.maxWidth)),m=da(Math.min(m,c,f.maxHeight)),h&&!m&&(m=da(h/2)),(e!==void 0||n!==void 0)&&s&&f.height&&m>f.height&&(m=f.height,h=da(Math.floor(m*s))),{width:h,height:m}}function tj(t,e,n){const s=e||1,i=da(t.height*s),a=da(t.width*s);t.height=da(t.height),t.width=da(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||l.height!==i||l.width!==a?(t.currentDevicePixelRatio=s,l.height=i,l.width=a,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const yQ=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};w0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function nj(t,e){const n=dQ(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function so(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function vQ(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function bQ(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=so(t,i,n),c=so(i,a,n),f=so(a,e,n),h=so(l,c,n),m=so(c,f,n);return so(h,m,n)}const xQ=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},wQ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ml(t,e,n){return t?xQ(e,n):wQ()}function hD(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function pD(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function mD(t){return t==="angle"?{between:eD,compare:vW,normalize:Hi}:{between:Ol,compare:(e,n)=>e-n,normalize:e=>e}}function sj({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function SQ(t,e,n){const{property:s,start:i,end:a}=n,{between:l,normalize:c}=mD(s),f=e.length;let{start:h,end:m,loop:g}=t,y,x;if(g){for(h+=f,m+=f,y=0,x=f;y<x&&l(c(e[h%f][s]),i,a);++y)h--,m--;h%=f,m%=f}return m<h&&(m+=f),{start:h,end:m,loop:g,style:t.style}}function gD(t,e,n){if(!n)return[t];const{property:s,start:i,end:a}=n,l=e.length,{compare:c,between:f,normalize:h}=mD(s),{start:m,end:g,loop:y,style:x}=SQ(t,e,n),b=[];let C=!1,_=null,k,j,L;const O=()=>f(i,L,k)&&c(i,L)!==0,E=()=>c(a,k)===0||f(a,L,k),M=()=>C||O(),T=()=>!C||E();for(let I=m,P=m;I<=g;++I)j=e[I%l],!j.skip&&(k=h(j[s]),k!==L&&(C=f(k,i,a),_===null&&M()&&(_=c(k,i)===0?I:P),_!==null&&T()&&(b.push(sj({start:_,end:I,loop:y,count:l,style:x})),_=null),P=I,L=k));return _!==null&&b.push(sj({start:_,end:g,loop:y,count:l,style:x})),b}function yD(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const a=gD(s[i],t.points,e);a.length&&n.push(...a)}return n}function _Q(t,e,n,s){let i=0,a=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function CQ(t,e,n,s){const i=t.length,a=[];let l=e,c=t[e],f;for(f=e+1;f<=n;++f){const h=t[f%i];h.skip||h.stop?c.skip||(s=!1,a.push({start:e%i,end:(f-1)%i,loop:s}),e=l=h.stop?f:null):(l=f,c.skip&&(e=f)),c=h}return l!==null&&a.push({start:e%i,end:l%i,loop:s}),a}function EQ(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const a=!!t._loop,{start:l,end:c}=_Q(n,i,a,s);if(s===!0)return ij(t,[{start:l,end:c,loop:a}],n,e);const f=c<l?c+i:c,h=!!t._fullLoop&&l===0&&c===i-1;return ij(t,CQ(n,l,f,h),n,e)}function ij(t,e,n,s){return!s||!s.setContext||!n?e:NQ(t,e,n,s)}function NQ(t,e,n,s){const i=t._chart.getContext(),a=rj(t.options),{_datasetIndex:l,options:{spanGaps:c}}=t,f=n.length,h=[];let m=a,g=e[0].start,y=g;function x(b,C,_,k){const j=c?-1:1;if(b!==C){for(b+=f;n[b%f].skip;)b-=j;for(;n[C%f].skip;)C+=j;b%f!==C%f&&(h.push({start:b%f,end:C%f,loop:_,style:k}),m=k,g=C%f)}}for(const b of e){g=c?g:b.start;let C=n[g%f],_;for(y=g+1;y<=b.end;y++){const k=n[y%f];_=rj(s.setContext(Eo(i,{type:"segment",p0:C,p1:k,p0DataIndex:(y-1)%f,p1DataIndex:y%f,datasetIndex:l}))),jQ(_,m)&&x(g,y-1,b.loop,m),C=k,m=_}g<y-1&&x(g,y-1,b.loop,m)}return h}function rj(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function jQ(t,e){if(!e)return!1;const n=[],s=function(i,a){return y0(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function wh(t,e,n){return t.options.clip?t[n]:e[n]}function kQ(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:wh(n,e,"left"),right:wh(n,e,"right"),top:wh(s,e,"top"),bottom:wh(s,e,"bottom")}:e}function vD(t,e){const n=e._clip;if(n.disabled)return!1;const s=kQ(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}class OQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const a=n.listeners[i],l=n.duration;a.forEach(c=>c({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=nD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const a=s.items;let l=a.length-1,c=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(i.draw(),this._notify(i,s,e,"progress")),a.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wr=new OQ;const aj="transparent",LQ={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Q2(t||aj),i=s.valid&&Q2(e||aj);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class MQ{constructor(e,n,s,i){const a=n[s];i=bh([e.to,i,a,e.from]);const l=bh([e.from,a,i]);this._active=!0,this._fn=e.fn||LQ[e.type||typeof l],this._easing=qu[e.easing]||qu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],a=s-this._start,l=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=bh([e.to,n,i,e.from]),this._from=bh([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,a=this._from,l=this._loop,c=this._to;let f;if(this._active=a!==c&&(l||n<s),!this._active){this._target[i]=c,this._notify(!0);return}if(n<0){this._target[i]=a;return}f=n/s%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[i]=this._fn(a,c,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class bD{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!bt(e))return;const n=Object.keys(hn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!bt(a))return;const l={};for(const c of n)l[c]=a[c];(jn(a.properties)&&a.properties||[i]).forEach(c=>{(c===i||!s.has(c))&&s.set(c,l)})})}_animateOptions(e,n){const s=n.options,i=TQ(e,s);if(!i)return[];const a=this._createAnimations(i,s);return s.$shared&&DQ(e.options.$animations,s).then(()=>{e.options=s},()=>{}),a}_createAnimations(e,n){const s=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),c=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(e,n));continue}const m=n[h];let g=a[h];const y=s.get(h);if(g)if(y&&g.active()){g.update(y,m,c);continue}else g.cancel();if(!y||!y.duration){e[h]=m;continue}a[h]=g=new MQ(y,e,h,m),i.push(g)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return wr.add(this._chart,s),!0}}function DQ(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const a=t[s[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function TQ(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function oj(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:s?a:i,end:s?i:a}}function AQ(t,e,n){if(n===!1)return!1;const s=oj(t,n),i=oj(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function RQ(t){let e,n,s,i;return bt(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function xD(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=s.length;i<a;++i)n.push(s[i].index);return n}function lj(t,e,n,s={}){const i=t.keys,a=s.mode==="single";let l,c,f,h;if(e===null)return;let m=!1;for(l=0,c=i.length;l<c;++l){if(f=+i[l],f===n){if(m=!0,s.all)continue;break}h=t.values[f],Qn(h)&&(a||e===0||Vl(e)===Vl(h))&&(e+=h)}return!m&&!s.all?0:e}function PQ(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",a=s.axis==="x"?"x":"y",l=Object.keys(t),c=new Array(l.length);let f,h,m;for(f=0,h=l.length;f<h;++f)m=l[f],c[f]={[i]:m,[a]:t[m]};return c}function Nv(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function IQ(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function BQ(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function UQ(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function cj(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const a=t[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function uj(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=s,f=a.axis,h=l.axis,m=IQ(a,l,s),g=e.length;let y;for(let x=0;x<g;++x){const b=e[x],{[f]:C,[h]:_}=b,k=b._stacks||(b._stacks={});y=k[h]=UQ(i,m,C),y[c]=_,y._top=cj(y,l,!0,s.type),y._bottom=cj(y,l,!1,s.type);const j=y._visualValues||(y._visualValues={});j[c]=_}}function jv(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function zQ(t,e){return Eo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function FQ(t,e,n){return Eo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Cu(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const a=i._stacks;if(!a||a[s]===void 0||a[s][n]===void 0)return;delete a[s][n],a[s]._visualValues!==void 0&&a[s]._visualValues[n]!==void 0&&delete a[s]._visualValues[n]}}}const kv=t=>t==="reset"||t==="none",dj=(t,e)=>e?t:Object.assign({},t),HQ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:xD(n,!0),values:null};class wD{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Nv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Cu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(g,y,x,b)=>g==="x"?y:g==="r"?b:x,a=n.xAxisID=yt(s.xAxisID,jv(e,"x")),l=n.yAxisID=yt(s.yAxisID,jv(e,"y")),c=n.rAxisID=yt(s.rAxisID,jv(e,"r")),f=n.indexAxis,h=n.iAxisID=i(f,a,l,c),m=n.vAxisID=i(f,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&G2(this._data,this),e._stacked&&Cu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(bt(n)){const i=this._cachedMeta;this._data=PQ(n,i)}else if(s!==n){if(s){G2(s,this);const i=this._cachedMeta;Cu(i),i._parsed=[]}n&&Object.isExtensible(n)&&SW(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=Nv(n.vScale,n),n.stack!==s.stack&&(i=!0,Cu(n),n.stack=s.stack),this._resyncElements(e),(i||a!==n._stacked)&&(uj(this,n._parsed),n._stacked=Nv(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:a,_stacked:l}=s,c=a.axis;let f=e===0&&n===i.length?!0:s._sorted,h=e>0&&s._parsed[e-1],m,g,y;if(this._parsing===!1)s._parsed=i,s._sorted=!0,y=i;else{jn(i[e])?y=this.parseArrayData(s,i,e,n):bt(i[e])?y=this.parseObjectData(s,i,e,n):y=this.parsePrimitiveData(s,i,e,n);const x=()=>g[c]===null||h&&g[c]<h[c];for(m=0;m<n;++m)s._parsed[m+e]=g=y[m],f&&(x()&&(f=!1),h=g);s._sorted=f}l&&uj(this,y)}parsePrimitiveData(e,n,s,i){const{iScale:a,vScale:l}=e,c=a.axis,f=l.axis,h=a.getLabels(),m=a===l,g=new Array(i);let y,x,b;for(y=0,x=i;y<x;++y)b=y+s,g[y]={[c]:m||a.parse(h[b],b),[f]:l.parse(n[b],b)};return g}parseArrayData(e,n,s,i){const{xScale:a,yScale:l}=e,c=new Array(i);let f,h,m,g;for(f=0,h=i;f<h;++f)m=f+s,g=n[m],c[f]={x:a.parse(g[0],m),y:l.parse(g[1],m)};return c}parseObjectData(e,n,s,i){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:f="y"}=this._parsing,h=new Array(i);let m,g,y,x;for(m=0,g=i;m<g;++m)y=m+s,x=n[y],h[m]={x:a.parse(Np(x,c),y),y:l.parse(Np(x,f),y)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,a=this._cachedMeta,l=n[e.axis],c={keys:xD(i,!0),values:n._stacks[e.axis]._visualValues};return lj(c,l,a.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const a=s[n.axis];let l=a===null?NaN:a;const c=i&&s._stacks[n.axis];i&&c&&(i.values=c,l=lj(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,a=s._sorted&&e===s.iScale,l=i.length,c=this._getOtherScale(e),f=HQ(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:g}=BQ(c);let y,x;function b(){x=i[y];const C=x[c.axis];return!Qn(x[e.axis])||m>C||g<C}for(y=0;y<l&&!(!b()&&(this.updateRangeFromParsed(h,e,x,f),a));++y);if(a){for(y=l-1;y>=0;--y)if(!b()){this.updateRangeFromParsed(h,e,x,f);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,a,l;for(i=0,a=n.length;i<a;++i)l=n[i][e.axis],Qn(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,a=this.getParsed(e);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=RQ(yt(this.options.clip,AQ(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],a=n.chartArea,l=[],c=this._drawStart||0,f=this._drawCount||i.length-c,h=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,a,c,f),m=c;m<c+f;++m){const g=i[m];g.hidden||(g.active&&h?l.push(g):g.draw(e,a))}for(m=0;m<l.length;++m)l[m].draw(e,a)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=FQ(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=zQ(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=s,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",a=this._cachedDataOpts,l=e+"-"+n,c=a[l],f=this.enableOptionSharing&&jp(s);if(c)return dj(c,f);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,e),g=i?[`${e}Hover`,"hover",e,""]:[e,""],y=h.getOptionScopes(this.getDataset(),m),x=Object.keys(hn.elements[e]),b=()=>this.getContext(s,i,n),C=h.resolveNamedOptions(y,x,b,g);return C.$shared&&(C.$shared=f,a[l]=Object.freeze(dj(C,f))),C}_resolveAnimations(e,n,s){const i=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let f;if(i.options.animation!==!1){const m=this.chart.config,g=m.datasetAnimationScopeKeys(this._type,n),y=m.getOptionScopes(this.getDataset(),g);f=m.createResolver(y,this.getContext(e,s,n))}const h=new bD(i,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||kv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,a=this.getSharedOptions(s),l=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,s),{sharedOptions:a,includeOptions:l}}updateElement(e,n,s,i){kv(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!kv(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[c,f,h]of this._syncList)this[c](f,h);this._syncList=[];const i=s.length,a=n.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,n,s=!0){const i=this._cachedMeta,a=i.data,l=e+n;let c;const f=h=>{for(h.length+=n,c=h.length-1;c>=l;c--)h[c]=h[c-n]};for(f(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&f(i._parsed),this.parse(e,n),s&&this.updateElements(a,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Cu(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class $Q extends wD{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:f}=NW(n,i,l);this._drawStart=c,this._drawCount=f,jW(n)&&(c=0,f=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=i;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:h},e),this.updateElements(i,c,f,e)}updateElements(e,n,s,i){const a=i==="reset",{iScale:l,vScale:c,_stacked:f,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,i),y=l.axis,x=c.axis,{spanGaps:b,segment:C}=this.options,_=pd(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||i==="none",j=n+s,L=e.length;let O=n>0&&this.getParsed(n-1);for(let E=0;E<L;++E){const M=e[E],T=k?M:{};if(E<n||E>=j){T.skip=!0;continue}const I=this.getParsed(E),P=Ht(I[x]),z=T[y]=l.getPixelForValue(I[y],E),G=T[x]=a||P?c.getBasePixel():c.getPixelForValue(f?this.applyStack(c,I,f):I[x],E);T.skip=isNaN(z)||isNaN(G)||P,T.stop=E>0&&Math.abs(I[y]-O[y])>_,C&&(T.parsed=I,T.raw=h.data[E]),g&&(T.options=m||this.resolveDataElementOptions(E,M.active?"active":i)),k||this.updateElement(M,E,T,i),O=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Ja(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _0{static override(e){Object.assign(_0.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ja()}parse(){return Ja()}format(){return Ja()}add(){return Ja()}diff(){return Ja()}startOf(){return Ja()}endOf(){return Ja()}}var VQ={_date:_0};function qQ(t,e,n,s){const{controller:i,data:a,_sorted:l}=t,c=i._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const h=c._reversePixels?xW:fo;if(s){if(i._sharedOptions){const m=a[0],g=typeof m.getRange=="function"&&m.getRange(e);if(g){const y=h(a,e,n-g),x=h(a,e,n+g);return{lo:y.lo,hi:x.hi}}}}else{const m=h(a,e,n);if(f){const{vScale:g}=i._cachedMeta,{_parsed:y}=t,x=y.slice(0,m.lo+1).reverse().findIndex(C=>!Ht(C[g.axis]));m.lo-=Math.max(0,x);const b=y.slice(m.hi).findIndex(C=>!Ht(C[g.axis]));m.hi+=Math.max(0,b)}return m}}return{lo:0,hi:a.length-1}}function fm(t,e,n,s,i){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let c=0,f=a.length;c<f;++c){const{index:h,data:m}=a[c],{lo:g,hi:y}=qQ(a[c],e,l,i);for(let x=g;x<=y;++x){const b=m[x];b.skip||s(b,h,x)}}}function GQ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const a=e?Math.abs(s.x-i.x):0,l=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Ov(t,e,n,s,i){const a=[];return!i&&!t.isPointInArea(e)||fm(t,n,e,function(c,f,h){!i&&!md(c,t.chartArea,0)||c.inRange(e.x,e.y,s)&&a.push({element:c,datasetIndex:f,index:h})},!0),a}function YQ(t,e,n,s){let i=[];function a(l,c,f){const{startAngle:h,endAngle:m}=l.getProps(["startAngle","endAngle"],s),{angle:g}=yW(l,{x:e.x,y:e.y});eD(g,h,m)&&i.push({element:l,datasetIndex:c,index:f})}return fm(t,n,e,a),i}function WQ(t,e,n,s,i,a){let l=[];const c=GQ(n);let f=Number.POSITIVE_INFINITY;function h(m,g,y){const x=m.inRange(e.x,e.y,i);if(s&&!x)return;const b=m.getCenterPoint(i);if(!(!!a||t.isPointInArea(b))&&!x)return;const _=c(e,b);_<f?(l=[{element:m,datasetIndex:g,index:y}],f=_):_===f&&l.push({element:m,datasetIndex:g,index:y})}return fm(t,n,e,h),l}function Lv(t,e,n,s,i,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!s?YQ(t,e,n,i):WQ(t,e,n,s,i,a)}function fj(t,e,n,s,i){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return fm(t,n,e,(f,h,m)=>{f[l]&&f[l](e[n],i)&&(a.push({element:f,datasetIndex:h,index:m}),c=c||f.inRange(e.x,e.y,i))}),s&&!c?[]:a}var QQ={modes:{index(t,e,n,s){const i=no(e,t),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Ov(t,i,a,s,l):Lv(t,i,a,!1,s,l),f=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const m=c[0].index,g=h.data[m];g&&!g.skip&&f.push({element:g,datasetIndex:h.index,index:m})}),f):[]},dataset(t,e,n,s){const i=no(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Ov(t,i,a,s,l):Lv(t,i,a,!1,s,l);if(c.length>0){const f=c[0].datasetIndex,h=t.getDatasetMeta(f).data;c=[];for(let m=0;m<h.length;++m)c.push({element:h[m],datasetIndex:f,index:m})}return c},point(t,e,n,s){const i=no(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Ov(t,i,a,s,l)},nearest(t,e,n,s){const i=no(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Lv(t,i,a,n.intersect,s,l)},x(t,e,n,s){const i=no(e,t);return fj(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=no(e,t);return fj(t,i,"y",n.intersect,s)}}};const SD=["left","top","right","bottom"];function Eu(t,e){return t.filter(n=>n.pos===e)}function hj(t,e){return t.filter(n=>SD.indexOf(n.pos)===-1&&n.box.axis===e)}function Nu(t,e){return t.sort((n,s)=>{const i=e?s:n,a=e?n:s;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function KQ(t){const e=[];let n,s,i,a,l,c;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:a,options:{stack:l,stackWeight:c=1}}=i,e.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:c});return e}function XQ(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:a}=n;if(!s||!SD.includes(i))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function ZQ(t,e){const n=XQ(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let a,l,c;for(a=0,l=t.length;a<l;++a){c=t[a];const{fullSize:f}=c.box,h=n[c.stack],m=h&&c.stackWeight/h.weight;c.horizontal?(c.width=m?m*s:f&&e.availableWidth,c.height=i):(c.width=s,c.height=m?m*i:f&&e.availableHeight)}return n}function JQ(t){const e=KQ(t),n=Nu(e.filter(h=>h.box.fullSize),!0),s=Nu(Eu(e,"left"),!0),i=Nu(Eu(e,"right")),a=Nu(Eu(e,"top"),!0),l=Nu(Eu(e,"bottom")),c=hj(e,"x"),f=hj(e,"y");return{fullSize:n,leftAndTop:s.concat(a),rightAndBottom:i.concat(f).concat(l).concat(c),chartArea:Eu(e,"chartArea"),vertical:s.concat(i).concat(f),horizontal:a.concat(l).concat(c)}}function pj(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function _D(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function eK(t,e,n,s){const{pos:i,box:a}=n,l=t.maxPadding;if(!bt(i)){n.size&&(t[i]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?a.height:a.width),n.size=g.size/g.count,t[i]+=n.size}a.getPadding&&_D(l,a.getPadding());const c=Math.max(0,e.outerWidth-pj(l,t,"left","right")),f=Math.max(0,e.outerHeight-pj(l,t,"top","bottom")),h=c!==t.w,m=f!==t.h;return t.w=c,t.h=f,n.horizontal?{same:h,other:m}:{same:m,other:h}}function tK(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function nK(t,e){const n=e.maxPadding;function s(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return s(t?["left","right"]:["top","bottom"])}function Tu(t,e,n,s){const i=[];let a,l,c,f,h,m;for(a=0,l=t.length,h=0;a<l;++a){c=t[a],f=c.box,f.update(c.width||e.w,c.height||e.h,nK(c.horizontal,e));const{same:g,other:y}=eK(e,n,c,s);h|=g&&i.length,m=m||y,f.fullSize||i.push(c)}return h&&Tu(i,e,n,s)||m}function Sh(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function mj(t,e,n,s){const i=n.padding;let{x:a,y:l}=e;for(const c of t){const f=c.box,h=s[c.stack]||{placed:0,weight:1},m=c.stackWeight/h.weight||1;if(c.horizontal){const g=e.w*m,y=h.size||f.height;jp(h.start)&&(l=h.start),f.fullSize?Sh(f,i.left,l,n.outerWidth-i.right-i.left,y):Sh(f,e.left+h.placed,l,g,y),h.start=l,h.placed+=g,l=f.bottom}else{const g=e.h*m,y=h.size||f.width;jp(h.start)&&(a=h.start),f.fullSize?Sh(f,a,i.top,y,n.outerHeight-i.bottom-i.top):Sh(f,a,e.top+h.placed,y,g),h.start=a,h.placed+=g,a=f.right}}e.x=a,e.y=l}var fi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=gi(t.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(n-i.height,0),c=JQ(t.boxes),f=c.vertical,h=c.horizontal;Mt(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=f.reduce((C,_)=>_.box.options&&_.box.options.display===!1?C:C+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/m,hBoxMaxHeight:l/2}),y=Object.assign({},i);_D(y,gi(s));const x=Object.assign({maxPadding:y,w:a,h:l,x:i.left,y:i.top},i),b=ZQ(f.concat(h),g);Tu(c.fullSize,x,g,b),Tu(f,x,g,b),Tu(h,x,g,b)&&Tu(f,x,g,b),tK(x),mj(c.leftAndTop,x,g,b),x.x+=x.w,x.y+=x.h,mj(c.rightAndBottom,x,g,b),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Mt(c.chartArea,C=>{const _=C.box;Object.assign(_,t.chartArea),_.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class CD{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class sK extends CD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const zh="$chartjs",iK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gj=t=>t===null||t==="";function rK(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[zh]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gj(i)){const a=nj(t,"width");a!==void 0&&(t.width=a)}if(gj(s))if(t.style.height==="")t.height=t.width/(e||2);else{const a=nj(t,"height");a!==void 0&&(t.height=a)}return t}const ED=yQ?{passive:!0}:!1;function aK(t,e,n){t&&t.addEventListener(e,n,ED)}function oK(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ED)}function lK(t,e){const n=iK[t.type]||t.type,{x:s,y:i}=no(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Lp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function cK(t,e,n){const s=t.canvas,i=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Lp(c.addedNodes,s),l=l&&!Lp(c.removedNodes,s);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function uK(t,e,n){const s=t.canvas,i=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Lp(c.removedNodes,s),l=l&&!Lp(c.addedNodes,s);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const yd=new Map;let yj=0;function ND(){const t=window.devicePixelRatio;t!==yj&&(yj=t,yd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function dK(t,e){yd.size||window.addEventListener("resize",ND),yd.set(t,e)}function fK(t){yd.delete(t),yd.size||window.removeEventListener("resize",ND)}function hK(t,e,n){const s=t.canvas,i=s&&S0(s);if(!i)return;const a=sD((c,f)=>{const h=i.clientWidth;n(c,f),h<i.clientWidth&&n()},window),l=new ResizeObserver(c=>{const f=c[0],h=f.contentRect.width,m=f.contentRect.height;h===0&&m===0||a(h,m)});return l.observe(i),dK(t,a),l}function Mv(t,e,n){n&&n.disconnect(),e==="resize"&&fK(t)}function pK(t,e,n){const s=t.canvas,i=sD(a=>{t.ctx!==null&&n(lK(a,t))},t);return aK(s,e,i),i}class mK extends CD{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(rK(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[zh])return!1;const s=n[zh].initial;["height","width"].forEach(a=>{const l=s[a];Ht(l)?n.removeAttribute(a):n.setAttribute(a,l)});const i=s.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[zh],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),l={attach:cK,detach:uK,resize:hK}[n]||pK;i[n]=l(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Mv,detach:Mv,resize:Mv}[n]||oK)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return gQ(e,n,s,i)}isAttached(e){const n=e&&S0(e);return!!(n&&n.isConnected)}}function gK(t){return!w0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sK:mK}let No=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return pd(this.x)&&pd(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(a=>{i[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),i}};function yK(t,e){const n=t.options.ticks,s=vK(t),i=Math.min(n.maxTicksLimit||s,s),a=n.major.enabled?xK(e):[],l=a.length,c=a[0],f=a[l-1],h=[];if(l>i)return wK(e,h,a,l/i),h;const m=bK(a,e,i);if(l>0){let g,y;const x=l>1?Math.round((f-c)/(l-1)):null;for(_h(e,h,m,Ht(x)?0:c-x,c),g=0,y=l-1;g<y;g++)_h(e,h,m,a[g],a[g+1]);return _h(e,h,m,f,Ht(x)?e.length:f+x),h}return _h(e,h,m),h}function vK(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function bK(t,e,n){const s=SK(t),i=e.length/n;if(!s)return Math.max(i,1);const a=fW(s);for(let l=0,c=a.length-1;l<c;l++){const f=a[l];if(f>i)return f}return Math.max(i,1)}function xK(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function wK(t,e,n,s){let i=0,a=n[0],l;for(s=Math.ceil(s),l=0;l<t.length;l++)l===a&&(e.push(t[l]),i++,a=n[i*s])}function _h(t,e,n,s,i){const a=yt(s,0),l=Math.min(yt(i,t.length),t.length);let c=0,f,h,m;for(n=Math.ceil(n),i&&(f=i-s,n=f/Math.floor(f/n)),m=a;m<0;)c++,m=Math.round(a+c*n);for(h=Math.max(a,0);h<l;h++)h===m&&(e.push(t[h]),c++,m=Math.round(a+c*n))}function SK(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const _K=t=>t==="left"?"right":t==="right"?"left":t,vj=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,bj=(t,e)=>Math.min(e||t,t);function xj(t,e){const n=[],s=t.length/e,i=t.length;let a=0;for(;a<i;a+=s)n.push(t[Math.floor(a)]);return n}function CK(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),a=t._startPixel,l=t._endPixel,c=1e-6;let f=t.getPixelForTick(i),h;if(!(n&&(s===1?h=Math.max(f-a,l-f):e===0?h=(t.getPixelForTick(1)-f)/2:h=(f-t.getPixelForTick(i-1))/2,f+=i<e?h:-h,f<a-c||f>l+c)))return f}function EK(t,e){Mt(t,n=>{const s=n.gc,i=s.length/2;let a;if(i>e){for(a=0;a<i;++a)delete n.data[s[a]];s.splice(0,i)}})}function ju(t){return t.drawTicks?t.tickLength:0}function wj(t,e){if(!t.display)return 0;const n=Wn(t.font,e),s=gi(t.padding);return(jn(t.text)?t.text.length:1)*n.lineHeight+s.height}function NK(t,e){return Eo(t,{scale:e,type:"scale"})}function jK(t,e,n){return Eo(t,{tick:n,index:e,type:"tick"})}function kK(t,e,n){let s=g0(t);return(n&&e!=="right"||!n&&e==="right")&&(s=_K(s)),s}function OK(t,e,n,s){const{top:i,left:a,bottom:l,right:c,chart:f}=t,{chartArea:h,scales:m}=f;let g=0,y,x,b;const C=l-i,_=c-a;if(t.isHorizontal()){if(x=Gn(s,a,c),bt(n)){const k=Object.keys(n)[0],j=n[k];b=m[k].getPixelForValue(j)+C-e}else n==="center"?b=(h.bottom+h.top)/2+C-e:b=vj(t,n,e);y=c-a}else{if(bt(n)){const k=Object.keys(n)[0],j=n[k];x=m[k].getPixelForValue(j)-_+e}else n==="center"?x=(h.left+h.right)/2-_+e:x=vj(t,n,e);b=Gn(s,l,i),g=n==="left"?-ki:ki}return{titleX:x,titleY:b,maxWidth:y,rotation:g}}class oc extends No{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Ii(e,Number.POSITIVE_INFINITY),n=Ii(n,Number.NEGATIVE_INFINITY),s=Ii(s,Number.POSITIVE_INFINITY),i=Ii(i,Number.NEGATIVE_INFINITY),{min:Ii(e,s),max:Ii(n,i),minDefined:Qn(e),maxDefined:Qn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:n,max:s};const c=this.getMatchingVisibleMetas();for(let f=0,h=c.length;f<h;++f)l=c[f].controller.getMinMax(this,e),i||(n=Math.min(n,l.min)),a||(s=Math.max(s,l.max));return n=a&&n>s?s:n,s=i&&n>s?n:s,{min:Ii(n,Ii(s,n)),max:Ii(s,Ii(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=WW(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=c<this.ticks.length;this._convertTicksToLabels(f?xj(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=yK(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,a;for(s=0,i=e.length;s<i;s++)a=e[s],a.label=Wt(n.callback,[a.value,s,e],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=bj(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let l=i,c,f,h;if(!this._isVisible()||!n.display||i>=a||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),g=m.widest.width,y=m.highest.height,x=di(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/s:x/(s-1),g+6>c&&(c=x/(s-(e.offset?.5:1)),f=this.maxHeight-ju(e.grid)-n.padding-wj(e.title,this.chart.options.font),h=Math.sqrt(g*g+y*y),l=gW(Math.min(Math.asin(di((m.highest.height+6)/c,-1,1)),Math.asin(di(f/h,-1,1))-Math.asin(di(y/h,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const f=wj(i,n.options.font);if(c?(e.width=this.maxWidth,e.height=ju(a)+f):(e.height=this.maxHeight,e.width=ju(a)+f),s.display&&this.ticks.length){const{first:h,last:m,widest:g,highest:y}=this._getLabelSizes(),x=s.padding*2,b=uo(this.labelRotation),C=Math.cos(b),_=Math.sin(b);if(c){const k=s.mirror?0:_*g.width+C*y.height;e.height=Math.min(this.maxHeight,e.height+k+x)}else{const k=s.mirror?0:C*g.width+_*y.height;e.width=Math.min(this.maxWidth,e.width+k+x)}this._calculatePadding(h,m,_,C)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:a,padding:l},position:c}=this.options,f=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,x=0;f?h?(y=i*e.width,x=s*n.height):(y=s*e.height,x=i*n.width):a==="start"?x=n.width:a==="end"?y=e.width:a!=="inner"&&(y=e.width/2,x=n.width/2),this.paddingLeft=Math.max((y-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((x-g+l)*this.width/(this.width-g),0)}else{let m=n.height/2,g=e.height/2;a==="start"?(m=0,g=e.height):a==="end"&&(m=n.height,g=0),this.paddingTop=m+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Ht(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=xj(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:a}=this,l=[],c=[],f=Math.floor(n/bj(n,s));let h=0,m=0,g,y,x,b,C,_,k,j,L,O,E;for(g=0;g<n;g+=f){if(b=e[g].label,C=this._resolveTickFontOptions(g),i.font=_=C.string,k=a[_]=a[_]||{data:{},gc:[]},j=C.lineHeight,L=O=0,!Ht(b)&&!jn(b))L=X2(i,k.data,k.gc,L,b),O=j;else if(jn(b))for(y=0,x=b.length;y<x;++y)E=b[y],!Ht(E)&&!jn(E)&&(L=X2(i,k.data,k.gc,L,E),O+=j);l.push(L),c.push(O),h=Math.max(L,h),m=Math.max(O,m)}EK(a,n);const M=l.indexOf(h),T=c.indexOf(m),I=P=>({width:l[P]||0,height:c[P]||0});return{first:I(0),last:I(n-1),widest:I(M),highest:I(T),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return bW(this._alignToPixels?Za(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=jK(this.getContext(),e,s))}return this.$context||(this.$context=NK(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=uo(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*s>c*i?c/s:f/i:f*i<c*s?f/s:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:a,position:l,border:c}=i,f=a.offset,h=this.isHorizontal(),g=this.ticks.length+(f?1:0),y=ju(a),x=[],b=c.setContext(this.getContext()),C=b.display?b.width:0,_=C/2,k=function(B){return Za(s,B,C)};let j,L,O,E,M,T,I,P,z,G,q,K;if(l==="top")j=k(this.bottom),T=this.bottom-y,P=j-_,G=k(e.top)+_,K=e.bottom;else if(l==="bottom")j=k(this.top),G=e.top,K=k(e.bottom)-_,T=j+_,P=this.top+y;else if(l==="left")j=k(this.right),M=this.right-y,I=j-_,z=k(e.left)+_,q=e.right;else if(l==="right")j=k(this.left),z=e.left,q=k(e.right)-_,M=j+_,I=this.left+y;else if(n==="x"){if(l==="center")j=k((e.top+e.bottom)/2+.5);else if(bt(l)){const B=Object.keys(l)[0],Q=l[B];j=k(this.chart.scales[B].getPixelForValue(Q))}G=e.top,K=e.bottom,T=j+_,P=T+y}else if(n==="y"){if(l==="center")j=k((e.left+e.right)/2);else if(bt(l)){const B=Object.keys(l)[0],Q=l[B];j=k(this.chart.scales[B].getPixelForValue(Q))}M=j-_,I=M-y,z=e.left,q=e.right}const re=yt(i.ticks.maxTicksLimit,g),ce=Math.max(1,Math.ceil(g/re));for(L=0;L<g;L+=ce){const B=this.getContext(L),Q=a.setContext(B),se=c.setContext(B),oe=Q.lineWidth,pe=Q.color,A=se.dash||[],R=se.dashOffset,V=Q.tickWidth,ee=Q.tickColor,Y=Q.tickBorderDash||[],je=Q.tickBorderDashOffset;O=CK(this,L,f),O!==void 0&&(E=Za(s,O,oe),h?M=I=z=q=E:T=P=G=K=E,x.push({tx1:M,ty1:T,tx2:I,ty2:P,x1:z,y1:G,x2:q,y2:K,width:oe,color:pe,borderDash:A,borderDashOffset:R,tickWidth:V,tickColor:ee,tickBorderDash:Y,tickBorderDashOffset:je}))}return this._ticksLength=g,this._borderValue=j,x}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:a}=s,l=this.isHorizontal(),c=this.ticks,{align:f,crossAlign:h,padding:m,mirror:g}=a,y=ju(s.grid),x=y+m,b=g?-m:x,C=-uo(this.labelRotation),_=[];let k,j,L,O,E,M,T,I,P,z,G,q,K="middle";if(i==="top")M=this.bottom-b,T=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+b,T=this._getXAxisLabelAlignment();else if(i==="left"){const ce=this._getYAxisLabelAlignment(y);T=ce.textAlign,E=ce.x}else if(i==="right"){const ce=this._getYAxisLabelAlignment(y);T=ce.textAlign,E=ce.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+x;else if(bt(i)){const ce=Object.keys(i)[0],B=i[ce];M=this.chart.scales[ce].getPixelForValue(B)+x}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")E=(e.left+e.right)/2-x;else if(bt(i)){const ce=Object.keys(i)[0],B=i[ce];E=this.chart.scales[ce].getPixelForValue(B)}T=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(f==="start"?K="top":f==="end"&&(K="bottom"));const re=this._getLabelSizes();for(k=0,j=c.length;k<j;++k){L=c[k],O=L.label;const ce=a.setContext(this.getContext(k));I=this.getPixelForTick(k)+a.labelOffset,P=this._resolveTickFontOptions(k),z=P.lineHeight,G=jn(O)?O.length:1;const B=G/2,Q=ce.color,se=ce.textStrokeColor,oe=ce.textStrokeWidth;let pe=T;l?(E=I,T==="inner"&&(k===j-1?pe=this.options.reverse?"left":"right":k===0?pe=this.options.reverse?"right":"left":pe="center"),i==="top"?h==="near"||C!==0?q=-G*z+z/2:h==="center"?q=-re.highest.height/2-B*z+z:q=-re.highest.height+z/2:h==="near"||C!==0?q=z/2:h==="center"?q=re.highest.height/2-B*z:q=re.highest.height-G*z,g&&(q*=-1),C!==0&&!ce.showLabelBackdrop&&(E+=z/2*Math.sin(C))):(M=I,q=(1-G)*z/2);let A;if(ce.showLabelBackdrop){const R=gi(ce.backdropPadding),V=re.heights[k],ee=re.widths[k];let Y=q-R.top,je=0-R.left;switch(K){case"middle":Y-=V/2;break;case"bottom":Y-=V;break}switch(T){case"center":je-=ee/2;break;case"right":je-=ee;break;case"inner":k===j-1?je-=ee:k>0&&(je-=ee/2);break}A={left:je,top:Y,width:ee+R.width,height:V+R.height,color:ce.backdropColor}}_.push({label:O,font:P,textOffset:q,options:{rotation:C,color:Q,strokeColor:se,strokeWidth:oe,textAlign:pe,textBaseline:K,translation:[E,M],backdrop:A}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-uo(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,f=l.widest.width;let h,m;return n==="left"?i?(m=this.right+a,s==="near"?h="left":s==="center"?(h="center",m+=f/2):(h="right",m+=f)):(m=this.right-c,s==="near"?h="right":s==="center"?(h="center",m-=f/2):(h="left",m=this.left)):n==="right"?i?(m=this.left+a,s==="near"?h="right":s==="center"?(h="center",m-=f/2):(h="left",m-=f)):(m=this.left+c,s==="near"?h="left":s==="center"?(h="center",m+=f/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(f,h,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(a=0,l=i.length;a<l;++a){const f=i[a];n.drawOnChartArea&&c({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&c({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,a=s.setContext(this.getContext()),l=s.display?a.width:0;if(!l)return;const c=i.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,m,g,y;this.isHorizontal()?(h=Za(e,this.left,l)-l/2,m=Za(e,this.right,c)+c/2,g=y=f):(g=Za(e,this.top,l)-l/2,y=Za(e,this.bottom,c)+c/2,h=m=f),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(h,g),n.lineTo(m,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&cm(s,i);const a=this.getLabelItems(e);for(const l of a){const c=l.options,f=l.font,h=l.label,m=l.textOffset;gd(s,h,0,m,f,c)}i&&um(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const a=Wn(s.font),l=gi(s.padding),c=s.align;let f=a.lineHeight/2;n==="bottom"||n==="center"||bt(n)?(f+=l.bottom,jn(s.text)&&(f+=a.lineHeight*(s.text.length-1))):f+=l.top;const{titleX:h,titleY:m,maxWidth:g,rotation:y}=OK(this,f,n,c);gd(e,s.text,0,0,a,{color:s.color,maxWidth:g,rotation:y,textAlign:kK(c,n,i),textBaseline:"middle",translation:[h,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=yt(e.grid&&e.grid.z,-1),i=yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==oc.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[s]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Wn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ch{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;DK(n)&&(s=this.register(n));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,LK(e,l,s),this.override&&hn.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in hn[i]&&(delete hn[i][s],this.override&&delete wo[s])}}function LK(t,e,n){const s=hd(Object.create(null),[n?hn.get(n):{},hn.get(e),t.defaults]);hn.set(e,s),t.defaultRoutes&&MK(e,t.defaultRoutes),t.descriptors&&hn.describe(e,t.descriptors)}function MK(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),a=[t].concat(s).join("."),l=e[n].split("."),c=l.pop(),f=l.join(".");hn.route(a,i,f,c)})}function DK(t){return"id"in t&&"defaults"in t}class TK{constructor(){this.controllers=new Ch(wD,"datasets",!0),this.elements=new Ch(No,"elements"),this.plugins=new Ch(Object,"plugins"),this.scales=new Ch(oc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const a=s||this._getRegistryForType(i);s||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Mt(i,l=>{const c=s||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,n,s){const i=p0(e);Wt(s["before"+i],[],s),n[e](s),Wt(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Fi=new TK;class AK{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,n,s);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,n,s,i){i=i||{};for(const a of e){const l=a.plugin,c=l[s],f=[n,i,a.options];if(Wt(c,f,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=yt(s.options&&s.options.plugins,{}),a=RK(s);return i===!1&&!n?[]:IK(e,a,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(a,l)=>a.filter(c=>!l.some(f=>c.plugin.id===f.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function RK(t){const e={},n=[],s=Object.keys(Fi.plugins.items);for(let a=0;a<s.length;a++)n.push(Fi.getPlugin(s[a]));const i=t.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function PK(t,e){return!e&&t===!1?null:t===!0?{}:t}function IK(t,{plugins:e,localIds:n},s,i){const a=[],l=t.getContext();for(const c of e){const f=c.id,h=PK(s[f],i);h!==null&&a.push({plugin:c,options:BK(t.config,{plugin:c,local:n[f]},h,l)})}return a}function BK(t,{plugin:e,local:n},s,i){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(s,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rb(t,e){const n=hn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function UK(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function zK(t,e){return t===e?"_index_":"_value_"}function Sj(t){if(t==="x"||t==="y"||t==="r")return t}function FK(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Pb(t,...e){if(Sj(t))return t;for(const n of e){const s=n.axis||FK(n.position)||t.length>1&&Sj(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function _j(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function HK(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return _j(t,"x",n[0])||_j(t,"y",n[0])}return{}}function $K(t,e){const n=wo[t.type]||{scales:{}},s=e.scales||{},i=Rb(t.type,e),a=Object.create(null);return Object.keys(s).forEach(l=>{const c=s[l];if(!bt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=Pb(l,c,HK(l,t),hn.scales[c.type]),h=zK(f,i),m=n.scales||{};a[l]=$u(Object.create(null),[{axis:f},c,m[f],m[h]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,f=l.indexAxis||Rb(c,e),m=(wo[c]||{}).scales||{};Object.keys(m).forEach(g=>{const y=UK(g,f),x=l[y+"AxisID"]||y;a[x]=a[x]||Object.create(null),$u(a[x],[{axis:y},s[x],m[g]])})}),Object.keys(a).forEach(l=>{const c=a[l];$u(c,[hn.scales[c.type],hn.scale])}),a}function jD(t){const e=t.options||(t.options={});e.plugins=yt(e.plugins,{}),e.scales=$K(t,e)}function kD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function VK(t){return t=t||{},t.data=kD(t.data),jD(t),t}const Cj=new Map,OD=new Set;function Eh(t,e){let n=Cj.get(t);return n||(n=e(),Cj.set(t,n),OD.add(n)),n}const ku=(t,e,n)=>{const s=Np(e,n);s!==void 0&&t.add(s)};class qK{constructor(e){this._config=VK(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=kD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),jD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Eh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Eh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Eh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Eh(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:a}=this,l=this._cachedScopes(e,s),c=l.get(n);if(c)return c;const f=new Set;n.forEach(m=>{e&&(f.add(e),m.forEach(g=>ku(f,e,g))),m.forEach(g=>ku(f,i,g)),m.forEach(g=>ku(f,wo[a]||{},g)),m.forEach(g=>ku(f,hn,g)),m.forEach(g=>ku(f,Db,g))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),OD.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,wo[n]||{},hn.datasets[n]||{},{type:n},hn,Db]}resolveNamedOptions(e,n,s,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=Ej(this._resolverCache,e,i);let f=l;if(YK(l,n)){a.$shared=!1,s=Ea(s)?s():s;const h=this.createResolver(e,s,c);f=ql(l,s,h)}for(const h of n)a[h]=f[h];return a}createResolver(e,n,s=[""],i){const{resolver:a}=Ej(this._resolverCache,e,s);return bt(n)?ql(a,n,void 0,i):a}}function Ej(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let a=s.get(i);return a||(a={resolver:v0(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},s.set(i,a)),a}const GK=t=>bt(t)&&Object.getOwnPropertyNames(t).some(e=>Ea(t[e]));function YK(t,e){const{isScriptable:n,isIndexable:s}=lD(t);for(const i of e){const a=n(i),l=s(i),c=(l||a)&&t[i];if(a&&(Ea(c)||GK(c))||l&&jn(c))return!0}return!1}var WK="4.5.1";const QK=["top","bottom","left","right","chartArea"];function Nj(t,e){return t==="top"||t==="bottom"||QK.indexOf(t)===-1&&e==="x"}function jj(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function kj(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Wt(n&&n.onComplete,[t],e)}function KK(t){const e=t.chart,n=e.options.animation;Wt(n&&n.onProgress,[t],e)}function LD(t){return w0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fh={},Oj=t=>{const e=LD(t);return Object.values(Fh).filter(n=>n.canvas===e).pop()};function XK(t,e,n){const s=Object.keys(t);for(const i of s){const a=+i;if(a>=e){const l=t[i];delete t[i],(n>0||a>e)&&(t[a+n]=l)}}}function ZK(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}let hm=class{static defaults=hn;static instances=Fh;static overrides=wo;static registry=Fi;static version=WK;static getChart=Oj;static register(...e){Fi.add(...e),Lj()}static unregister(...e){Fi.remove(...e),Lj()}constructor(e,n){const s=this.config=new qK(n),i=LD(e),a=Oj(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||gK(i)),this.platform.updateConfig(s);const c=this.platform.acquireContext(i,l.aspectRatio),f=c&&c.canvas,h=f&&f.height,m=f&&f.width;if(this.id=sW(),this.ctx=c,this.canvas=f,this.width=m,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AK,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=CW(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],Fh[this.id]=this,!c||!f){console.error("Failed to create chart: can't acquire context from the given item");return}wr.listen(this,"complete",kj),wr.listen(this,"progress",KK),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:a}=this;return Ht(e)?n&&a?a:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tj(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Z2(this.canvas,this.ctx),this}stop(){return wr.stop(this),this}resize(e,n){wr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,n,a),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,tj(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Wt(s.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Mt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],f=Pb(l,c),h=f==="r",m=f==="x";return{options:c,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),Mt(a,l=>{const c=l.options,f=c.id,h=Pb(f,c),m=yt(c.type,l.dtype);(c.position===void 0||Nj(c.position,h)!==Nj(l.dposition))&&(c.position=l.dposition),i[f]=!0;let g=null;if(f in s&&s[f].type===m)g=s[f];else{const y=Fi.getScale(m);g=new y({id:f,type:m,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(c,e)}),Mt(i,(l,c)=>{l||delete s[c]}),Mt(s,l=>{fi.configure(this,l,l.options),fi.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,a)=>i.index-a.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(jj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(a=>a===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const a=n[s];let l=this.getDatasetMeta(s);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=c,l.indexAxis=a.indexAxis||Rb(c,this.options),l.order=a.order||0,l.index=s,l.label=""+a.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const f=Fi.getController(c),{datasetElementType:h,dataElementType:m}=hn.datasets[c];Object.assign(f,{dataElementType:Fi.getElement(m),datasetElementType:h&&Fi.getElement(h)}),l.controller=new f(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Mt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:g}=this.getDatasetMeta(h),y=!i&&a.indexOf(g)===-1;g.buildOrUpdateElements(y),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),i||Mt(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jj("z","_idx"));const{_active:c,_lastEvent:f}=this;f?this._eventHandler(f,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Mt(this.scales,e=>{fi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!H2(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:a}of n){const l=s==="_removeElements"?-a:a;XK(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),i=s(0);for(let a=1;a<n;a++)if(!H2(i,s(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fi.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Mt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ea(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wr.has(this)?this.attached&&!wr.running(this)&&wr.start(this):(this.draw(),kj({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=vD(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&cm(n,i),e.controller.draw(),i&&um(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return md(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const a=QQ.modes[n];return typeof a=="function"?a(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);jp(n)?(a.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(a,{visible:s}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),wr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Z2(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Fh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},i=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Mt(this.options.events,a=>s(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(f,h)=>{n.addEventListener(this,f,h),e[f]=h},i=(f,h)=>{e[f]&&(n.removeEventListener(this,f,h),delete e[f])},a=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const c=()=>{i("attach",c),this.attached=!0,this.resize(),s("resize",a),s("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),s("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){Mt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Mt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let a,l,c,f;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),c=0,f=e.length;c<f;++c){l=e[c];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Cp(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,a=(f,h)=>f.filter(m=>!h.some(g=>m.datasetIndex===g.datasetIndex&&m.index===g.index)),l=a(n,e),c=s?e:a(e,n);l.length&&this.updateHoverStyle(l,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const a=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(a||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:a}=this,l=n,c=this._getActiveElements(e,i,s,l),f=cW(e),h=ZK(e,this._lastEvent,s,f);s&&(this._lastEvent=null,Wt(a.onHover,[e,c,this],this),f&&Wt(a.onClick,[e,c,this],this));const m=!Cp(c,i);return(m||n)&&(this._active=c,this._updateHoverStyles(c,i,n)),this._lastEvent=h,m}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}};function Lj(){return Mt(hm.instances,t=>t._plugins.invalidate())}function MD(t,e,n=e){t.lineCap=yt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(yt(n.borderDash,e.borderDash)),t.lineDashOffset=yt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=yt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=yt(n.borderWidth,e.borderWidth),t.strokeStyle=yt(n.borderColor,e.borderColor)}function JK(t,e,n){t.lineTo(n.x,n.y)}function eX(t){return t.stepped?BW:t.tension||t.cubicInterpolationMode==="monotone"?UW:JK}function DD(t,e,n={}){const s=t.length,{start:i=0,end:a=s-1}=n,{start:l,end:c}=e,f=Math.max(i,l),h=Math.min(a,c),m=i<l&&a<l||i>c&&a>c;return{count:s,start:f,loop:e.loop,ilen:h<f&&!m?s+h-f:h-f}}function tX(t,e,n,s){const{points:i,options:a}=e,{count:l,start:c,loop:f,ilen:h}=DD(i,n,s),m=eX(a);let{move:g=!0,reverse:y}=s||{},x,b,C;for(x=0;x<=h;++x)b=i[(c+(y?h-x:x))%l],!b.skip&&(g?(t.moveTo(b.x,b.y),g=!1):m(t,C,b,y,a.stepped),C=b);return f&&(b=i[(c+(y?h:0))%l],m(t,C,b,y,a.stepped)),!!f}function nX(t,e,n,s){const i=e.points,{count:a,start:l,ilen:c}=DD(i,n,s),{move:f=!0,reverse:h}=s||{};let m=0,g=0,y,x,b,C,_,k;const j=O=>(l+(h?c-O:O))%a,L=()=>{C!==_&&(t.lineTo(m,_),t.lineTo(m,C),t.lineTo(m,k))};for(f&&(x=i[j(0)],t.moveTo(x.x,x.y)),y=0;y<=c;++y){if(x=i[j(y)],x.skip)continue;const O=x.x,E=x.y,M=O|0;M===b?(E<C?C=E:E>_&&(_=E),m=(g*m+O)/++g):(L(),t.lineTo(O,E),b=M,g=0,C=_=E),k=E}L()}function Ib(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?nX:tX}function sX(t){return t.stepped?vQ:t.tension||t.cubicInterpolationMode==="monotone"?bQ:so}function iX(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),MD(t,e.options),t.stroke(i)}function rX(t,e,n,s){const{segments:i,options:a}=e,l=Ib(e);for(const c of i)MD(t,a,c.style),t.beginPath(),l(t,e,c,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const aX=typeof Path2D=="function";function oX(t,e,n,s){aX&&!e.options.segment?iX(t,e,n,s):rX(t,e,n,s)}class pm extends No{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;uQ(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EQ(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],a=this.points,l=yD(this,{property:n,start:i,end:i});if(!l.length)return;const c=[],f=sX(s);let h,m;for(h=0,m=l.length;h<m;++h){const{start:g,end:y}=l[h],x=a[g],b=a[y];if(x===b){c.push(x);continue}const C=Math.abs((i-x[n])/(b[n]-x[n])),_=f(x,b,C,s.stepped);_[n]=e[n],c.push(_)}return c.length===1?c[0]:c}pathSegment(e,n,s){return Ib(this)(e,this,n,s)}path(e,n,s){const i=this.segments,a=Ib(this);let l=this._loop;n=n||0,s=s||this.points.length-n;for(const c of i)l&=a(e,this,c,{start:n,end:n+s-1});return!!l}draw(e,n,s,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),oX(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Mj(t,e,n,s){const i=t.options,{[n]:a}=t.getProps([n],s);return Math.abs(e-a)<i.radius+i.hitRadius}class lX extends No{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Mj(this,e,"x",n)}inYRange(e,n){return Mj(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!md(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Tb(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function cX(t,e,n){const s=t.segments,i=t.points,a=e.points,l=[];for(const c of s){let{start:f,end:h}=c;h=mm(f,h,i);const m=Bb(n,i[f],i[h],c.loop);if(!e.segments){l.push({source:c,target:m,start:i[f],end:i[h]});continue}const g=yD(e,m);for(const y of g){const x=Bb(n,a[y.start],a[y.end],y.loop),b=gD(c,i,x);for(const C of b)l.push({source:C,target:y,start:{[n]:Dj(m,x,"start",Math.max)},end:{[n]:Dj(m,x,"end",Math.min)}})}}return l}function Bb(t,e,n,s){if(s)return;let i=e[t],a=n[t];return t==="angle"&&(i=Hi(i),a=Hi(a)),{property:t,start:i,end:a}}function uX(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,a=[];return e.segments.forEach(({start:l,end:c})=>{c=mm(l,c,i);const f=i[l],h=i[c];s!==null?(a.push({x:f.x,y:s}),a.push({x:h.x,y:s})):n!==null&&(a.push({x:n,y:f.y}),a.push({x:n,y:h.y}))}),a}function mm(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Dj(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function TD(t,e){let n=[],s=!1;return jn(t)?(s=!0,n=t):n=uX(t,e),n.length?new pm({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Tj(t){return t&&t.fill!==!1}function dX(t,e,n){let i=t[e].fill;const a=[e];let l;if(!n)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Qn(i))return i;if(l=t[i],!l)return!1;if(l.visible)return i;a.push(i),i=l.fill}return!1}function fX(t,e,n){const s=gX(t);if(bt(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Qn(i)&&Math.floor(i)===i?hX(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function hX(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function pX(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:bt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function mX(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:bt(t)?s=t.value:s=e.getBaseValue(),s}function gX(t){const e=t.options,n=e.fill;let s=yt(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function yX(t){const{scale:e,index:n,line:s}=t,i=[],a=s.segments,l=s.points,c=vX(e,n);c.push(TD({x:null,y:e.bottom},s));for(let f=0;f<a.length;f++){const h=a[f];for(let m=h.start;m<=h.end;m++)bX(i,l[m],c)}return new pm({points:i,options:{}})}function vX(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const a=s[i];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function bX(t,e,n){const s=[];for(let i=0;i<n.length;i++){const a=n[i],{first:l,last:c,point:f}=xX(a,e,"x");if(!(!f||l&&c)){if(l)s.unshift(f);else if(t.push(f),!c)break}}t.push(...s)}function xX(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],a=t.segments,l=t.points;let c=!1,f=!1;for(let h=0;h<a.length;h++){const m=a[h],g=l[m.start][n],y=l[m.end][n];if(Ol(i,g,y)){c=i===g,f=i===y;break}}return{first:c,last:f,point:s}}class AD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:a,radius:l}=this;return n=n||{start:0,end:Oi},e.arc(i,a,l,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,a=e.angle;return{x:n+Math.cos(a)*i,y:s+Math.sin(a)*i,angle:a}}}function wX(t){const{chart:e,fill:n,line:s}=t;if(Qn(n))return SX(e,n);if(n==="stack")return yX(t);if(n==="shape")return!0;const i=_X(t);return i instanceof AD?i:TD(i,s)}function SX(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function _X(t){return(t.scale||{}).getPointPositionForValue?EX(t):CX(t)}function CX(t){const{scale:e={},fill:n}=t,s=pX(n,e);if(Qn(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function EX(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,a=s.reverse?e.max:e.min,l=mX(n,e,a),c=[];if(s.grid.circular){const f=e.getPointPositionForValue(0,a);return new AD({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(l)})}for(let f=0;f<i;++f)c.push(e.getPointPositionForValue(f,l));return c}function Dv(t,e,n){const s=wX(e),{chart:i,index:a,line:l,scale:c,axis:f}=e,h=l.options,m=h.fill,g=h.backgroundColor,{above:y=g,below:x=g}=m||{},b=i.getDatasetMeta(a),C=vD(i,b);s&&l.points.length&&(cm(t,n),NX(t,{line:l,target:s,above:y,below:x,area:n,scale:c,axis:f,clip:C}),um(t))}function NX(t,e){const{line:n,target:s,above:i,below:a,area:l,scale:c,clip:f}=e,h=n._loop?"angle":e.axis;t.save();let m=a;a!==i&&(h==="x"?(Aj(t,s,l.top),Tv(t,{line:n,target:s,color:i,scale:c,property:h,clip:f}),t.restore(),t.save(),Aj(t,s,l.bottom)):h==="y"&&(Rj(t,s,l.left),Tv(t,{line:n,target:s,color:a,scale:c,property:h,clip:f}),t.restore(),t.save(),Rj(t,s,l.right),m=i)),Tv(t,{line:n,target:s,color:m,scale:c,property:h,clip:f}),t.restore()}function Aj(t,e,n){const{segments:s,points:i}=e;let a=!0,l=!1;t.beginPath();for(const c of s){const{start:f,end:h}=c,m=i[f],g=i[mm(f,h,i)];a?(t.moveTo(m.x,m.y),a=!1):(t.lineTo(m.x,n),t.lineTo(m.x,m.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Rj(t,e,n){const{segments:s,points:i}=e;let a=!0,l=!1;t.beginPath();for(const c of s){const{start:f,end:h}=c,m=i[f],g=i[mm(f,h,i)];a?(t.moveTo(m.x,m.y),a=!1):(t.lineTo(n,m.y),t.lineTo(m.x,m.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Tv(t,e){const{line:n,target:s,property:i,color:a,scale:l,clip:c}=e,f=cX(n,s,i);for(const{source:h,target:m,start:g,end:y}of f){const{style:{backgroundColor:x=a}={}}=h,b=s!==!0;t.save(),t.fillStyle=x,jX(t,l,c,b&&Bb(i,g,y)),t.beginPath();const C=!!n.pathSegment(t,h);let _;if(b){C?t.closePath():Pj(t,s,y,i);const k=!!s.pathSegment(t,m,{move:C,reverse:!0});_=C&&k,_||Pj(t,s,g,i)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function jX(t,e,n,s){const i=e.chart.chartArea,{property:a,start:l,end:c}=s||{};if(a==="x"||a==="y"){let f,h,m,g;a==="x"?(f=l,h=i.top,m=c,g=i.bottom):(f=i.left,h=l,m=i.right,g=c),t.beginPath(),n&&(f=Math.max(f,n.left),m=Math.min(m,n.right),h=Math.max(h,n.top),g=Math.min(g,n.bottom)),t.rect(f,h,m-f,g-h),t.clip()}}function Pj(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var kX={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let a,l,c,f;for(l=0;l<s;++l)a=t.getDatasetMeta(l),c=a.dataset,f=null,c&&c.options&&c instanceof pm&&(f={visible:t.isDatasetVisible(l),index:l,fill:fX(c,l,s),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=f,i.push(f);for(l=0;l<s;++l)f=i[l],!(!f||f.fill===!1)&&(f.fill=dX(i,l,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=i.length-1;l>=0;--l){const c=i[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),s&&c.fill&&Dv(t.ctx,c,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const a=s[i].$filler;Tj(a)&&Dv(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Tj(s)||n.drawTime!=="beforeDatasetDraw"||Dv(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ij=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},OX=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Bj extends No{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Wt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Wn(s.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:f}=Ij(s,a);let h,m;n.font=i.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(l,a,c,f)+10):(m=this.maxHeight,h=this._fitCols(l,i,c,f)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],m=i+c;let g=e;a.textAlign="left",a.textBaseline="middle";let y=-1,x=-m;return this.legendItems.forEach((b,C)=>{const _=s+n/2+a.measureText(b.text).width;(C===0||h[h.length-1]+_+2*c>l)&&(g+=m,h[h.length-(C>0?0:1)]=0,x+=m,y++),f[C]={left:0,top:x,row:y,width:_,height:i},h[h.length-1]+=_+c}),g}_fitCols(e,n,s,i){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],m=l-e;let g=c,y=0,x=0,b=0,C=0;return this.legendItems.forEach((_,k)=>{const{itemWidth:j,itemHeight:L}=LX(s,n,a,_,i);k>0&&x+L+2*c>m&&(g+=y+c,h.push({width:y,height:x}),b+=y+c,C++,y=x=0),f[k]={left:b,top:x,col:C,width:j,height:L},y=Math.max(y,j),x+=L+c}),g+=y,h.push({width:y,height:x}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:a}}=this,l=Ml(a,this.left,this.width);if(this.isHorizontal()){let c=0,f=Gn(s,this.left+i,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,f=Gn(s,this.left+i,this.right-this.lineWidths[c])),h.top+=this.top+e+i,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+i}else{let c=0,f=Gn(s,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,f=Gn(s,this.top+e+i,this.bottom-this.columnSizes[c].height)),h.top=f,h.left+=this.left+i,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cm(e,this),this._draw(),um(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:a,labels:l}=e,c=hn.color,f=Ml(e.rtl,this.left,this.width),h=Wn(l.font),{padding:m}=l,g=h.size,y=g/2;let x;this.drawTitle(),i.textAlign=f.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:b,boxHeight:C,itemHeight:_}=Ij(l,g),k=function(M,T,I){if(isNaN(b)||b<=0||isNaN(C)||C<0)return;i.save();const P=yt(I.lineWidth,1);if(i.fillStyle=yt(I.fillStyle,c),i.lineCap=yt(I.lineCap,"butt"),i.lineDashOffset=yt(I.lineDashOffset,0),i.lineJoin=yt(I.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=yt(I.strokeStyle,c),i.setLineDash(yt(I.lineDash,[])),l.usePointStyle){const z={radius:C*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:P},G=f.xPlus(M,b/2),q=T+y;aD(i,z,G,q,l.pointStyleWidth&&b)}else{const z=T+Math.max((g-C)/2,0),G=f.leftForLtr(M,b),q=Yu(I.borderRadius);i.beginPath(),Object.values(q).some(K=>K!==0)?Ab(i,{x:G,y:z,w:b,h:C,radius:q}):i.rect(G,z,b,C),i.fill(),P!==0&&i.stroke()}i.restore()},j=function(M,T,I){gd(i,I.text,M,T+_/2,h,{strikethrough:I.hidden,textAlign:f.textAlign(I.textAlign)})},L=this.isHorizontal(),O=this._computeTitleHeight();L?x={x:Gn(a,this.left+m,this.right-s[0]),y:this.top+m+O,line:0}:x={x:this.left+m,y:Gn(a,this.top+O+m,this.bottom-n[0].height),line:0},hD(this.ctx,e.textDirection);const E=_+m;this.legendItems.forEach((M,T)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const I=i.measureText(M.text).width,P=f.textAlign(M.textAlign||(M.textAlign=l.textAlign)),z=b+y+I;let G=x.x,q=x.y;f.setWidth(this.width),L?T>0&&G+z+m>this.right&&(q=x.y+=E,x.line++,G=x.x=Gn(a,this.left+m,this.right-s[x.line])):T>0&&q+E>this.bottom&&(G=x.x=G+n[x.line].width+m,x.line++,q=x.y=Gn(a,this.top+O+m,this.bottom-n[x.line].height));const K=f.x(G);if(k(K,q,M),G=EW(P,G+b+y,L?G+z:this.right,e.rtl),j(f.x(G),q,M),L)x.x+=z+m;else if(typeof M.text!="string"){const re=h.lineHeight;x.y+=RD(M,re)+m}else x.y+=E}),pD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Wn(n.font),i=gi(n.padding);if(!n.display)return;const a=Ml(e.rtl,this.left,this.width),l=this.ctx,c=n.position,f=s.size/2,h=i.top+f;let m,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+h,g=Gn(e.align,g,this.right-y);else{const b=this.columnSizes.reduce((C,_)=>Math.max(C,_.height),0);m=h+Gn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const x=Gn(c,g,g+y);l.textAlign=a.textAlign(g0(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,gd(l,n.text,x,m,s)}_computeTitleHeight(){const e=this.options.title,n=Wn(e.font),s=gi(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,a;if(Ol(e,this.left,this.right)&&Ol(n,this.top,this.bottom)){for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(i=a[s],Ol(e,i.left,i.left+i.width)&&Ol(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!TX(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=OX(i,s);i&&!a&&Wt(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!a&&Wt(n.onHover,[e,s,this],this)}else s&&Wt(n.onClick,[e,s,this],this)}}function LX(t,e,n,s,i){const a=MX(s,t,e,n),l=DX(i,s,e.lineHeight);return{itemWidth:a,itemHeight:l}}function MX(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+s.measureText(i).width}function DX(t,e,n){let s=t;return typeof e.text!="string"&&(s=RD(e,n)),s}function RD(t,e){const n=t.text?t.text.length:0;return e*n}function TX(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var AX={id:"legend",_element:Bj,start(t,e,n){const s=t.legend=new Bj({ctx:t.ctx,options:n,chart:t});fi.configure(t,s,n),fi.addBox(t,s)},stop(t){fi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;fi.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:a,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(n?0:void 0),m=gi(h.borderWidth);return{text:e[f.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:l&&(c||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class PD extends No{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=jn(s.text)?s.text.length:1;this._padding=gi(s.padding);const a=i*Wn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:a,options:l}=this,c=l.align;let f=0,h,m,g;return this.isHorizontal()?(m=Gn(c,s,a),g=n+e,h=a-s):(l.position==="left"?(m=s+e,g=Gn(c,i,n),f=Tn*-.5):(m=a-e,g=Gn(c,n,i),f=Tn*.5),h=i-n),{titleX:m,titleY:g,maxWidth:h,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Wn(n.font),a=s.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:f,rotation:h}=this._drawArgs(a);gd(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:g0(n.align),textBaseline:"middle",translation:[l,c]})}}function RX(t,e){const n=new PD({ctx:t.ctx,options:e,chart:t});fi.configure(t,n,e),fi.addBox(t,n),t.titleBlock=n}var PX={id:"title",_element:PD,start(t,e,n){RX(t,n)},stop(t){const e=t.titleBlock;fi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;fi.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Au={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,a=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const f=c.tooltipPosition();s.add(f.x),i+=f.y,++a}}return a===0||s.size===0?!1:{x:[...s].reduce((c,f)=>c+f)/s.size,y:i/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=t.length;a<l;++a){const f=t[a].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),m=Mb(e,h);m<i&&(i=m,c=f)}}if(c){const f=c.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function zi(t,e){return e&&(jn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Sr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IX(t,e){const{element:n,datasetIndex:s,index:i}=e,a=t.getDatasetMeta(s).controller,{label:l,value:c}=a.getLabelAndValue(i);return{chart:t,label:l,parsed:a.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:c,dataset:a.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Uj(t,e){const n=t.chart.ctx,{body:s,footer:i,title:a}=t,{boxWidth:l,boxHeight:c}=e,f=Wn(e.bodyFont),h=Wn(e.titleFont),m=Wn(e.footerFont),g=a.length,y=i.length,x=s.length,b=gi(e.padding);let C=b.height,_=0,k=s.reduce((O,E)=>O+E.before.length+E.lines.length+E.after.length,0);if(k+=t.beforeBody.length+t.afterBody.length,g&&(C+=g*h.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),k){const O=e.displayColors?Math.max(c,f.lineHeight):f.lineHeight;C+=x*O+(k-x)*f.lineHeight+(k-1)*e.bodySpacing}y&&(C+=e.footerMarginTop+y*m.lineHeight+(y-1)*e.footerSpacing);let j=0;const L=function(O){_=Math.max(_,n.measureText(O).width+j)};return n.save(),n.font=h.string,Mt(t.title,L),n.font=f.string,Mt(t.beforeBody.concat(t.afterBody),L),j=e.displayColors?l+2+e.boxPadding:0,Mt(s,O=>{Mt(O.before,L),Mt(O.lines,L),Mt(O.after,L)}),j=0,n.font=m.string,Mt(t.footer,L),n.restore(),_+=b.width,{width:_,height:C}}function BX(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function UX(t,e,n,s){const{x:i,width:a}=s,l=n.caretSize+n.caretPadding;if(t==="left"&&i+a+l>e.width||t==="right"&&i-a-l<0)return!0}function zX(t,e,n,s){const{x:i,width:a}=n,{width:l,chartArea:{left:c,right:f}}=t;let h="center";return s==="center"?h=i<=(c+f)/2?"left":"right":i<=a/2?h="left":i>=l-a/2&&(h="right"),UX(h,t,e,n)&&(h="center"),h}function zj(t,e,n){const s=n.yAlign||e.yAlign||BX(t,n);return{xAlign:n.xAlign||e.xAlign||zX(t,e,n,s),yAlign:s}}function FX(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function HX(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Fj(t,e,n,s){const{caretSize:i,caretPadding:a,cornerRadius:l}=t,{xAlign:c,yAlign:f}=n,h=i+a,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:x}=Yu(l);let b=FX(e,c);const C=HX(e,f,h);return f==="center"?c==="left"?b+=h:c==="right"&&(b-=h):c==="left"?b-=Math.max(m,y)+i:c==="right"&&(b+=Math.max(g,x)+i),{x:di(b,0,s.width-e.width),y:di(C,0,s.height-e.height)}}function Nh(t,e,n){const s=gi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Hj(t){return zi([],Sr(t))}function $X(t,e,n){return Eo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function $j(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ID={beforeTitle:xr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:xr,beforeBody:xr,beforeLabel:xr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ht(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:xr,afterBody:xr,beforeFooter:xr,footer:xr,afterFooter:xr};function ys(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?ID[e].call(n,s):i}class Vj extends No{static positioners=Au;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,a=new bD(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=$X(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=ys(s,"beforeTitle",this,e),a=ys(s,"title",this,e),l=ys(s,"afterTitle",this,e);let c=[];return c=zi(c,Sr(i)),c=zi(c,Sr(a)),c=zi(c,Sr(l)),c}getBeforeBody(e,n){return Hj(ys(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Mt(e,a=>{const l={before:[],lines:[],after:[]},c=$j(s,a);zi(l.before,Sr(ys(c,"beforeLabel",this,a))),zi(l.lines,ys(c,"label",this,a)),zi(l.after,Sr(ys(c,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,n){return Hj(ys(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=ys(s,"beforeFooter",this,e),a=ys(s,"footer",this,e),l=ys(s,"afterFooter",this,e);let c=[];return c=zi(c,Sr(i)),c=zi(c,Sr(a)),c=zi(c,Sr(l)),c}_createItems(e){const n=this._active,s=this.chart.data,i=[],a=[],l=[];let c=[],f,h;for(f=0,h=n.length;f<h;++f)c.push(IX(this.chart,n[f]));return e.filter&&(c=c.filter((m,g,y)=>e.filter(m,g,y,s))),e.itemSort&&(c=c.sort((m,g)=>e.itemSort(m,g,s))),Mt(c,m=>{const g=$j(e.callbacks,m);i.push(ys(g,"labelColor",this,m)),a.push(ys(g,"labelPointStyle",this,m)),l.push(ys(g,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const c=Au[s.position].call(this,i,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const f=this._size=Uj(this,s),h=Object.assign({},c,f),m=zj(this.chart,s,h),g=Fj(s,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const a=this.getCaretPosition(e,s,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:c}=s,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:g}=Yu(c),{x:y,y:x}=e,{width:b,height:C}=n;let _,k,j,L,O,E;return a==="center"?(O=x+C/2,i==="left"?(_=y,k=_-l,L=O+l,E=O-l):(_=y+b,k=_+l,L=O-l,E=O+l),j=_):(i==="left"?k=y+Math.max(f,m)+l:i==="right"?k=y+b-Math.max(h,g)-l:k=this.caretX,a==="top"?(L=x,O=L-l,_=k-l,j=k+l):(L=x+C,O=L+l,_=k+l,j=k-l),E=L),{x1:_,x2:k,x3:j,y1:L,y2:O,y3:E}}drawTitle(e,n,s){const i=this.title,a=i.length;let l,c,f;if(a){const h=Ml(s.rtl,this.x,this.width);for(e.x=Nh(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",l=Wn(s.titleFont),c=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,f=0;f<a;++f)n.fillText(i[f],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,f+1===a&&(e.y+=s.titleMarginBottom-c)}}_drawColorBox(e,n,s,i,a){const l=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:f,boxWidth:h}=a,m=Wn(a.bodyFont),g=Nh(this,"left",a),y=i.x(g),x=f<m.lineHeight?(m.lineHeight-f)/2:0,b=n.y+x;if(a.usePointStyle){const C={radius:Math.min(h,f)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=i.leftForLtr(y,h)+h/2,k=b+f/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Tb(e,C,_,k),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Tb(e,C,_,k)}else{e.lineWidth=bt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const C=i.leftForLtr(y,h),_=i.leftForLtr(i.xPlus(y,1),h-2),k=Yu(l.borderRadius);Object.values(k).some(j=>j!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ab(e,{x:C,y:b,w:h,h:f,radius:k}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Ab(e,{x:_,y:b+1,w:h-2,h:f-2,radius:k}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(C,b,h,f),e.strokeRect(C,b,h,f),e.fillStyle=l.backgroundColor,e.fillRect(_,b+1,h-2,f-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:f,boxWidth:h,boxPadding:m}=s,g=Wn(s.bodyFont);let y=g.lineHeight,x=0;const b=Ml(s.rtl,this.x,this.width),C=function(I){n.fillText(I,b.x(e.x+x),e.y+y/2),e.y+=y+a},_=b.textAlign(l);let k,j,L,O,E,M,T;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,e.x=Nh(this,_,s),n.fillStyle=s.bodyColor,Mt(this.beforeBody,C),x=c&&_!=="right"?l==="center"?h/2+m:h+2+m:0,O=0,M=i.length;O<M;++O){for(k=i[O],j=this.labelTextColors[O],n.fillStyle=j,Mt(k.before,C),L=k.lines,c&&L.length&&(this._drawColorBox(n,e,O,b,s),y=Math.max(g.lineHeight,f)),E=0,T=L.length;E<T;++E)C(L[E]),y=g.lineHeight;Mt(k.after,C)}x=0,y=g.lineHeight,Mt(this.afterBody,C),e.y-=a}drawFooter(e,n,s){const i=this.footer,a=i.length;let l,c;if(a){const f=Ml(s.rtl,this.x,this.width);for(e.x=Nh(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",l=Wn(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(i[c],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:a,yAlign:l}=this,{x:c,y:f}=e,{width:h,height:m}=s,{topLeft:g,topRight:y,bottomLeft:x,bottomRight:b}=Yu(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(c+g,f),l==="top"&&this.drawCaret(e,n,s,i),n.lineTo(c+h-y,f),n.quadraticCurveTo(c+h,f,c+h,f+y),l==="center"&&a==="right"&&this.drawCaret(e,n,s,i),n.lineTo(c+h,f+m-b),n.quadraticCurveTo(c+h,f+m,c+h-b,f+m),l==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(c+x,f+m),n.quadraticCurveTo(c,f+m,c,f+m-x),l==="center"&&a==="left"&&this.drawCaret(e,n,s,i),n.lineTo(c,f+g),n.quadraticCurveTo(c,f,c+g,f),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,a=s&&s.y;if(i||a){const l=Au[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Uj(this,e),f=Object.assign({},l,this._size),h=zj(n,e,f),m=Fj(e,f,h,n);(i._to!==m.x||a._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=gi(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=s,this.drawBackground(a,e,i,n),hD(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),pD(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:c,index:f})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[f],index:f}}),a=!Cp(s,i),l=this._positionChanged(i,n);(a||l)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,s),c=this._positionChanged(l,e),f=n||!Cp(l,a)||c;return f&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,s,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,s);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:s,caretY:i,options:a}=this,l=Au[a.position].call(this,e,n);return l!==!1&&(s!==l.x||i!==l.y)}}var VX={id:"tooltip",_element:Vj,positioners:Au,afterInit(t,e,n){n&&(t.tooltip=new Vj({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ID},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qX=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function GX(t,e,n,s){const i=t.indexOf(e);if(i===-1)return qX(t,e,n,s);const a=t.lastIndexOf(e);return i!==a?n:i}const YX=(t,e)=>t===null?null:di(Math.round(t),0,e);function qj(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class WX extends oc{static id="category";static defaults={ticks:{callback:qj}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:a}of n)s[i]===a&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ht(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:GX(s,e,yt(n,e),this._addedLabels),YX(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=n;l++)i.push({value:l});return i}getLabelForValue(e){return qj.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function QX(t,e){const n=[],{bounds:i,step:a,min:l,max:c,precision:f,count:h,maxTicks:m,maxDigits:g,includeBounds:y}=t,x=a||1,b=m-1,{min:C,max:_}=e,k=!Ht(l),j=!Ht(c),L=!Ht(h),O=(_-C)/(g+1);let E=V2((_-C)/b/x)*x,M,T,I,P;if(E<1e-14&&!k&&!j)return[{value:C},{value:_}];P=Math.ceil(_/E)-Math.floor(C/E),P>b&&(E=V2(P*E/b/x)*x),Ht(f)||(M=Math.pow(10,f),E=Math.ceil(E*M)/M),i==="ticks"?(T=Math.floor(C/E)*E,I=Math.ceil(_/E)*E):(T=C,I=_),k&&j&&a&&pW((c-l)/a,E/1e3)?(P=Math.round(Math.min((c-l)/E,m)),E=(c-l)/P,T=l,I=c):L?(T=k?l:T,I=j?c:I,P=h-1,E=(I-T)/P):(P=(I-T)/E,Vu(P,Math.round(P),E/1e3)?P=Math.round(P):P=Math.ceil(P));const z=Math.max(q2(E),q2(T));M=Math.pow(10,Ht(f)?z:f),T=Math.round(T*M)/M,I=Math.round(I*M)/M;let G=0;for(k&&(y&&T!==l?(n.push({value:l}),T<l&&G++,Vu(Math.round((T+G*E)*M)/M,l,Gj(l,O,t))&&G++):T<l&&G++);G<P;++G){const q=Math.round((T+G*E)*M)/M;if(j&&q>c)break;n.push({value:q})}return j&&y&&I!==c?n.length&&Vu(n[n.length-1].value,c,Gj(c,O,t))?n[n.length-1].value=c:n.push({value:c}):(!j||I===c)&&n.push({value:I}),n}function Gj(t,e,{horizontal:n,minRotation:s}){const i=uo(s),a=(n?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class KX extends oc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ht(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:a}=this;const l=f=>i=n?i:f,c=f=>a=s?a:f;if(e){const f=Vl(i),h=Vl(a);f<0&&h<0?c(0):f>0&&h>0&&l(0)}if(i===a){let f=a===0?1:Math.abs(a*.05);c(a+f),e||l(i-f)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=QX(i,a);return e.bounds==="ticks"&&mW(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return iD(e,this.chart.options.locale,this.options.ticks.format)}}class XX extends KX{static id="linear";static defaults={ticks:{callback:rD.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Qn(e)?e:0,this.max=Qn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=uo(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const gm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xs=Object.keys(gm);function Yj(t,e){return t-e}function Wj(t,e){if(Ht(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:a}=t._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),Qn(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(i&&(l=i==="week"&&(pd(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,i)),+l)}function Qj(t,e,n,s){const i=xs.length;for(let a=xs.indexOf(t);a<i-1;++a){const l=gm[xs[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(c*l.size))<=s)return xs[a]}return xs[i-1]}function ZX(t,e,n,s,i){for(let a=xs.length-1;a>=xs.indexOf(n);a--){const l=xs[a];if(gm[l].common&&t._adapter.diff(i,s,l)>=e-1)return l}return xs[n?xs.indexOf(n):0]}function JX(t){for(let e=xs.indexOf(t)+1,n=xs.length;e<n;++e)if(gm[xs[e]].common)return xs[e]}function Kj(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=m0(n,e),a=n[s]>=e?n[s]:n[i];t[a]=!0}}function eZ(t,e,n,s){const i=t._adapter,a=+i.startOf(e[0].value,s),l=e[e.length-1].value;let c,f;for(c=a;c<=l;c=+i.add(c,1,s))f=n[c],f>=0&&(e[f].major=!0);return e}function Xj(t,e,n){const s=[],i={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],i[c]=l,s.push({value:c,major:!1});return a===0||!n?s:eZ(t,s,i,n)}class Zj extends oc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new VQ._date(e.adapters.date);i.init(n),$u(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Wj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!c)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),i=Qn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),a=Qn(a)&&!isNaN(a)?a:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,c=wW(i,a,l);return this._unit=n.unit||(s.autoSkip?Qj(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):ZX(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:JX(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),Xj(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?s=a:s=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=di(n,0,l),s=di(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,a=i.time,l=a.unit||Qj(a.minUnit,n,s,this._getLabelCapacity(n)),c=yt(i.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,h=pd(f)||f===!0,m={};let g=n,y,x;if(h&&(g=+e.startOf(g,"isoWeek",f)),g=+e.startOf(g,h?"day":l),e.diff(s,n,l)>1e5*c)throw new Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+l);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(y=g,x=0;y<s;y=+e.add(y,c,l),x++)Kj(m,y,b);return(y===s||i.bounds==="ticks"||x===1)&&Kj(m,y,b),Object.keys(m).sort(Yj).map(C=>+C)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,a=this._unit,l=n||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,s,i){const a=this.options,l=a.ticks.callback;if(l)return Wt(l,[e,n,s],this);const c=a.time.displayFormats,f=this._unit,h=this._majorUnit,m=f&&c[f],g=h&&c[h],y=s[n],x=h&&g&&y&&y.major;return this._adapter.format(e,i||(x?g:m))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=uo(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),l=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:s*a+c*l,h:s*l+c*a}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,a=this._tickFormatFunction(e,0,Xj(this,[e],this._majorUnit),i),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Wj(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _W(e.sort(Yj))}}function jh(t,e,n){let s=0,i=t.length-1,a,l,c,f;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=fo(t,"pos",e)),{pos:a,time:c}=t[s],{pos:l,time:f}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=fo(t,"time",e)),{time:a,pos:c}=t[s],{time:l,pos:f}=t[i]);const h=l-a;return h?c+(f-c)*(e-a)/h:c}class EJ extends Zj{static id="timeseries";static defaults=Zj.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=jh(n,this.min),this._tableRange=jh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],a=[];let l,c,f,h,m;for(l=0,c=e.length;l<c;++l)h=e[l],h>=n&&h<=s&&i.push(h);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,c=i.length;l<c;++l)m=i[l+1],f=i[l-1],h=i[l],Math.round((m+f)/2)!==h&&a.push({time:h,pos:l/(c-1)});return a}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(jh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return jh(this._table,s*this._tableRange+this._minPos,!0)}}const BD="label";function Jj(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function tZ(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function UD(t,e){t.labels=e}function zD(t,e,n=BD){const s=[];t.datasets=e.map(i=>{const a=t.datasets.find(l=>l[n]===i[n]);return!a||!i.data||s.includes(a)?{...i}:(s.push(a),Object.assign(a,i),a)})}function nZ(t,e=BD){const n={labels:[],datasets:[]};return UD(n,t.labels),zD(n,t.datasets,e),n}function sZ(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:a,type:l,data:c,options:f,plugins:h=[],fallbackContent:m,updateMode:g,...y}=t,x=w.useRef(null),b=w.useRef(null),C=()=>{x.current&&(b.current=new hm(x.current,{type:l,data:nZ(c,a),options:f&&{...f},plugins:h}),Jj(e,b.current))},_=()=>{Jj(e,null),b.current&&(b.current.destroy(),b.current=null)};return w.useEffect(()=>{!i&&b.current&&f&&tZ(b.current,f)},[i,f]),w.useEffect(()=>{!i&&b.current&&UD(b.current.config.data,c.labels)},[i,c.labels]),w.useEffect(()=>{!i&&b.current&&c.datasets&&zD(b.current.config.data,c.datasets,a)},[i,c.datasets]),w.useEffect(()=>{b.current&&(i?(_(),setTimeout(C)):b.current.update(g))},[i,f,c.labels,c.datasets,g]),w.useEffect(()=>{b.current&&(_(),setTimeout(C))},[l]),w.useEffect(()=>(C(),()=>_()),[]),d.jsx("canvas",{ref:x,role:"img",height:n,width:s,...y,children:m})}const iZ=w.forwardRef(sZ);function rZ(t,e){return hm.register(e),w.forwardRef((n,s)=>d.jsx(iZ,{...n,ref:s,type:t}))}const aZ=rZ("line",$Q),Ou={async getKpiSummary(t){return(await Le.get("/statistics/summary",{params:t})).data},async getEarningsChart(t){return(await Le.get("/statistics/chart",{params:t})).data},async getTopProducts(t){return(await Le.get("/statistics/top-products",{params:t})).data},async getPlatformDebt(t){return(await Le.get(`/statistics/${t}/platform-debt`)).data},async getFinancialSummary(t){return(await Le.get("/statistics/financials",{params:t})).data}},oZ=t=>{const{handleError:e}=Hn(),{activeRestaurant:n}=Tt(),s={startDate:t?.startDate,endDate:t?.endDate,restaurantId:n?.id},{data:i,isLoading:a,isError:l}=Nn({queryKey:["statistics","summary",s],queryFn:async()=>{try{return await Ou.getKpiSummary(s)}catch(L){throw e(L),L}},enabled:!!n?.id}),{data:c=[],isLoading:f,isError:h}=Nn({queryKey:["statistics","chart",s],queryFn:async()=>{try{return await Ou.getEarningsChart(s)}catch(L){throw e(L),L}},enabled:!!n?.id}),{data:m=[],isLoading:g,isError:y}=Nn({queryKey:["statistics","top-products",s],queryFn:async()=>{try{return await Ou.getTopProducts(s)}catch(L){throw e(L),L}},enabled:!!n?.id}),{data:x,isLoading:b,isError:C}=Nn({queryKey:["statistics","platform-debt",s],queryFn:async()=>{try{return await Ou.getPlatformDebt(s.restaurantId)}catch(L){throw e(L),L}},enabled:!!n?.id}),{data:_,isLoading:k,isError:j}=Nn({queryKey:["statistics","financials",s],queryFn:async()=>{try{return await Ou.getFinancialSummary(s)}catch(L){throw e(L),L}},enabled:!!n?.id});return{summary:i,chartData:c,topProducts:m,platformDebt:x,financialSummary:_,isLoadingSummary:a,isLoadingChart:f,isLoadingTopProducts:g,isLoadingPlatformDebt:b,isLoadingFinancials:k,isFetchingAny:a||f||g||b||k,isErrorSummary:l,isErrorChart:h,isErrorTopProducts:y,isErrorPlatformDebt:C,isErrorFinancials:j,hasAnyError:l||h||y||C||j}};hm.register(WX,XX,lX,pm,PX,VX,kX,AX);const Av=({title:t})=>d.jsxs("div",{className:"flex items-center space-x-4 mb-4 mt-8 first:mt-0",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t}),d.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),lZ=()=>{const{t}=Ve(),{activeRestaurant:e}=Tt(),{user:n}=$t(),[s,i]=w.useState(()=>{const L=new Date,O=new Date(L.getFullYear(),L.getMonth(),1),E=new Date(L.getFullYear(),L.getMonth()+1,0);return{startDate:O.toISOString().split("T")[0],endDate:E.toISOString().split("T")[0]}}),{summary:a,chartData:l,topProducts:c,platformDebt:f,financialSummary:h,isFetchingAny:m,hasAnyError:g}=oZ(s),{generatePaymentLink:y,isGeneratingPaymentLink:x}=tL(),b=L=>`$${Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(L||0)}`,C=L=>{if(!L)return"";const[O,E,M]=L.split("-"),T=new Date(parseInt(O),parseInt(E)-1,parseInt(M));return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(T)},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:L=>` ${b(L.raw)}`},backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,cornerRadius:8}},scales:{x:{grid:{display:!1},ticks:{color:"#888"}},y:{border:{display:!1},grid:{color:"#eee"},ticks:{color:"#888",callback:L=>`$${L}`}}}},k={labels:l.map(L=>C(L.date)),datasets:[{fill:!0,label:"Revenue",data:l.map(L=>L.dailyEarnings),borderColor:"#EE8410",backgroundColor:"rgba(245, 166, 35, 0.15)",tension:.4,pointBackgroundColor:"#EE8410",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},j=async L=>{try{const O=await y({id:L});O!=null&&O?.url&&window.open(O.url,"_blank")}catch(O){console.error("Error generating payment link:",O)}};return g?d.jsx("div",{className:"p-6 text-red-500",children:t("common.error_loading_data")}):d.jsx(Vt,{title:t("statistics.title","Dashboard"),subtitle:t("statistics.description","Monitor your restaurant's performance"),isLoading:m,isEmpty:!1,emptyLabel:t("statistics.empty","No data available"),emptyIcon:IR,renderControls:d.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full sm:w-auto",children:[d.jsx("input",{type:"date",value:s.startDate,onChange:L=>i(O=>({...O,startDate:L.target.value})),className:"w-full sm:w-auto border-gray-300 rounded-md shadow-sm text-sm p-2 focus:ring-primary focus:border-primary outline-none border"}),d.jsx("span",{className:"text-gray-500 hidden sm:block",children:t("common.to","to")}),d.jsx("input",{type:"date",value:s.endDate,onChange:L=>i(O=>({...O,endDate:L.target.value})),className:"w-full sm:w-auto border-gray-300 rounded-md shadow-sm text-sm p-2 focus:ring-primary focus:border-primary outline-none border"})]}),children:d.jsxs("div",{className:"pb-20 space-y-8",children:[d.jsx("div",{children:(Vs(n)||SC(n)&&f&&f.debtAmount<0)&&d.jsxs("div",{children:[d.jsx(Av,{title:t("statistics.sections.platform","Platform & Debt")}),Vs(n)&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-t-4 border-t-purple-500",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.total_commissions","Platform Commissions")}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m?"...":b(h?.totalPlatformCommissions)})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-t-4 border-t-indigo-500",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.net_profit","Net Profit (After Refunds)")}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m?"...":b(h?.netPlatformProfit)})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-t-4 border-t-teal-500",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.debt_settled","Total Debt Settled")}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m?"...":b(h?.totalDebtSettled)})]})]}),SC(n)&&f&&f.debtAmount<0&&d.jsx("div",{className:"bg-red-50 p-6 rounded-xl shadow-sm border border-red-100 border-t-4 border-t-red-500 mb-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-red-800",children:t("statistics.platform_debt","Platform Debt Attention")}),d.jsx("p",{className:"text-sm text-red-600 mt-1",children:t("statistics.platform_debt_description","You have an outstanding balance from cash order commissions.")}),d.jsx("p",{className:"text-3xl font-black text-red-900 mt-3",children:m?"...":b(Math.abs(f.debtAmount))})]}),d.jsx("div",{children:d.jsx(Fe,{variant:"danger",isLoading:x,onClick:()=>j(e?.id||""),children:t("statistics.generate_payment_link","Pay Outstanding Debt")})})]})})]})}),d.jsxs("div",{children:[d.jsx(Av,{title:t("statistics.sections.financial","Financial Overview")}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-t-4 border-t-orange-500",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.total_revenue","Total Revenue")}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m?"...":b(a?.totalEarnings)})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-t-4 border-t-blue-500",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.card_revenue","Card Revenue")}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m?"...":b(h?.totalCardRevenue)})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-t-4 border-t-green-500",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.cash_revenue","Cash Revenue")}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m?"...":b(h?.totalCashRevenue)})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-t-4 border-t-rose-500",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.total_refunded","Total Refunded")}),d.jsx("p",{className:"text-3xl font-bold text-rose-600 mt-2",children:m?"...":`-${b(h?.totalRefunded)}`})]})]})]}),d.jsxs("div",{children:[d.jsx(Av,{title:t("statistics.sections.orders","Orders & Products")}),d.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl shadow-sm border border-gray-100 border-l-4 border-l-blue-500 inline-block pr-12",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t("statistics.total_orders","Total Delivered Orders")}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m?"...":a?.totalOrders||0})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"col-span-1 lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:t("statistics.revenue_over_time","Revenue Over Time")}),d.jsx("div",{className:"h-[320px] w-full",children:d.jsx(aZ,{data:k,options:_})})]}),d.jsxs("div",{className:"col-span-1 bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t("statistics.top_products","Top Selling Products")}),d.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:t("statistics.best_sellers","Best Sellers")})]}),d.jsx("div",{className:"overflow-x-auto flex-1",children:d.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[d.jsx("thead",{className:"text-xs text-gray-700 uppercase border-b border-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-4 py-3 font-medium",children:t("common.product","Product")}),d.jsx("th",{scope:"col",className:"px-4 py-3 font-medium text-right",children:t("common.sold","Sold")}),d.jsx("th",{scope:"col",className:"px-4 py-3 font-medium text-right",children:t("common.revenue","Revenue")})]})}),d.jsxs("tbody",{children:[c.map(L=>d.jsxs("tr",{className:"border-b border-gray-100 last:border-0 hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 truncate max-w-[120px]",title:L.productName,children:L.productName}),d.jsx("td",{className:"px-4 py-3 text-right",children:L.totalSold}),d.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:b(L.revenueGenerated)})]},L.productId||L.productName)),c.length===0&&!m&&d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:t("statistics.no_sales_data","No sales data for this period.")})})]})]})})]})]})]})]})})},cZ=()=>{const{t}=Ve(),e=Cs(),[n]=ax(),s=n.get("status");return d.jsx(Vt,{title:"",children:d.jsx("div",{className:"flex items-center justify-center min-h-[70vh] p-4",children:d.jsx("div",{className:"w-full max-w-lg",children:s==="success"?d.jsxs("div",{className:"bg-background-card border border-border rounded-3xl p-8 shadow-xl text-center space-y-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-500"}),d.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-green-500/10 rounded-full blur-3xl"}),d.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:d.jsx(Yi,{className:"w-10 h-10"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(H.H3,{className:"text-green-700 dark:text-green-400",children:t("stripe.payment_success")}),d.jsx(H.Body,{className:"text-text-muted text-lg",children:t("stripe.payment_success_desc")})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-2xl border border-border text-left flex items-center gap-4",children:[d.jsx("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:d.jsx($b,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-text-main",children:t("stripe.payment_status")}),d.jsxs("p",{className:"text-xs text-text-muted",children:["Status: ",d.jsx("span",{className:"text-green-500 font-bold",children:t("stripe.verified")})]})]})]}),d.jsx("div",{className:"pt-4",children:d.jsxs(Fe,{onClick:()=>e("/"),className:"w-full justify-center py-3 text-base",children:[t("common.go_dashboard")," ",d.jsx(Mp,{className:"w-4 h-4 ml-2"})]})})]}):d.jsxs("div",{className:"bg-background-card border border-amber-200 dark:border-amber-900/50 rounded-3xl p-8 shadow-lg text-center space-y-6 relative",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-amber-500"}),d.jsx("div",{className:"w-20 h-20 bg-amber-100 dark:bg-amber-900/30 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Zu,{className:"w-10 h-10"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(H.H3,{className:"text-amber-700 dark:text-amber-500",children:t("stripe.payment_failure")}),d.jsx(H.Body,{className:"text-text-muted",children:t("stripe.payment_failure_desc")})]}),d.jsx("div",{className:"pt-4 flex flex-col gap-3",children:d.jsxs(Fe,{variant:"ghost",onClick:()=>e("/"),className:"w-full justify-center",children:[d.jsx(Vb,{className:"w-4 h-4 mr-2"})," ",t("common.return_home")]})})]})})})})};function uZ(){return d.jsxs(q5,{children:[d.jsx(BF,{}),d.jsx(NY,{}),d.jsx(ZF,{}),d.jsx(zF,{}),d.jsxs(x5,{children:[d.jsx(Ye,{path:"/payments/onboarding/success/:id",element:d.jsx(kY,{})}),d.jsx(Ye,{path:"/payments/onboarding/refresh/:id",element:d.jsx(jY,{})}),d.jsx(Ye,{path:"/payments/restaurant/finance",element:d.jsx(cZ,{})}),d.jsx(Ye,{path:"/",element:d.jsx(VF,{})}),d.jsx(Ye,{path:"/unauthorized",element:d.jsx(GF,{})}),d.jsx(Ye,{element:d.jsx(qF,{}),children:d.jsx(Ye,{path:"/login",element:d.jsx(TU,{})})}),d.jsx(Ye,{element:d.jsx(EE,{allowedRoles:[Us.SUPER_ADMIN]}),children:d.jsxs(Ye,{path:"/admin",element:d.jsx(pE,{}),children:[d.jsx(Ye,{path:"restaurants",element:d.jsx($F,{})}),d.jsx(Ye,{path:"restaurants/add",element:d.jsx($N,{})}),d.jsx(Ye,{path:"restaurants/edit/:id",element:d.jsx($N,{})}),d.jsx(Ye,{path:"users",element:d.jsx(SE,{})}),d.jsx(Ye,{path:"users/add",element:d.jsx(ch,{})}),d.jsx(Ye,{path:"users/edit/:id",element:d.jsx(ch,{})}),d.jsx(Ye,{path:"categories",element:d.jsx(LY,{})}),d.jsx(Ye,{path:"categories/add",element:d.jsx(A2,{})}),d.jsx(Ye,{path:"categories/edit/:id",element:d.jsx(A2,{})})]})}),d.jsx(Ye,{element:d.jsx(EE,{allowedRoles:[Us.SUPER_ADMIN,Us.ADMIN,Us.MANAGER]}),children:d.jsxs(Ye,{path:"/dashboard",element:d.jsx(pE,{}),children:[d.jsx(Ye,{path:"home",element:d.jsx(lZ,{})}),d.jsx(Ye,{path:"orders",element:d.jsx(kF,{})}),d.jsx(Ye,{path:"users",element:d.jsx(SE,{})}),d.jsx(Ye,{path:"users/add",element:d.jsx(ch,{})}),d.jsx(Ye,{path:"users/edit/:id",element:d.jsx(ch,{})}),d.jsx(Ye,{path:"menu-sections",element:d.jsx(e9,{})}),d.jsx(Ye,{path:"menu-sections/add",element:d.jsx(VN,{})}),d.jsx(Ye,{path:"menu-sections/edit/:id",element:d.jsx(VN,{})}),d.jsx(Ye,{path:"products",element:d.jsx(RF,{})}),d.jsx(Ye,{path:"products/add",element:d.jsx(L2,{})}),d.jsx(Ye,{path:"products/edit/:id",element:d.jsx(L2,{})}),d.jsx(Ye,{path:"schedule",element:d.jsx(XF,{})}),d.jsx(Ye,{path:"schedule/add",element:d.jsx(vY,{})}),d.jsx(Ye,{path:"drivers",element:d.jsx(SY,{})}),d.jsx(Ye,{path:"drivers/add",element:d.jsx(M2,{})}),d.jsx(Ye,{path:"drivers/edit/:id",element:d.jsx(M2,{})}),d.jsx(Ye,{path:"modifiers",element:d.jsx(CY,{})}),d.jsx(Ye,{path:"modifiers/add",element:d.jsx(D2,{})}),d.jsx(Ye,{path:"modifiers/edit/:id",element:d.jsx(D2,{})}),d.jsx(Ye,{path:"promotions",element:d.jsx(DY,{})}),d.jsx(Ye,{path:"promotions/add",element:d.jsx(R2,{})}),d.jsx(Ye,{path:"promotions/edit/:id",element:d.jsx(R2,{})}),d.jsx(Ye,{path:"coupons",element:d.jsx(AY,{})}),d.jsx(Ye,{path:"coupons/add",element:d.jsx(P2,{})}),d.jsx(Ye,{path:"coupons/edit/:id",element:d.jsx(P2,{})})]})}),d.jsx(Ye,{path:"*",element:d.jsx(pa,{to:"/",replace:!0})})]})]})}const dZ=new c3({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),{slice:fZ,forEach:hZ}=[];function pZ(t){return hZ.call(fZ.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function mZ(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const ek=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gZ=function(t,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(s.maxAge>0){const l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(l)}`}if(s.domain){if(!ek.test(s.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${s.domain}`}if(s.path){if(!ek.test(s.path))throw new TypeError("option path is invalid");a+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(a+="; Partitioned"),a},tk={create(t,e,n,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),s&&(i.domain=s),document.cookie=gZ(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let i=n[s];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var yZ={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return tk.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:s,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&tk.create(n,t,s,i,a)}},vZ={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const a=s.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(n=a[l].substring(c+1))}}return n}},bZ={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,s;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const l=a.split("&");for(let c=0;c<l.length;c++){const f=l[c].indexOf("=");f>0&&l[c].substring(0,f)===e&&(s=l[c].substring(f+1))}}if(s)return s;if(!s&&n>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let Cl=null;const nk=()=>{if(Cl!==null)return Cl;try{if(Cl=typeof window<"u"&&window.localStorage!==null,!Cl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Cl=!1}return Cl};var xZ={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&nk())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&nk()&&window.localStorage.setItem(n,t)}};let El=null;const sk=()=>{if(El!==null)return El;try{if(El=typeof window<"u"&&window.sessionStorage!==null,!El)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{El=!1}return El};var wZ={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&sk())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&sk()&&window.sessionStorage.setItem(n,t)}},SZ={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);s&&e.push(s),i&&e.push(i)}return e.length>0?e:void 0}},_Z={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},CZ={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},EZ={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let FD=!1;try{document.cookie,FD=!0}catch{}const HD=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];FD||HD.splice(1,1);const NZ=()=>({order:HD,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class $D{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=pZ(n,this.options||{},NZ()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(yZ),this.addDetector(vZ),this.addDetector(xZ),this.addDetector(wZ),this.addDetector(SZ),this.addDetector(_Z),this.addDetector(CZ),this.addDetector(EZ),this.addDetector(bZ)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(s=>{if(this.detectors[s]){let i=this.detectors[s].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(s=>s!=null&&!mZ(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}$D.type="languageDetector";const jZ={save:"Save",cancel:"Cancel",edit:"Edit",update:"Update",delete:"Delete",active:"Active",inactive:"Inactive",need_help:"Need heelp? Contact support",loading_data:"Loading data...",exit:"Exit",search:"Search...",loading:"Loading",description:"Description",street_address:"Street Address",colony:"Colony",zip_code:"Zip code",city:"City",state:"State",latitude:"Latitude",longitude:"Longitude",logo:"Logo",status:"Status",status_active:"Active",status_inactive:"Inactive",status_suspended:"Suspended",open:"Open",closed:"Closed",dashboard:"Dashboard",price:"Price",about:"About",empty_description:"No description provided.",create:"Create",close:"Close",details:"Details",editing:"Editing",pro_tips:"Pro tips",single:"Single",multi:"Multi",today:"Today",to:"to",copy_all:"Copy all",date:"Date",online:"Online",offline:"Offline",print_receipt:"Print Receipt",confirm:"Confirm",copied_to_clipboard:"Copied to clipboard",go_dashboard:"Go to Dashboard",return_home:"Return Home",select_all:"Select All",deselect_all:"Deselect All",no_description:"No description provided.",save_changes:"Save Changes",save_config:"Save Configuration",saving:"Saving...",search_code:"Search by code...",acceptOrder:"Acept order"},kZ={login:"Login",login_description:"Morelos flavours is an a unique experience located in the center of the Morelos",logout:"Logouts"},OZ={username:"Username",username_placeholder:"Enter your username",password:"Password",password_placeholder:"Enter your password",forgot_password:"Forgot password?",no_items_found:"No items found",change_password:"Change Password",password_description:"Leave blank to keep current password"},LZ={restaurant:"Restaurant",restaurants:"Restaurants",email:"Email address",add:"Add New Restaurant",fields_validation:"Please fill in required fields (Name, Responsible, Address, Zip, City, Description, Email)",validation_select_location:"Please select a location on the map",validation_rfc:"Invalid format for RFC",new:"New restaurant",edit:"Edit restaurant",managing:"Managing",onboard_new:"Onboard a new restaurant",general_information:"General Information",field_name:"Restaurant name",field_owner:"Restaurant owner (user)",field_owner_help:"The user who will manage this restaurant.",select_owner:"Select a owner",price_range:"Price Range",commission_rate:"Commission Rate $",time_preparation:"Time of preparation in minutes (Ej, 30, 40)",preparation_time:"Preparation time",location_and_coordinates:"Location & Coordinates",legal_contact:"Legal & Contact",rfc:"RFC",legal_name:"Legal name",public_phone:"Public phone",private_phone:"Private phone",description:"Manage all the restaurants",empty:"No restaurants found",owner:"Owner",managed_by:"Managed By"},MZ={required_image:"You need to upload an image and logo",upload_logo:"Upload logo",cover_image:"Cover Image",upload_cover:"Upload cover"},DZ={user:"User",description:"Manage team members and permissions",empty:"No users found matching your search.",fields_validation:"Please fill in required fields (Name, Phone, Username)",validation_role:"You must select a role",validation_phone:"Phone number must be at least 10 digits",validation_password:"Password must contain Uppercase, Lowercase, Number, and Symbol",add:"Add New User",edit:"Edit User",update_details_for:"Update details for",create_account:"Create account credentials",personal_information:"Personal Information",first_name:"First name",last_name:"Last name",phone_number:"Phone number",email_address:"Email address",role_and_security:"Role & Security",assigne_restaurant:"Assigne a restaurant",assigne_role:"Assigne a role",select_restaurant:"Selecciona un Restaurante",role_description:"This user is just to have access to local data.",email:"Email address"},TZ={view_as_admin:"Viewing As Admin",back_global:"Back to Global"},AZ={all:"All roles",select_role:"Select a role"},RZ={edit:"Edit Section",menuSections:"Menu sections",description:"Organize your menu categories (e.g. Starters, Drinks)",add:"Add Section",empty:"No sections found. Create one to get started.",visibility_status:"Visibility status",validation_name:"Section name is required",add_description:"Create a category for your menu items",section_name:"Section Name",sort_order:"Sort Order",sort_tips:"Lower numbers appear first (e.g. 0, 1, 2). Use increments of 10 (10, 20, 30) so you can easily insert new sections in between later."},PZ={order:"Order"},IZ={error:"Error",no_active_restaurant:"System Error: No active restaurant selected context.",no_active_restaurant_description:"You are not inside a specific restaurant dashboard. We cannot create a section without knowing which restaurant it belongs to."},BZ={products:"Products",descriptions:"Manage your food items and availability",add:"Add Product",filter_category:"Filter by Category",all_categories:"All Categories",price:"Price",available:"Available",sold_out:"Sold Out",empty:"No products found.",title_add:"Add New Dish",title_edit:"Edit Dish",subtitle_add:"Create a new item for your menu",basic_info:"Basic Information",dish_name:"Dish Name",description:"Description",base_price:"Base Price ($)",category:"Menu Section",modifiers:"Customization & Add-ons",add_group:"Add Group",group_name:"Group Name (e.g. Choose Size)",min_max:"Selection Rules",required:"Required",optional:"Optional",options_list:"Options",add_option:"Add Option",drag_drop_help:"Drag items to reorder",prep_min_time:"Min preparation time",prep_max_time:"Max preparation time",single_opt_help:"Customer picks exactly 1 option.",multi_opt_help:"Customer picks more than 1 option.",max_help:"Max items allowed",extra_price:"Extra price",select_categories:"Select a category",max_quantity:"Max quantity",add_text_option:"Add text option",add_product_option:"Add existing product",select_product:"Select a product",linked_group:"General modifier group",select_from_library:"Select from existing groups",add_modifier:"Add modifier group",edit_modifier:"Edit modifier group",group_linked:"Group linked",group_detached_success:"Group detached! You are now editing a local copy.",cannot_edit_linked_options:"You cannot edit options inside a linked group. Click the pencil icon to edit a copy.",product_already_added:"This product is already in the list.",no_modifiers_yet:"No modifiers added yet.",add_first_group:"Add your first modifier group",detach_title:"Edit Shared Group?",detach_description:"You are about to edit a shared group. This will create a unique copy for this product, disconnecting it from the library. The original group will remain unchanged for other items.",confirm_detach:"Yes, Edit Copy"},UZ={title:"Modifiers group",subtitle:"Create your group modifiers for your products.",validation_error:"Group Name is required",error_min_negative:"Minimum selection cannot be negative",error_max_invalid:"Maximum selection must be at least 1",error_max_low:"Max selection cannot be less than Min selection",error_option_name:"All options must have a name",error_option_price:"Price for '{{name}}' cannot be negative",error_option_qty:"Max Quantity for '{{name}}' must be at least 1",empty_list:"No modifiers yet.",update_main_modifier:"Edit main modifier for all the products"},zZ={title:"Opening Hours",subtitle:"Configure your restaurant's weekly availability",copy_to_all:"Copy to all days",add_hours:"Add Hours",closed:"Closed",open:"Open",days:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},weakly_hours:"Weakly hours",no_shifts_configured:"No shifts configured",schedules_help_text:"Set your opening and closing times for each day. You can add multiple shifts (e.g. Lunch 13:00-16:00 and Dinner 20:00-23:00).",open_until:"Open until",closed_today:"Closed today",add_exception:"Add an exception",special_dates_and_holidays:"Special Dates & Holidays",special_dates_and_holidays_empty:"No special schedules configured. The standard weekly hours will apply.",special_schedule:"Special Schedule",setup_events:"Configure holidays or special events.",validation_past_date:"Cannot select a date in the past.",close_all_day:"Closed All Day",special_hours:"Special Hours",reason:"Reason",set_new_hours:"Set New Hours",validation_hours_later:"Must be later than now",validation_hours_after:"Must be after Open Time",validate_fields:"Your date / time is invalid check it again",currently_closed:"Currently closed"},FZ={title:"Drivers",driver:"Driver",subtitle:"Delivery team management",add:"Add Driver",edit:"Edit Driver",no_drivers:"No drivers found.",search_placeholder:"Search by name, email or phone...",phone:"Phone number (This is required to login in the app)",status:"Status of the driver",select_driver:"Select a driver"},HZ={id:"Order ID",title:"Orders",subtitle:"Manage and track incoming restaurant orders",search_placeholder:"Search by ID or Customer Name...",empty_list:"No orders found matching your criteria.",move_status_to:"Move Status To:",empty_list_description:"Try selecting a different tab or check back later for new orders.",items_count:"Items",discount:"Discount",coupon:"Coupon",totalWithDiscount:"Total order",pickup_code:"Pick up code",items_ordered:"Items Ordered",incomplete_payment:"Incomplete payment",incomplete_payment_amount:"Amount payed",estimated_amount:"Amount",tabs:{all:"All Orders (Actives)",new:"New",cooking:"Cooking",ready:"Ready",active:"Active",completed:"Completed"},status:{pending:"New",new:"New",confirmed:"Confirmed",preparing:"Cooking",cooking:"Cooking",ready:"Ready",on_way:"On Way",delivered:"Delivered",cancelled:"Cancelled",courier_arriving:"Courier arriving",incomplete_payment:"Incomplete payment"},type:{delivery:"Delivery",pickup:"Pickup"},created_success:"Order created successfully",status_updated:"Order status updated",driver_assigned:"Driver assigned successfully",order:"Order",items:"Items",print_receipt:"Print Receipt",pickup_at_restaurant:"Pickup at Restaurant",pickup_point:"Pickup Point",delivery_address:"Delivery Address",no_phone:"No phone provided",guest:"Guest",customer_details:"Customer details",payment_method:"Payment Method",change_for:"Change for",instructions:"Special Instructions",payment_summary:"Payment Summary",kitchen:"Kitchen",delivery:"Delivery",subtotal:"Subtotal",delivery_fee:"Delivery Fee",tip:"Tip",total:"Total",actions:{start_cooking:"Start Cooking",mark_ready:"Mark Ready",send_driver:"Request Driver",complete_order:"Complete Order",mark_delivered:"Mark Delivered"},estimated_time:"Estimated preparation time",assign_driver:"Assign a driver",status_history:"Status history",status_label:"Status",times:"Times",history_user:"User who changed"},$Z={change_status_group:"Change status group",change_status_group_description:"Do you want to update the status? You'll affect all the products with this modifier group.",confirm:"Yes, confirm",delete_group:"Delete group",delete_group_description:"Do you want to delete the group? The group will be removed for all the products linked to this group.",update_modifier:"Edit modifier",update_modifier_description:"Do you want to edit the modifier group? You'll affect all the products with this modifier group including the new or removed options.",update_status:"Edit status",update_status_description:"Do you want to edit the status? You'll affect all the products linked to this.",delete_promotion:"Delete Promotion?",delete_promotion_description:"Are you sure? This promotion will no longer apply to new orders. Past orders will keep the historical record.",delete:"Delete",delete_title:"Delete Coupon?",delete_description:'Are you sure you want to delete the coupon "{{item}}"? This action cannot be undone.'},VZ={verifying_stripe:"Verifying Stripe Status...",moment_please:"This will just take a moment",setup_complete:"All Set!",ready_desc:"Your restaurant is now verified to receive card payments and payouts directly via Stripe.",almost_ready:"Almost Ready",pending_desc:"We need a bit more information to verify your identity. Please complete the Stripe onboarding process.",error_desc:"We're still working on the verification we'll send you an email when is done.",continue_setup:"Complete Setup",session_expired:"Session Expired",expired_desc:"For your security, Stripe links expire after a few minutes of inactivity. You can generate a new link below to continue where you left off.",secure_connection:"Secure Connection 256-bit",generating_link:"Generating secure link...",try_again:"Resume Setup",send_strip_link:"Send Stripe Link"},qZ={title:"Global Cuisines",description:"Manage food categories and cuisines",add_title:"Add New Category",add:"Add Category",add_description:"Define a new global cuisine type for the platform.",edit_title:"Edit Category",search_placeholder:"Search categories or slugs...",empty:"No categories found",field_name:"Category Name",field_icon:"Emoji Icon",field_image_url:"Banner Image URL",validation_name_required:"Category name is required",tips_description:"Emojis load instantly! Use emojis (e.g., ) for quick filter chips and high-quality image URLs for larger search banners.",delete_category:"Delete category",delete_category_description:"Do you want to delete the category? If there are restaurants linked to this category will be removed too.",manage_title:"Manage Cuisines",manage_description:"Select the cuisines that best describe your restaurant to help customers find you.",section_selected:"Active Cuisines",section_available:"Available to Add",no_selection:"No cuisines selected yet.",all_selected:"All available cuisines are already selected!",edit_tooltip:"Edit restaurant cuisines"},GZ={title:"Promotions & Offers",subtitle:"Manage discounts and special campaigns.",add:"New Promotion",search_placeholder:"Search by name or type...",empty:"No promotions found. Create one to boost sales!",add_title:"Create Promotion",add_description:"Configure a new discount campaign for your menu.",edit_title:"Edit Promotion",section_details:"Promotion Details",section_duration:"Duration",section_products:"Applicable Products",field_name:"Promotion Name",field_description:"Description",field_type:"Discount Type",field_value:"Value",field_value_percentage:"Percentage (%)",field_value_amount:"Discount Amount ($)",field_start_date:"Start Date & Time",field_end_date:"End Date & Time",type_percentage:"Percentage Discount",type_fixed:"Fixed Amount Off",type_bogo:"Buy One Get One (2x1)",duration_warning:"Promotions will automatically expire after the end date.",products_helper:"Select the products that will receive this discount.",edit_products_disabled_note:"To apply this promotion to different products, please create a new one.",validation_name_required:"Please enter a name for the promotion.",validation_dates_required:"Start and End dates are required.",validation_dates_invalid:"The end date must be after the start date.",validation_value_negative:"The discount value cannot be negative.",validation_products_required:"You must select at least one product.",status_active:"Active",status_paused:"Paused"},YZ={title:"Restaurant Settings",admin_title:"Admin Configuration",operational_title:"Store Operations",operational_subtitle:"Update your daily settings like delivery fees and opening status.",admin_subtitle:"Managing financial configuration for {{name}}",section_operations:"Daily Operations",section_financials:"Financial Configuration",store_status:"Store Status",store_status_desc:"Turn off to stop receiving new orders immediately.",delivery_fee:"Delivery Fee",delivery_fee_help:"Set to 0 for free delivery promotions.",prep_time:"Prep Time (min)",commission_type:"Commission Type",commission_value:"Commission Value",comm_percentage:"Percentage (%)",comm_fixed:"Fixed Amount ($)",admin_config:"Admin Config"},WZ={title:"Coupons & Promos",subtitle:"Manage discounts and promotional codes.",add:"Create Coupon",edit:"Edit Coupon",add_description:"Create a new discount rule for your customers.",edit_description:"Modify existing coupon details.",empty:"No coupons found. Create one to get started!",no_description:"No description provided",section_general:"General Information",section_rules:"Discount Rules",section_validity:"Validity Period",section_limits:"Usage Limits",code:"Coupon Code",code_help:"Unique code users will enter (e.g. SAVE20)",description:"Description",description_placeholder:"Internal note or customer facing description...",discount_type:"Discount Type",type_percentage:"Percentage (%)",type_fixed:"Fixed Amount ($)",type_free_shipping:"Free Shipping",discount_value:"Discount Value",min_order:"Min. Order Amount",min_order_help:"Minimum subtotal required to apply.",max_discount:"Max Discount",max_discount_help:"Cap the discount amount (for % types).",start_date:"Start Date",end_date:"End Date",limit_global:"Total Usage Limit",limit_global_help:"Max times this coupon can be used in total.",limit_user:"Limit Per User",limit_user_help:"Max times a single user can use this.",scope:{global:"Global (Platform)",restaurant:"Restaurant Only",referral:"Referral Code"}},QZ={required:"This field is required",min_length:"Must be at least {{min}} characters"},KZ={platform_debt:"Platform Debt",total_debt:"Total Debt",platform_debt_description:"Amount owed to the platform from unpaid orders or fees.",total_revenue:"Total Revenue",revenue_description:"Total revenue generated from orders before fees and discounts.",total_orders:"Total Orders",generate_payment_link:"Generate Payment Link",sections:{platform:"Platform Summary",financial:"Financial Overview",orders:"Orders & Products"},card_revenue:"Card revenue ",cash_revenue:"Cash revenue",total_refunded:"Total refunded"},XZ={payment_success:"Your stripe payment to the platform was successful!",payment_success_desc:"If you have any questions about it please contact support",payment_status:"Payment status",verified:"Verified",not_verified:"Not verified",payment_failure:"Stripe payment failed",payment_failure_desc:"There was an issue verifying your payment, please contact support for assistance."},ZZ={common:jZ,login:kZ,forms:OZ,restaurants:LZ,images:MZ,users:DZ,dashboard:TZ,roles:AZ,menuSections:RZ,order:PZ,erros:IZ,products:BZ,modifiers:UZ,schedules:zZ,drivers:FZ,orders:HZ,confirm_modal:$Z,payments:VZ,categories:qZ,promotions:GZ,settings:YZ,coupons:WZ,validation:QZ,statistics:KZ,stripe:XZ},JZ={save:"Guardar",cancel:"Cancelar",edit:"Edit",delete:"Delete",status:"Status",active:"Active",inactive:"Inactive",need_help:"Need heelp? Contact support"},eJ={login:"Iniciar sesion",login_description:"Morelos flavours is an a unique experience located in the center of the Morelos"},tJ={username:"Usuario",password:"Contrasena",forgot_password:"Forgot password?"},nJ={common:JZ,login:eJ,forms:tJ};os.use($D).use(lU).init({resources:{en:{translation:ZZ},es:{translation:nJ}},fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});cR.createRoot(document.getElementById("root")).render(d.jsx(w.StrictMode,{children:d.jsx(u3,{client:dZ,children:d.jsx(uZ,{})})}));
